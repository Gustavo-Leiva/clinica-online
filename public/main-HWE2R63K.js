var pM=Object.create;var Tg=Object.defineProperty,mM=Object.defineProperties,gM=Object.getOwnPropertyDescriptor,vM=Object.getOwnPropertyDescriptors,yM=Object.getOwnPropertyNames,Vb=Object.getOwnPropertySymbols,jb=Object.getPrototypeOf,Bb=Object.prototype.hasOwnProperty,_M=Object.prototype.propertyIsEnumerable,wM=Reflect.get;var Ub=(t,e,n)=>e in t?Tg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q=(t,e)=>{for(var n in e||={})Bb.call(e,n)&&Ub(t,n,e[n]);if(Vb)for(var n of Vb(e))_M.call(e,n)&&Ub(t,n,e[n]);return t},ge=(t,e)=>mM(t,vM(e));var EM=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var bM=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of yM(e))!Bb.call(t,i)&&i!==n&&Tg(t,i,{get:()=>e[i],enumerable:!(r=gM(e,i))||r.enumerable});return t};var IM=(t,e,n)=>(n=t!=null?pM(jb(t)):{},bM(e||!t||!t.__esModule?Tg(n,"default",{value:t,enumerable:!0}):n,t));var Ki=(t,e,n)=>wM(jb(t),n,e);var D=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(d){i(d)}},s=l=>{try{a(n.throw(l))}catch(d){i(d)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())});var xS=EM((kr,N_)=>{"use strict";(function(t,e){typeof kr=="object"&&typeof N_<"u"?N_.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(kr,function(){"use strict";function t(u,h,v){if(typeof u=="function"?u===h:u.has(h))return arguments.length<3?h:v;throw new TypeError("Private element is not present on this object")}function e(u,h){if(h.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(u,h){return u.get(t(u,h))}function r(u,h,v){e(u,h),h.set(u,v)}function i(u,h,v){return u.set(t(u,h),v),v}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},l=u=>new Promise(h=>{if(!u)return h();let v=window.scrollX,w=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),h()},o),window.scrollTo(v,w)}),d="swal2-",m=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((u,h)=>(u[h]=d+h,u),{}),b=["success","warning","info","question","error"].reduce((u,h)=>(u[h]=d+h,u),{}),A="SweetAlert2:",j=u=>u.charAt(0).toUpperCase()+u.slice(1),L=u=>{console.warn(`${A} ${typeof u=="object"?u.join(" "):u}`)},$=u=>{console.error(`${A} ${u}`)},J=[],X=u=>{J.includes(u)||(J.push(u),L(u))},re=function(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;X(`"${u}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},Ne=u=>typeof u=="function"?u():u,ae=u=>u&&typeof u.toPromise=="function",x=u=>ae(u)?u.toPromise():Promise.resolve(u),C=u=>u&&Promise.resolve(u)===u,T=()=>document.body.querySelector(`.${m.container}`),R=u=>{let h=T();return h?h.querySelector(u):null},M=u=>R(`.${u}`),N=()=>M(m.popup),S=()=>M(m.icon),qn=()=>M(m["icon-content"]),Ri=()=>M(m.title),zc=()=>M(m["html-container"]),Pi=()=>M(m.image),Yr=()=>M(m["progress-steps"]),Mi=()=>M(m["validation-message"]),gn=()=>R(`.${m.actions} .${m.confirm}`),Ni=()=>R(`.${m.actions} .${m.cancel}`),zt=()=>R(`.${m.actions} .${m.deny}`),Rt=()=>M(m["input-label"]),Oi=()=>R(`.${m.loader}`),Gn=()=>M(m.actions),od=()=>M(m.footer),mr=()=>M(m["timer-progress-bar"]),qc=()=>M(m.close),ag=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ki=()=>{let u=N();if(!u)return[];let h=u.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),v=Array.from(h).sort((W,we)=>{let Oe=parseInt(W.getAttribute("tabindex")||"0"),ot=parseInt(we.getAttribute("tabindex")||"0");return Oe>ot?1:Oe<ot?-1:0}),w=u.querySelectorAll(ag),F=Array.from(w).filter(W=>W.getAttribute("tabindex")!=="-1");return[...new Set(v.concat(F))].filter(W=>Ut(W))},Fi=()=>vn(document.body,m.shown)&&!vn(document.body,m["toast-shown"])&&!vn(document.body,m["no-backdrop"]),Li=()=>{let u=N();return u?vn(u,m.toast):!1},Gc=()=>{let u=N();return u?u.hasAttribute("data-loading"):!1},Vt=(u,h)=>{if(u.textContent="",h){let w=new DOMParser().parseFromString(h,"text/html"),F=w.querySelector("head");F&&Array.from(F.childNodes).forEach(we=>{u.appendChild(we)});let W=w.querySelector("body");W&&Array.from(W.childNodes).forEach(we=>{we instanceof HTMLVideoElement||we instanceof HTMLAudioElement?u.appendChild(we.cloneNode(!0)):u.appendChild(we)})}},vn=(u,h)=>{if(!h)return!1;let v=h.split(/\s+/);for(let w=0;w<v.length;w++)if(!u.classList.contains(v[w]))return!1;return!0},sd=(u,h)=>{Array.from(u.classList).forEach(v=>{!Object.values(m).includes(v)&&!Object.values(b).includes(v)&&!Object.values(h.showClass||{}).includes(v)&&u.classList.remove(v)})},qt=(u,h,v)=>{if(sd(u,h),!h.customClass)return;let w=h.customClass[v];if(w){if(typeof w!="string"&&!w.forEach){L(`Invalid type of customClass.${v}! Expected string or iterable object, got "${typeof w}"`);return}De(u,w)}},Gs=(u,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return u.querySelector(`.${m.popup} > .${m[h]}`);case"checkbox":return u.querySelector(`.${m.popup} > .${m.checkbox} input`);case"radio":return u.querySelector(`.${m.popup} > .${m.radio} input:checked`)||u.querySelector(`.${m.popup} > .${m.radio} input:first-child`);case"range":return u.querySelector(`.${m.popup} > .${m.range} input`);default:return u.querySelector(`.${m.popup} > .${m.input}`)}},Wc=u=>{if(u.focus(),u.type!=="file"){let h=u.value;u.value="",u.value=h}},Kc=(u,h,v)=>{!u||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(w=>{Array.isArray(u)?u.forEach(F=>{v?F.classList.add(w):F.classList.remove(w)}):v?u.classList.add(w):u.classList.remove(w)}))},De=(u,h)=>{Kc(u,h,!0)},yn=(u,h)=>{Kc(u,h,!1)},gr=(u,h)=>{let v=Array.from(u.children);for(let w=0;w<v.length;w++){let F=v[w];if(F instanceof HTMLElement&&vn(F,h))return F}},Wn=(u,h,v)=>{v===`${parseInt(v)}`&&(v=parseInt(v)),v||parseInt(v)===0?u.style.setProperty(h,typeof v=="number"?`${v}px`:v):u.style.removeProperty(h)},ct=function(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";u&&(u.style.display=h)},gt=u=>{u&&(u.style.display="none")},vt=function(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";u&&new MutationObserver(()=>{vr(u,u.innerHTML,h)}).observe(u,{childList:!0,subtree:!0})},Pt=(u,h,v,w)=>{let F=u.querySelector(h);F&&F.style.setProperty(v,w)},vr=function(u,h){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?ct(u,v):gt(u)},Ut=u=>!!(u&&(u.offsetWidth||u.offsetHeight||u.getClientRects().length)),ad=()=>!Ut(gn())&&!Ut(zt())&&!Ut(Ni()),cd=u=>u.scrollHeight>u.clientHeight,Vi=u=>{let h=window.getComputedStyle(u),v=parseFloat(h.getPropertyValue("animation-duration")||"0"),w=parseFloat(h.getPropertyValue("transition-duration")||"0");return v>0||w>0},Ws=function(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=mr();v&&Ut(v)&&(h&&(v.style.transition="none",v.style.width="100%"),setTimeout(()=>{v.style.transition=`width ${u/1e3}s linear`,v.style.width="0%"},10))},ld=()=>{let u=mr();if(!u)return;let h=parseInt(window.getComputedStyle(u).width);u.style.removeProperty("transition"),u.style.width="100%";let v=parseInt(window.getComputedStyle(u).width),w=h/v*100;u.style.width=`${w}%`},Qc=()=>typeof window>"u"||typeof document>"u",cg=`
 <div aria-labelledby="${m.title}" aria-describedby="${m["html-container"]}" class="${m.popup}" tabindex="-1">
   <button type="button" class="${m.close}"></button>
   <ul class="${m["progress-steps"]}"></ul>
   <div class="${m.icon}"></div>
   <img class="${m.image}" />
   <h2 class="${m.title}" id="${m.title}"></h2>
   <div class="${m["html-container"]}" id="${m["html-container"]}"></div>
   <input class="${m.input}" id="${m.input}" />
   <input type="file" class="${m.file}" />
   <div class="${m.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${m.select}" id="${m.select}"></select>
   <div class="${m.radio}"></div>
   <label class="${m.checkbox}">
     <input type="checkbox" id="${m.checkbox}" />
     <span class="${m.label}"></span>
   </label>
   <textarea class="${m.textarea}" id="${m.textarea}"></textarea>
   <div class="${m["validation-message"]}" id="${m["validation-message"]}"></div>
   <div class="${m.actions}">
     <div class="${m.loader}"></div>
     <button type="button" class="${m.confirm}"></button>
     <button type="button" class="${m.deny}"></button>
     <button type="button" class="${m.cancel}"></button>
   </div>
   <div class="${m.footer}"></div>
   <div class="${m["timer-progress-bar-container"]}">
     <div class="${m["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),lg=()=>{let u=T();return u?(u.remove(),yn([document.documentElement,document.body],[m["no-backdrop"],m["toast-shown"],m["has-column"]]),!0):!1},Kn=()=>{s.currentInstance.resetValidationMessage()},ud=()=>{let u=N(),h=gr(u,m.input),v=gr(u,m.file),w=u.querySelector(`.${m.range} input`),F=u.querySelector(`.${m.range} output`),W=gr(u,m.select),we=u.querySelector(`.${m.checkbox} input`),Oe=gr(u,m.textarea);h.oninput=Kn,v.onchange=Kn,W.onchange=Kn,we.onchange=Kn,Oe.oninput=Kn,w.oninput=()=>{Kn(),F.value=w.value},w.onchange=()=>{Kn(),F.value=w.value}},dd=u=>typeof u=="string"?document.querySelector(u):u,Mo=u=>{let h=N();h.setAttribute("role",u.toast?"alert":"dialog"),h.setAttribute("aria-live",u.toast?"polite":"assertive"),u.toast||h.setAttribute("aria-modal","true")},Yc=u=>{window.getComputedStyle(u).direction==="rtl"&&De(T(),m.rtl)},Zc=u=>{let h=lg();if(Qc()){$("SweetAlert2 requires document to initialize");return}let v=document.createElement("div");v.className=m.container,h&&De(v,m["no-transition"]),Vt(v,cg);let w=dd(u.target);w.appendChild(v),Mo(u),Yc(w),ud()},Qn=(u,h)=>{u instanceof HTMLElement?h.appendChild(u):typeof u=="object"?hd(u,h):u&&Vt(h,u)},hd=(u,h)=>{u.jquery?Ks(h,u):Vt(h,u.toString())},Ks=(u,h)=>{if(u.textContent="",0 in h)for(let v=0;v in h;v++)u.appendChild(h[v].cloneNode(!0));else u.appendChild(h.cloneNode(!0))},fd=(u,h)=>{let v=Gn(),w=Oi();!v||!w||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?gt(v):ct(v),qt(v,h,"actions"),No(v,w,h),Vt(w,h.loaderHtml||""),qt(w,h,"loader"))};function No(u,h,v){let w=gn(),F=zt(),W=Ni();!w||!F||!W||(Dt(w,"confirm",v),Dt(F,"deny",v),Dt(W,"cancel",v),pd(w,F,W,v),v.reverseButtons&&(v.toast?(u.insertBefore(W,w),u.insertBefore(F,w)):(u.insertBefore(W,h),u.insertBefore(F,h),u.insertBefore(w,h))))}function pd(u,h,v,w){if(!w.buttonsStyling){yn([u,h,v],m.styled);return}De([u,h,v],m.styled),w.confirmButtonColor&&(u.style.backgroundColor=w.confirmButtonColor,De(u,m["default-outline"])),w.denyButtonColor&&(h.style.backgroundColor=w.denyButtonColor,De(h,m["default-outline"])),w.cancelButtonColor&&(v.style.backgroundColor=w.cancelButtonColor,De(v,m["default-outline"]))}function Dt(u,h,v){let w=j(h);vr(u,v[`show${w}Button`],"inline-block"),Vt(u,v[`${h}ButtonText`]||""),u.setAttribute("aria-label",v[`${h}ButtonAriaLabel`]||""),u.className=m[h],qt(u,v,`${h}Button`)}let md=(u,h)=>{let v=qc();v&&(Vt(v,h.closeButtonHtml||""),qt(v,h,"closeButton"),vr(v,h.showCloseButton),v.setAttribute("aria-label",h.closeButtonAriaLabel||""))},Oo=(u,h)=>{let v=T();v&&(ko(v,h.backdrop),ug(v,h.position),dg(v,h.grow),qt(v,h,"container"))};function ko(u,h){typeof h=="string"?u.style.background=h:h||De([document.documentElement,document.body],m["no-backdrop"])}function ug(u,h){h&&(h in m?De(u,m[h]):(L('The "position" parameter is not valid, defaulting to "center"'),De(u,m.center)))}function dg(u,h){h&&De(u,m[`grow-${h}`])}var Le={innerParams:new WeakMap,domCache:new WeakMap};let hg=["input","file","range","select","radio","checkbox","textarea"],fg=(u,h)=>{let v=N();if(!v)return;let w=Le.innerParams.get(u),F=!w||h.input!==w.input;hg.forEach(W=>{let we=gr(v,m[W]);we&&(Jc(W,h.inputAttributes),we.className=m[W],F&&gt(we))}),h.input&&(F&&Qs(h),Ys(h))},Qs=u=>{if(!u.input)return;if(!Xe[u.input]){$(`Unexpected type of input! Expected ${Object.keys(Xe).join(" | ")}, got "${u.input}"`);return}let h=Xc(u.input);if(!h)return;let v=Xe[u.input](h,u);ct(h),u.inputAutoFocus&&setTimeout(()=>{Wc(v)})},gd=u=>{for(let h=0;h<u.attributes.length;h++){let v=u.attributes[h].name;["id","type","value","style"].includes(v)||u.removeAttribute(v)}},Jc=(u,h)=>{let v=N();if(!v)return;let w=Gs(v,u);if(w){gd(w);for(let F in h)w.setAttribute(F,h[F])}},Ys=u=>{if(!u.input)return;let h=Xc(u.input);h&&qt(h,u,"input")},An=(u,h)=>{!u.placeholder&&h.inputPlaceholder&&(u.placeholder=h.inputPlaceholder)},Ui=(u,h,v)=>{if(v.inputLabel){let w=document.createElement("label"),F=m["input-label"];w.setAttribute("for",u.id),w.className=F,typeof v.customClass=="object"&&De(w,v.customClass.inputLabel),w.innerText=v.inputLabel,h.insertAdjacentElement("beforebegin",w)}},Xc=u=>{let h=N();if(h)return gr(h,m[u]||m.input)},ji=(u,h)=>{["string","number"].includes(typeof h)?u.value=`${h}`:C(h)||L(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Xe={};Xe.text=Xe.email=Xe.password=Xe.number=Xe.tel=Xe.url=Xe.search=Xe.date=Xe["datetime-local"]=Xe.time=Xe.week=Xe.month=(u,h)=>(ji(u,h.inputValue),Ui(u,u,h),An(u,h),u.type=h.input,u),Xe.file=(u,h)=>(Ui(u,u,h),An(u,h),u),Xe.range=(u,h)=>{let v=u.querySelector("input"),w=u.querySelector("output");return ji(v,h.inputValue),v.type=h.input,ji(w,h.inputValue),Ui(v,u,h),u},Xe.select=(u,h)=>{if(u.textContent="",h.inputPlaceholder){let v=document.createElement("option");Vt(v,h.inputPlaceholder),v.value="",v.disabled=!0,v.selected=!0,u.appendChild(v)}return Ui(u,u,h),u},Xe.radio=u=>(u.textContent="",u),Xe.checkbox=(u,h)=>{let v=Gs(N(),"checkbox");v.value="1",v.checked=!!h.inputValue;let w=u.querySelector("span");return Vt(w,h.inputPlaceholder||h.inputLabel),v},Xe.textarea=(u,h)=>{ji(u,h.inputValue),An(u,h),Ui(u,u,h);let v=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let w=parseInt(window.getComputedStyle(N()).width),F=()=>{if(!document.body.contains(u))return;let W=u.offsetWidth+v(u);W>w?N().style.width=`${W}px`:Wn(N(),"width",h.width)};new MutationObserver(F).observe(u,{attributes:!0,attributeFilter:["style"]})}}),u};let vd=(u,h)=>{let v=zc();v&&(vt(v),qt(v,h,"htmlContainer"),h.html?(Qn(h.html,v),ct(v,"block")):h.text?(v.textContent=h.text,ct(v,"block")):gt(v),fg(u,h))},yd=(u,h)=>{let v=od();v&&(vt(v),vr(v,h.footer,"block"),h.footer&&Qn(h.footer,v),qt(v,h,"footer"))},pg=(u,h)=>{let v=Le.innerParams.get(u),w=S();if(w){if(v&&h.icon===v.icon){yr(w,h),Fo(w,h);return}if(!h.icon&&!h.iconHtml){gt(w);return}if(h.icon&&Object.keys(b).indexOf(h.icon)===-1){$(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),gt(w);return}ct(w),yr(w,h),Fo(w,h),De(w,h.showClass&&h.showClass.icon)}},Fo=(u,h)=>{for(let[v,w]of Object.entries(b))h.icon!==v&&yn(u,w);De(u,h.icon&&b[h.icon]),tl(u,h),_d(),qt(u,h,"icon")},_d=()=>{let u=N();if(!u)return;let h=window.getComputedStyle(u).getPropertyValue("background-color"),v=u.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<v.length;w++)v[w].style.backgroundColor=h},el=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Lo=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,yr=(u,h)=>{if(!h.icon&&!h.iconHtml)return;let v=u.innerHTML,w="";h.iconHtml?w=wd(h.iconHtml):h.icon==="success"?(w=el,v=v.replace(/ style=".*?"/g,"")):h.icon==="error"?w=Lo:h.icon&&(w=wd({question:"?",warning:"!",info:"i"}[h.icon])),v.trim()!==w.trim()&&Vt(u,w)},tl=(u,h)=>{if(h.iconColor){u.style.color=h.iconColor,u.style.borderColor=h.iconColor;for(let v of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Pt(u,v,"background-color",h.iconColor);Pt(u,".swal2-success-ring","border-color",h.iconColor)}},wd=u=>`<div class="${m["icon-content"]}">${u}</div>`,Ed=(u,h)=>{let v=Pi();if(v){if(!h.imageUrl){gt(v);return}ct(v,""),v.setAttribute("src",h.imageUrl),v.setAttribute("alt",h.imageAlt||""),Wn(v,"width",h.imageWidth),Wn(v,"height",h.imageHeight),v.className=m.image,qt(v,h,"image")}},bd=(u,h)=>{let v=T(),w=N();if(!(!v||!w)){if(h.toast){Wn(v,"width",h.width),w.style.width="100%";let F=Oi();F&&w.insertBefore(F,S())}else Wn(w,"width",h.width);Wn(w,"padding",h.padding),h.color&&(w.style.color=h.color),h.background&&(w.style.background=h.background),gt(Mi()),Id(w,h)}},Id=(u,h)=>{let v=h.showClass||{};u.className=`${m.popup} ${Ut(u)?v.popup:""}`,h.toast?(De([document.documentElement,document.body],m["toast-shown"]),De(u,m.toast)):De(u,m.modal),qt(u,h,"popup"),typeof h.customClass=="string"&&De(u,h.customClass),h.icon&&De(u,m[`icon-${h.icon}`])},nl=(u,h)=>{let v=Yr();if(!v)return;let{progressSteps:w,currentProgressStep:F}=h;if(!w||w.length===0||F===void 0){gt(v);return}ct(v),v.textContent="",F>=w.length&&L("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach((W,we)=>{let Oe=rl(W);if(v.appendChild(Oe),we===F&&De(Oe,m["active-progress-step"]),we!==w.length-1){let ot=Cd(h);v.appendChild(ot)}})},rl=u=>{let h=document.createElement("li");return De(h,m["progress-step"]),Vt(h,u),h},Cd=u=>{let h=document.createElement("li");return De(h,m["progress-step-line"]),u.progressStepsDistance&&Wn(h,"width",u.progressStepsDistance),h},Dd=(u,h)=>{let v=Ri();v&&(vt(v),vr(v,h.title||h.titleText,"block"),h.title&&Qn(h.title,v),h.titleText&&(v.innerText=h.titleText),qt(v,h,"title"))},Td=(u,h)=>{bd(u,h),Oo(u,h),nl(u,h),pg(u,h),Ed(u,h),Dd(u,h),md(u,h),vd(u,h),fd(u,h),yd(u,h);let v=N();typeof h.didRender=="function"&&v&&h.didRender(v),s.eventEmitter.emit("didRender",v)},mg=()=>Ut(N()),il=()=>{var u;return(u=gn())===null||u===void 0?void 0:u.click()},Sd=()=>{var u;return(u=zt())===null||u===void 0?void 0:u.click()},gg=()=>{var u;return(u=Ni())===null||u===void 0?void 0:u.click()},an=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),xn=u=>{u.keydownTarget&&u.keydownHandlerAdded&&(u.keydownTarget.removeEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!1)},Zs=(u,h,v)=>{xn(u),h.toast||(u.keydownHandler=w=>Js(h,w,v),u.keydownTarget=h.keydownListenerCapture?window:N(),u.keydownListenerCapture=h.keydownListenerCapture,u.keydownTarget.addEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!0)},Bi=(u,h)=>{var v;let w=ki();if(w.length){u=u+h,u===w.length?u=0:u===-1&&(u=w.length-1),w[u].focus();return}(v=N())===null||v===void 0||v.focus()},ol=["ArrowRight","ArrowDown"],Qe=["ArrowLeft","ArrowUp"],Js=(u,h,v)=>{u&&(h.isComposing||h.keyCode===229||(u.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?Vo(h,u):h.key==="Tab"?Uo(h):[...ol,...Qe].includes(h.key)?vg(h.key):h.key==="Escape"&&Ad(h,u,v)))},Vo=(u,h)=>{if(!Ne(h.allowEnterKey))return;let v=Gs(N(),h.input);if(u.target&&v&&u.target instanceof HTMLElement&&u.target.outerHTML===v.outerHTML){if(["textarea","file"].includes(h.input))return;il(),u.preventDefault()}},Uo=u=>{let h=u.target,v=ki(),w=-1;for(let F=0;F<v.length;F++)if(h===v[F]){w=F;break}u.shiftKey?Bi(w,-1):Bi(w,1),u.stopPropagation(),u.preventDefault()},vg=u=>{let h=Gn(),v=gn(),w=zt(),F=Ni();if(!h||!v||!w||!F)return;let W=[v,w,F];if(document.activeElement instanceof HTMLElement&&!W.includes(document.activeElement))return;let we=ol.includes(u)?"nextElementSibling":"previousElementSibling",Oe=document.activeElement;if(Oe){for(let ot=0;ot<h.children.length;ot++){if(Oe=Oe[we],!Oe)return;if(Oe instanceof HTMLButtonElement&&Ut(Oe))break}Oe instanceof HTMLButtonElement&&Oe.focus()}},Ad=(u,h,v)=>{Ne(h.allowEscapeKey)&&(u.preventDefault(),v(an.esc))};var $i={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let yg=()=>{let u=T();Array.from(document.body.children).forEach(v=>{v.contains(u)||(v.hasAttribute("aria-hidden")&&v.setAttribute("data-previous-aria-hidden",v.getAttribute("aria-hidden")||""),v.setAttribute("aria-hidden","true"))})},xd=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Rd=typeof window<"u"&&!!window.GestureEvent,jo=()=>{if(Rd&&!vn(document.body,m.iosfix)){let u=document.body.scrollTop;document.body.style.top=`${u*-1}px`,De(document.body,m.iosfix),_r()}},_r=()=>{let u=T();if(!u)return;let h;u.ontouchstart=v=>{h=Pd(v)},u.ontouchmove=v=>{h&&(v.preventDefault(),v.stopPropagation())}},Pd=u=>{let h=u.target,v=T(),w=zc();return!v||!w||Md(u)||Nd(u)?!1:h===v||!cd(v)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(cd(w)&&w.contains(h))},Md=u=>u.touches&&u.touches.length&&u.touches[0].touchType==="stylus",Nd=u=>u.touches&&u.touches.length>1,Hi=()=>{if(vn(document.body,m.iosfix)){let u=parseInt(document.body.style.top,10);yn(document.body,m.iosfix),document.body.style.top="",document.body.scrollTop=u*-1}},_g=()=>{let u=document.createElement("div");u.className=m["scrollbar-measure"],document.body.appendChild(u);let h=u.getBoundingClientRect().width-u.clientWidth;return document.body.removeChild(u),h},zi=null,wg=u=>{zi===null&&(document.body.scrollHeight>window.innerHeight||u==="scroll")&&(zi=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${zi+_g()}px`)},wr=()=>{zi!==null&&(document.body.style.paddingRight=`${zi}px`,zi=null)};function Od(u,h,v,w){Li()?et(u,w):(l(v).then(()=>et(u,w)),xn(s)),Rd?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),Fi()&&(wr(),Hi(),xd()),Eg()}function Eg(){yn([document.documentElement,document.body],[m.shown,m["height-auto"],m["no-backdrop"],m["toast-shown"]])}function cn(u){u=Bo(u);let h=$i.swalPromiseResolve.get(this),v=Xs(this);this.isAwaitingPromise?u.isDismissed||(Yn(this),h(u)):v&&h(u)}let Xs=u=>{let h=N();if(!h)return!1;let v=Le.innerParams.get(u);if(!v||vn(h,v.hideClass.popup))return!1;yn(h,v.showClass.popup),De(h,v.hideClass.popup);let w=T();return yn(w,v.showClass.backdrop),De(w,v.hideClass.backdrop),kd(u,h,v),!0};function sl(u){let h=$i.swalPromiseReject.get(this);Yn(this),h&&h(u)}let Yn=u=>{u.isAwaitingPromise&&(delete u.isAwaitingPromise,Le.innerParams.get(u)||u._destroy())},Bo=u=>typeof u>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},u),kd=(u,h,v)=>{var w;let F=T(),W=Vi(h);typeof v.willClose=="function"&&v.willClose(h),(w=s.eventEmitter)===null||w===void 0||w.emit("willClose",h),W?al(u,h,F,v.returnFocus,v.didClose):Od(u,F,v.returnFocus,v.didClose)},al=(u,h,v,w,F)=>{s.swalCloseEventFinishedCallback=Od.bind(null,u,v,w,F);let W=function(we){if(we.target===h){var Oe;(Oe=s.swalCloseEventFinishedCallback)===null||Oe===void 0||Oe.call(s),delete s.swalCloseEventFinishedCallback,h.removeEventListener("animationend",W),h.removeEventListener("transitionend",W)}};h.addEventListener("animationend",W),h.addEventListener("transitionend",W)},et=(u,h)=>{setTimeout(()=>{var v;typeof h=="function"&&h.bind(u.params)(),(v=s.eventEmitter)===null||v===void 0||v.emit("didClose"),u._destroy&&u._destroy()})},qi=u=>{let h=N();if(h||new Yd,h=N(),!h)return;let v=Oi();Li()?gt(S()):bg(h,u),ct(v),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},bg=(u,h)=>{let v=Gn(),w=Oi();!v||!w||(!h&&Ut(gn())&&(h=gn()),ct(v),h&&(gt(h),w.setAttribute("data-button-to-replace",h.className),v.insertBefore(w,h)),De([u,v],m.loading))},Fd=(u,h)=>{h.input==="select"||h.input==="radio"?Zn(u,h):["text","email","number","tel","textarea"].some(v=>v===h.input)&&(ae(h.inputValue)||C(h.inputValue))&&(qi(gn()),jd(u,h))},Ld=(u,h)=>{let v=u.getInput();if(!v)return null;switch(h.input){case"checkbox":return Vd(v);case"radio":return ea(v);case"file":return Ud(v);default:return h.inputAutoTrim?v.value.trim():v.value}},Vd=u=>u.checked?1:0,ea=u=>u.checked?u.value:null,Ud=u=>u.files&&u.files.length?u.getAttribute("multiple")!==null?u.files:u.files[0]:null,Zn=(u,h)=>{let v=N();if(!v)return;let w=F=>{h.input==="select"?Ig(v,Ho(F),h):h.input==="radio"&&$o(v,Ho(F),h)};ae(h.inputOptions)||C(h.inputOptions)?(qi(gn()),x(h.inputOptions).then(F=>{u.hideLoading(),w(F)})):typeof h.inputOptions=="object"?w(h.inputOptions):$(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},jd=(u,h)=>{let v=u.getInput();v&&(gt(v),x(h.inputValue).then(w=>{v.value=h.input==="number"?`${parseFloat(w)||0}`:`${w}`,ct(v),v.focus(),u.hideLoading()}).catch(w=>{$(`Error in inputValue promise: ${w}`),v.value="",ct(v),v.focus(),u.hideLoading()}))};function Ig(u,h,v){let w=gr(u,m.select);if(!w)return;let F=(W,we,Oe)=>{let ot=document.createElement("option");ot.value=Oe,Vt(ot,we),ot.selected=ta(Oe,v.inputValue),W.appendChild(ot)};h.forEach(W=>{let we=W[0],Oe=W[1];if(Array.isArray(Oe)){let ot=document.createElement("optgroup");ot.label=we,ot.disabled=!1,w.appendChild(ot),Oe.forEach(oa=>F(ot,oa[1],oa[0]))}else F(w,Oe,we)}),w.focus()}function $o(u,h,v){let w=gr(u,m.radio);if(!w)return;h.forEach(W=>{let we=W[0],Oe=W[1],ot=document.createElement("input"),oa=document.createElement("label");ot.type="radio",ot.name=m.radio,ot.value=we,ta(we,v.inputValue)&&(ot.checked=!0);let Dg=document.createElement("span");Vt(Dg,Oe),Dg.className=m.label,oa.appendChild(ot),oa.appendChild(Dg),w.appendChild(oa)});let F=w.querySelectorAll("input");F.length&&F[0].focus()}let Ho=u=>{let h=[];return u instanceof Map?u.forEach((v,w)=>{let F=v;typeof F=="object"&&(F=Ho(F)),h.push([w,F])}):Object.keys(u).forEach(v=>{let w=u[v];typeof w=="object"&&(w=Ho(w)),h.push([v,w])}),h},ta=(u,h)=>!!h&&h.toString()===u.toString(),na=u=>{let h=Le.innerParams.get(u);u.disableButtons(),h.input?$d(u,"confirm"):zo(u,!0)},Bd=u=>{let h=Le.innerParams.get(u);u.disableButtons(),h.returnInputValueOnDeny?$d(u,"deny"):Zr(u,!1)},ra=(u,h)=>{u.disableButtons(),h(an.cancel)},$d=(u,h)=>{let v=Le.innerParams.get(u);if(!v.input){$(`The "input" parameter is needed to be set when using returnInputValueOn${j(h)}`);return}let w=u.getInput(),F=Ld(u,v);v.inputValidator?Hd(u,F,h):w&&!w.checkValidity()?(u.enableButtons(),u.showValidationMessage(v.validationMessage||w.validationMessage)):h==="deny"?Zr(u,F):zo(u,F)},Hd=(u,h,v)=>{let w=Le.innerParams.get(u);u.disableInput(),Promise.resolve().then(()=>x(w.inputValidator(h,w.validationMessage))).then(W=>{u.enableButtons(),u.enableInput(),W?u.showValidationMessage(W):v==="deny"?Zr(u,h):zo(u,h)})},Zr=(u,h)=>{let v=Le.innerParams.get(u||void 0);v.showLoaderOnDeny&&qi(zt()),v.preDeny?(u.isAwaitingPromise=!0,Promise.resolve().then(()=>x(v.preDeny(h,v.validationMessage))).then(F=>{F===!1?(u.hideLoading(),Yn(u)):u.close({isDenied:!0,value:typeof F>"u"?h:F})}).catch(F=>ll(u||void 0,F))):u.close({isDenied:!0,value:h})},cl=(u,h)=>{u.close({isConfirmed:!0,value:h})},ll=(u,h)=>{u.rejectPromise(h)},zo=(u,h)=>{let v=Le.innerParams.get(u||void 0);v.showLoaderOnConfirm&&qi(),v.preConfirm?(u.resetValidationMessage(),u.isAwaitingPromise=!0,Promise.resolve().then(()=>x(v.preConfirm(h,v.validationMessage))).then(F=>{Ut(Mi())||F===!1?(u.hideLoading(),Yn(u)):cl(u,typeof F>"u"?h:F)}).catch(F=>ll(u||void 0,F))):cl(u,h)};function Gi(){let u=Le.innerParams.get(this);if(!u)return;let h=Le.domCache.get(this);gt(h.loader),Li()?u.icon&&ct(S()):zd(h),yn([h.popup,h.actions],m.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let zd=u=>{let h=u.popup.getElementsByClassName(u.loader.getAttribute("data-button-to-replace"));h.length?ct(h[0],"inline-block"):ad()&&gt(u.actions)};function qo(){let u=Le.innerParams.get(this),h=Le.domCache.get(this);return h?Gs(h.popup,u.input):null}function ul(u,h,v){let w=Le.domCache.get(u);h.forEach(F=>{w[F].disabled=v})}function dl(u,h){let v=N();if(!(!v||!u))if(u.type==="radio"){let w=v.querySelectorAll(`[name="${m.radio}"]`);for(let F=0;F<w.length;F++)w[F].disabled=h}else u.disabled=h}function Er(){ul(this,["confirmButton","denyButton","cancelButton"],!1)}function hl(){ul(this,["confirmButton","denyButton","cancelButton"],!0)}function fl(){dl(this.getInput(),!1)}function pl(){dl(this.getInput(),!0)}function ml(u){let h=Le.domCache.get(this),v=Le.innerParams.get(this);Vt(h.validationMessage,u),h.validationMessage.className=m["validation-message"],v.customClass&&v.customClass.validationMessage&&De(h.validationMessage,v.customClass.validationMessage),ct(h.validationMessage);let w=this.getInput();w&&(w.setAttribute("aria-invalid","true"),w.setAttribute("aria-describedby",m["validation-message"]),Wc(w),De(w,m.inputerror))}function Go(){let u=Le.domCache.get(this);u.validationMessage&&gt(u.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),yn(h,m.inputerror))}let yt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},qd=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Gd={allowEnterKey:void 0},Wi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],c=u=>Object.prototype.hasOwnProperty.call(yt,u),f=u=>qd.indexOf(u)!==-1,g=u=>Gd[u],_=u=>{c(u)||L(`Unknown parameter "${u}"`)},O=u=>{Wi.includes(u)&&L(`The parameter "${u}" is incompatible with toasts`)},V=u=>{let h=g(u);h&&re(u,h)},z=u=>{u.backdrop===!1&&u.allowOutsideClick&&L('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in u)_(h),u.toast&&O(h),V(h)};function $e(u){let h=N(),v=Le.innerParams.get(this);if(!h||vn(h,v.hideClass.popup)){L("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let w=Tt(u),F=Object.assign({},v,w);Td(this,F),Le.innerParams.set(this,F),Object.defineProperties(this,{params:{value:Object.assign({},this.params,u),writable:!1,enumerable:!0}})}let Tt=u=>{let h={};return Object.keys(u).forEach(v=>{f(v)?h[v]=u[v]:L(`Invalid parameter to update: ${v}`)}),h};function Re(){let u=Le.domCache.get(this),h=Le.innerParams.get(this);if(!h){St(this);return}u.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),s.eventEmitter.emit("didDestroy"),Mt(this)}let Mt=u=>{St(u),delete u.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},St=u=>{u.isAwaitingPromise?(br(Le,u),u.isAwaitingPromise=!0):(br($i,u),br(Le,u),delete u.isAwaitingPromise,delete u.disableButtons,delete u.enableButtons,delete u.getInput,delete u.disableInput,delete u.enableInput,delete u.hideLoading,delete u.disableLoading,delete u.showValidationMessage,delete u.resetValidationMessage,delete u.close,delete u.closePopup,delete u.closeModal,delete u.closeToast,delete u.rejectPromise,delete u.update,delete u._destroy)},br=(u,h)=>{for(let v in u)u[v].delete(h)};var _n=Object.freeze({__proto__:null,_destroy:Re,close:cn,closeModal:cn,closePopup:cn,closeToast:cn,disableButtons:hl,disableInput:pl,disableLoading:Gi,enableButtons:Er,enableInput:fl,getInput:qo,handleAwaitingPromise:Yn,hideLoading:Gi,rejectPromise:sl,resetValidationMessage:Go,showValidationMessage:ml,update:$e});let ia=(u,h,v)=>{u.toast?gl(u,h,v):(AP(h),xP(h),RP(u,h,v))},gl=(u,h,v)=>{h.popup.onclick=()=>{u&&(SP(u)||u.timer||u.input)||v(an.close)}},SP=u=>!!(u.showConfirmButton||u.showDenyButton||u.showCancelButton||u.showCloseButton),Wd=!1,AP=u=>{u.popup.onmousedown=()=>{u.container.onmouseup=function(h){u.container.onmouseup=()=>{},h.target===u.container&&(Wd=!0)}}},xP=u=>{u.container.onmousedown=h=>{h.target===u.container&&h.preventDefault(),u.popup.onmouseup=function(v){u.popup.onmouseup=()=>{},(v.target===u.popup||v.target instanceof HTMLElement&&u.popup.contains(v.target))&&(Wd=!0)}}},RP=(u,h,v)=>{h.container.onclick=w=>{if(Wd){Wd=!1;return}w.target===h.container&&Ne(u.allowOutsideClick)&&v(an.backdrop)}},PP=u=>typeof u=="object"&&u.jquery,Pb=u=>u instanceof Element||PP(u),MP=u=>{let h={};return typeof u[0]=="object"&&!Pb(u[0])?Object.assign(h,u[0]):["title","html","icon"].forEach((v,w)=>{let F=u[w];typeof F=="string"||Pb(F)?h[v]=F:F!==void 0&&$(`Unexpected type of ${v}! Expected "string" or "Element", got ${typeof F}`)}),h};function NP(){for(var u=arguments.length,h=new Array(u),v=0;v<u;v++)h[v]=arguments[v];return new this(...h)}function OP(u){class h extends this{_main(w,F){return super._main(w,Object.assign({},u,F))}}return h}let kP=()=>s.timeout&&s.timeout.getTimerLeft(),Mb=()=>{if(s.timeout)return ld(),s.timeout.stop()},Nb=()=>{if(s.timeout){let u=s.timeout.start();return Ws(u),u}},FP=()=>{let u=s.timeout;return u&&(u.running?Mb():Nb())},LP=u=>{if(s.timeout){let h=s.timeout.increase(u);return Ws(h,!0),h}},VP=()=>!!(s.timeout&&s.timeout.isRunning()),Ob=!1,Cg={};function UP(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Cg[u]=this,Ob||(document.body.addEventListener("click",jP),Ob=!0)}let jP=u=>{for(let h=u.target;h&&h!==document;h=h.parentNode)for(let v in Cg){let w=h.getAttribute(v);if(w){Cg[v].fire({template:w});return}}};class BP{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,v){let w=this._getHandlersByEventName(h);w.includes(v)||w.push(v)}once(h,v){var w=this;let F=function(){w.removeListener(h,F);for(var W=arguments.length,we=new Array(W),Oe=0;Oe<W;Oe++)we[Oe]=arguments[Oe];v.apply(w,we)};this.on(h,F)}emit(h){for(var v=arguments.length,w=new Array(v>1?v-1:0),F=1;F<v;F++)w[F-1]=arguments[F];this._getHandlersByEventName(h).forEach(W=>{try{W.apply(this,w)}catch(we){console.error(we)}})}removeListener(h,v){let w=this._getHandlersByEventName(h),F=w.indexOf(v);F>-1&&w.splice(F,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}s.eventEmitter=new BP;var $P=Object.freeze({__proto__:null,argsToParams:MP,bindClickHandler:UP,clickCancel:gg,clickConfirm:il,clickDeny:Sd,enableLoading:qi,fire:NP,getActions:Gn,getCancelButton:Ni,getCloseButton:qc,getConfirmButton:gn,getContainer:T,getDenyButton:zt,getFocusableElements:ki,getFooter:od,getHtmlContainer:zc,getIcon:S,getIconContent:qn,getImage:Pi,getInputLabel:Rt,getLoader:Oi,getPopup:N,getProgressSteps:Yr,getTimerLeft:kP,getTimerProgressBar:mr,getTitle:Ri,getValidationMessage:Mi,increaseTimer:LP,isDeprecatedParameter:g,isLoading:Gc,isTimerRunning:VP,isUpdatableParameter:f,isValidParameter:c,isVisible:mg,mixin:OP,off:(u,h)=>{if(!u){s.eventEmitter.reset();return}h?s.eventEmitter.removeListener(u,h):s.eventEmitter.removeAllListeners(u)},on:(u,h)=>{s.eventEmitter.on(u,h)},once:(u,h)=>{s.eventEmitter.once(u,h)},resumeTimer:Nb,showLoading:qi,stopTimer:Mb,toggleTimer:FP});class HP{constructor(h,v){this.callback=h,this.remaining=v,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let v=this.running;return v&&this.stop(),this.remaining+=h,v&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let kb=["swal-title","swal-html","swal-footer"],zP=u=>{let h=typeof u.template=="string"?document.querySelector(u.template):u.template;if(!h)return{};let v=h.content;return JP(v),Object.assign(qP(v),GP(v),WP(v),KP(v),QP(v),YP(v),ZP(v,kb))},qP=u=>{let h={};return Array.from(u.querySelectorAll("swal-param")).forEach(w=>{Wo(w,["name","value"]);let F=w.getAttribute("name"),W=w.getAttribute("value");!F||!W||(typeof yt[F]=="boolean"?h[F]=W!=="false":typeof yt[F]=="object"?h[F]=JSON.parse(W):h[F]=W)}),h},GP=u=>{let h={};return Array.from(u.querySelectorAll("swal-function-param")).forEach(w=>{let F=w.getAttribute("name"),W=w.getAttribute("value");!F||!W||(h[F]=new Function(`return ${W}`)())}),h},WP=u=>{let h={};return Array.from(u.querySelectorAll("swal-button")).forEach(w=>{Wo(w,["type","color","aria-label"]);let F=w.getAttribute("type");!F||!["confirm","cancel","deny"].includes(F)||(h[`${F}ButtonText`]=w.innerHTML,h[`show${j(F)}Button`]=!0,w.hasAttribute("color")&&(h[`${F}ButtonColor`]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(h[`${F}ButtonAriaLabel`]=w.getAttribute("aria-label")))}),h},KP=u=>{let h={},v=u.querySelector("swal-image");return v&&(Wo(v,["src","width","height","alt"]),v.hasAttribute("src")&&(h.imageUrl=v.getAttribute("src")||void 0),v.hasAttribute("width")&&(h.imageWidth=v.getAttribute("width")||void 0),v.hasAttribute("height")&&(h.imageHeight=v.getAttribute("height")||void 0),v.hasAttribute("alt")&&(h.imageAlt=v.getAttribute("alt")||void 0)),h},QP=u=>{let h={},v=u.querySelector("swal-icon");return v&&(Wo(v,["type","color"]),v.hasAttribute("type")&&(h.icon=v.getAttribute("type")),v.hasAttribute("color")&&(h.iconColor=v.getAttribute("color")),h.iconHtml=v.innerHTML),h},YP=u=>{let h={},v=u.querySelector("swal-input");v&&(Wo(v,["type","label","placeholder","value"]),h.input=v.getAttribute("type")||"text",v.hasAttribute("label")&&(h.inputLabel=v.getAttribute("label")),v.hasAttribute("placeholder")&&(h.inputPlaceholder=v.getAttribute("placeholder")),v.hasAttribute("value")&&(h.inputValue=v.getAttribute("value")));let w=Array.from(u.querySelectorAll("swal-input-option"));return w.length&&(h.inputOptions={},w.forEach(F=>{Wo(F,["value"]);let W=F.getAttribute("value");if(!W)return;let we=F.innerHTML;h.inputOptions[W]=we})),h},ZP=(u,h)=>{let v={};for(let w in h){let F=h[w],W=u.querySelector(F);W&&(Wo(W,[]),v[F.replace(/^swal-/,"")]=W.innerHTML.trim())}return v},JP=u=>{let h=kb.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(u.children).forEach(v=>{let w=v.tagName.toLowerCase();h.includes(w)||L(`Unrecognized element <${w}>`)})},Wo=(u,h)=>{Array.from(u.attributes).forEach(v=>{h.indexOf(v.name)===-1&&L([`Unrecognized attribute "${v.name}" on <${u.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},Fb=10,XP=u=>{let h=T(),v=N();typeof u.willOpen=="function"&&u.willOpen(v),s.eventEmitter.emit("willOpen",v);let F=window.getComputedStyle(document.body).overflowY;nM(h,v,u),setTimeout(()=>{eM(h,v)},Fb),Fi()&&(tM(h,u.scrollbarPadding,F),yg()),!Li()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof u.didOpen=="function"&&setTimeout(()=>u.didOpen(v)),s.eventEmitter.emit("didOpen",v),yn(h,m["no-transition"])},Kd=u=>{let h=N();if(u.target!==h)return;let v=T();h.removeEventListener("animationend",Kd),h.removeEventListener("transitionend",Kd),v.style.overflowY="auto"},eM=(u,h)=>{Vi(h)?(u.style.overflowY="hidden",h.addEventListener("animationend",Kd),h.addEventListener("transitionend",Kd)):u.style.overflowY="auto"},tM=(u,h,v)=>{jo(),h&&v!=="hidden"&&wg(v),setTimeout(()=>{u.scrollTop=0})},nM=(u,h,v)=>{De(u,v.showClass.backdrop),v.animation?(h.style.setProperty("opacity","0","important"),ct(h,"grid"),setTimeout(()=>{De(h,v.showClass.popup),h.style.removeProperty("opacity")},Fb)):ct(h,"grid"),De([document.documentElement,document.body],m.shown),v.heightAuto&&v.backdrop&&!v.toast&&De([document.documentElement,document.body],m["height-auto"])};var Lb={email:(u,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(u)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(u,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(u)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function rM(u){u.inputValidator||(u.input==="email"&&(u.inputValidator=Lb.email),u.input==="url"&&(u.inputValidator=Lb.url))}function iM(u){(!u.target||typeof u.target=="string"&&!document.querySelector(u.target)||typeof u.target!="string"&&!u.target.appendChild)&&(L('Target parameter is not valid, defaulting to "body"'),u.target="body")}function oM(u){rM(u),u.showLoaderOnConfirm&&!u.preConfirm&&L(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),iM(u),typeof u.title=="string"&&(u.title=u.title.split(`
`).join("<br />")),Zc(u)}let Ir;var Qd=new WeakMap;class ft{constructor(){if(r(this,Qd,void 0),typeof window>"u")return;Ir=this;for(var h=arguments.length,v=new Array(h),w=0;w<h;w++)v[w]=arguments[w];let F=Object.freeze(this.constructor.argsToParams(v));this.params=F,this.isAwaitingPromise=!1,i(Qd,this,this._main(Ir.params))}_main(h){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(z(Object.assign({},v,h)),s.currentInstance){let W=$i.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:we}=s.currentInstance;s.currentInstance._destroy(),we||W({isDismissed:!0}),Fi()&&xd()}s.currentInstance=Ir;let w=aM(h,v);oM(w),Object.freeze(w),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let F=cM(Ir);return Td(Ir,w),Le.innerParams.set(Ir,w),sM(Ir,F,w)}then(h){return n(Qd,this).then(h)}finally(h){return n(Qd,this).finally(h)}}let sM=(u,h,v)=>new Promise((w,F)=>{let W=we=>{u.close({isDismissed:!0,dismiss:we})};$i.swalPromiseResolve.set(u,w),$i.swalPromiseReject.set(u,F),h.confirmButton.onclick=()=>{na(u)},h.denyButton.onclick=()=>{Bd(u)},h.cancelButton.onclick=()=>{ra(u,W)},h.closeButton.onclick=()=>{W(an.close)},ia(v,h,W),Zs(s,v,W),Fd(u,v),XP(v),lM(s,v,W),uM(h,v),setTimeout(()=>{h.container.scrollTop=0})}),aM=(u,h)=>{let v=zP(u),w=Object.assign({},yt,h,v,u);return w.showClass=Object.assign({},yt.showClass,w.showClass),w.hideClass=Object.assign({},yt.hideClass,w.hideClass),w.animation===!1&&(w.showClass={backdrop:"swal2-noanimation"},w.hideClass={}),w},cM=u=>{let h={popup:N(),container:T(),actions:Gn(),confirmButton:gn(),denyButton:zt(),cancelButton:Ni(),loader:Oi(),closeButton:qc(),validationMessage:Mi(),progressSteps:Yr()};return Le.domCache.set(u,h),h},lM=(u,h,v)=>{let w=mr();gt(w),h.timer&&(u.timeout=new HP(()=>{v("timer"),delete u.timeout},h.timer),h.timerProgressBar&&(ct(w),qt(w,h,"timerProgressBar"),setTimeout(()=>{u.timeout&&u.timeout.running&&Ws(h.timer)})))},uM=(u,h)=>{if(!h.toast){if(!Ne(h.allowEnterKey)){re("allowEnterKey"),fM();return}dM(u)||hM(u,h)||Bi(-1,1)}},dM=u=>{let h=Array.from(u.popup.querySelectorAll("[autofocus]"));for(let v of h)if(v instanceof HTMLElement&&Ut(v))return v.focus(),!0;return!1},hM=(u,h)=>h.focusDeny&&Ut(u.denyButton)?(u.denyButton.focus(),!0):h.focusCancel&&Ut(u.cancelButton)?(u.cancelButton.focus(),!0):h.focusConfirm&&Ut(u.confirmButton)?(u.confirmButton.focus(),!0):!1,fM=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let u=new Date,h=localStorage.getItem("swal-initiation");h?(u.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let v=document.createElement("audio");v.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",v.loop=!0,document.body.appendChild(v),setTimeout(()=>{v.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${u}`)}ft.prototype.disableButtons=hl,ft.prototype.enableButtons=Er,ft.prototype.getInput=qo,ft.prototype.disableInput=pl,ft.prototype.enableInput=fl,ft.prototype.hideLoading=Gi,ft.prototype.disableLoading=Gi,ft.prototype.showValidationMessage=ml,ft.prototype.resetValidationMessage=Go,ft.prototype.close=cn,ft.prototype.closePopup=cn,ft.prototype.closeModal=cn,ft.prototype.closeToast=cn,ft.prototype.rejectPromise=sl,ft.prototype.update=$e,ft.prototype._destroy=Re,Object.assign(ft,$P),Object.keys(_n).forEach(u=>{ft[u]=function(){return Ir&&Ir[u]?Ir[u](...arguments):null}}),ft.DismissReason=an,ft.version="11.14.5";let Yd=ft;return Yd.default=Yd,Yd});typeof kr<"u"&&kr.Sweetalert2&&(kr.swal=kr.sweetAlert=kr.Swal=kr.SweetAlert=kr.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function $b(t,e){return Object.is(t,e)}var At=null,Zd=!1,Jd=1,Jr=Symbol("SIGNAL");function Ve(t){let e=At;return At=t,e}function Hb(){return At}var yl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function xg(t){if(Zd)throw new Error("");if(At===null)return;At.consumerOnSignalRead(t);let e=At.nextProducerIndex++;if(nh(At),e<At.producerNode.length&&At.producerNode[e]!==t&&vl(At)){let n=At.producerNode[e];th(n,At.producerIndexOfThis[e])}At.producerNode[e]!==t&&(At.producerNode[e]=t,At.producerIndexOfThis[e]=vl(At)?Wb(t,At,e):0),At.producerLastReadVersion[e]=t.version}function CM(){Jd++}function zb(t){if(!(vl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Jd)){if(!t.producerMustRecompute(t)&&!Pg(t)){t.dirty=!1,t.lastCleanEpoch=Jd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Jd}}function qb(t){if(t.liveConsumerNode===void 0)return;let e=Zd;Zd=!0;try{for(let n of t.liveConsumerNode)n.dirty||DM(n)}finally{Zd=e}}function Gb(){return At?.consumerAllowSignalWrites!==!1}function DM(t){t.dirty=!0,qb(t),t.consumerMarkedDirty?.(t)}function eh(t){return t&&(t.nextProducerIndex=0),Ve(t)}function Rg(t,e){if(Ve(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(vl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)th(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Pg(t){nh(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(zb(n),r!==n.version))return!0}return!1}function Mg(t){if(nh(t),vl(t))for(let e=0;e<t.producerNode.length;e++)th(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Wb(t,e,n){if(Kb(t),t.liveConsumerNode.length===0&&Qb(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Wb(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function th(t,e){if(Kb(t),t.liveConsumerNode.length===1&&Qb(t))for(let r=0;r<t.producerNode.length;r++)th(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];nh(i),i.producerIndexOfThis[r]=e}}function vl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function nh(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Kb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Qb(t){return t.producerNode!==void 0}function Yb(t){let e=Object.create(TM);e.computation=t;let n=()=>{if(zb(e),xg(e),e.value===Xd)throw e.error;return e.value};return n[Jr]=e,n}var Sg=Symbol("UNSET"),Ag=Symbol("COMPUTING"),Xd=Symbol("ERRORED"),TM=ge(q({},yl),{value:Sg,dirty:!0,error:null,equal:$b,producerMustRecompute(t){return t.value===Sg||t.value===Ag},producerRecomputeValue(t){if(t.value===Ag)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Ag;let n=eh(t),r;try{r=t.computation()}catch(i){r=Xd,t.error=i}finally{Rg(t,n)}if(e!==Sg&&e!==Xd&&r!==Xd&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function SM(){throw new Error}var Zb=SM;function Jb(){Zb()}function Xb(t){Zb=t}var AM=null;function eI(t){let e=Object.create(nI);e.value=t;let n=()=>(xg(e),e.value);return n[Jr]=e,n}function Ng(t,e){Gb()||Jb(),t.equal(t.value,e)||(t.value=e,xM(t))}function tI(t,e){Gb()||Jb(),Ng(t,e(t.value))}var nI=ge(q({},yl),{equal:$b,value:void 0});function xM(t){t.version++,CM(),qb(t),AM?.()}function ve(t){return typeof t=="function"}function sa(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var rh=sa(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ko(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var lt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ve(r))try{r()}catch(o){e=o instanceof rh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{rI(o)}catch(s){e=e??[],s instanceof rh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new rh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)rI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ko(n,e)}remove(e){let{_finalizers:n}=this;n&&Ko(n,e),e instanceof t&&e._removeParent(this)}};lt.EMPTY=(()=>{let t=new lt;return t.closed=!0,t})();var Og=lt.EMPTY;function ih(t){return t instanceof lt||t&&"closed"in t&&ve(t.remove)&&ve(t.add)&&ve(t.unsubscribe)}function rI(t){ve(t)?t():t.unsubscribe()}var Jn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var aa={setTimeout(t,e,...n){let{delegate:r}=aa;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=aa;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function oh(t){aa.setTimeout(()=>{let{onUnhandledError:e}=Jn;if(e)e(t);else throw t})}function _l(){}var iI=kg("C",void 0,void 0);function oI(t){return kg("E",void 0,t)}function sI(t){return kg("N",t,void 0)}function kg(t,e,n){return{kind:t,value:e,error:n}}var Qo=null;function ca(t){if(Jn.useDeprecatedSynchronousErrorHandling){let e=!Qo;if(e&&(Qo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Qo;if(Qo=null,n)throw r}}else t()}function aI(t){Jn.useDeprecatedSynchronousErrorHandling&&Qo&&(Qo.errorThrown=!0,Qo.error=t)}var Yo=class extends lt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ih(e)&&e.add(this)):this.destination=MM}static create(e,n,r){return new la(e,n,r)}next(e){this.isStopped?Lg(sI(e),this):this._next(e)}error(e){this.isStopped?Lg(oI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lg(iI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},RM=Function.prototype.bind;function Fg(t,e){return RM.call(t,e)}var Vg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){sh(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){sh(r)}else sh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){sh(n)}}},la=class extends Yo{constructor(e,n,r){super();let i;if(ve(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Jn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fg(e.next,o),error:e.error&&Fg(e.error,o),complete:e.complete&&Fg(e.complete,o)}):i=e}this.destination=new Vg(i)}};function sh(t){Jn.useDeprecatedSynchronousErrorHandling?aI(t):oh(t)}function PM(t){throw t}function Lg(t,e){let{onStoppedNotification:n}=Jn;n&&aa.setTimeout(()=>n(t,e))}var MM={closed:!0,next:_l,error:PM,complete:_l};var ua=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wn(t){return t}function ah(...t){return Ug(t)}function Ug(t){return t.length===0?wn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Te=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=OM(n)?n:new la(n,r,i);return ca(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=cI(r),new r((i,o)=>{let s=new la({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ua](){return this}pipe(...n){return Ug(n)(this)}toPromise(n){return n=cI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function cI(t){var e;return(e=t??Jn.Promise)!==null&&e!==void 0?e:Promise}function NM(t){return t&&ve(t.next)&&ve(t.error)&&ve(t.complete)}function OM(t){return t&&t instanceof Yo||NM(t)&&ih(t)}function jg(t){return ve(t?.lift)}function ke(t){return e=>{if(jg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(t,e,n,r,i){return new Bg(t,e,n,r,i)}var Bg=class extends Yo{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function da(){return ke((t,e)=>{let n=null;t._refCount++;let r=Se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ha=class extends Te{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,jg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new lt;let n=this.getSubject();e.add(this.source.subscribe(Se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=lt.EMPTY)}return e}refCount(){return da()(this)}};var lI=sa(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Nt=(()=>{class t extends Te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ch(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new lI}next(n){ca(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ca(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ca(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Og:(this.currentObservers=null,o.push(n),new lt(()=>{this.currentObservers=null,Ko(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Te;return n.source=this,n}}return t.create=(e,n)=>new ch(e,n),t})(),ch=class extends Nt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Og}};var st=class extends Nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var $g={now(){return($g.delegate||Date).now()},delegate:void 0};var lh=class extends lt{constructor(e,n){super()}schedule(e,n=0){return this}};var wl={setInterval(t,e,...n){let{delegate:r}=wl;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=wl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var fa=class extends lh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return wl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&wl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ko(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var pa=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};pa.now=$g.now;var ma=class extends pa{constructor(e,n=pa.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Hg=new ma(fa);var uh=class extends fa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var dh=class extends ma{};var zg=new dh(uh);var En=new Te(t=>t.complete());function uI(t){return t&&ve(t.schedule)}function dI(t){return t[t.length-1]}function hh(t){return ve(dI(t))?t.pop():void 0}function Qi(t){return uI(dI(t))?t.pop():void 0}function qg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function fI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function l(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,l)}d((r=r.apply(t,e||[])).next())})}function hI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zo(t){return this instanceof Zo?(this.v=t,this):new Zo(t)}function pI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(A){return Promise.resolve(A).then(b,m)}}function a(b,A){r[b]&&(i[b]=function(j){return new Promise(function(L,$){o.push([b,j,L,$])>1||l(b,j)})},A&&(i[b]=A(i[b])))}function l(b,A){try{d(r[b](A))}catch(j){y(o[0][3],j)}}function d(b){b.value instanceof Zo?Promise.resolve(b.value.v).then(p,m):y(o[0][2],b)}function p(b){l("next",b)}function m(b){l("throw",b)}function y(b,A){b(A),o.shift(),o.length&&l(o[0][0],o[0][1])}}function mI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof hI=="function"?hI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var fh=t=>t&&typeof t.length=="number"&&typeof t!="function";function ph(t){return ve(t?.then)}function mh(t){return ve(t[ua])}function gh(t){return Symbol.asyncIterator&&ve(t?.[Symbol.asyncIterator])}function vh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yh=kM();function _h(t){return ve(t?.[yh])}function wh(t){return pI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Zo(n.read());if(i)return yield Zo(void 0);yield yield Zo(r)}}finally{n.releaseLock()}})}function Eh(t){return ve(t?.getReader)}function _t(t){if(t instanceof Te)return t;if(t!=null){if(mh(t))return FM(t);if(fh(t))return LM(t);if(ph(t))return VM(t);if(gh(t))return gI(t);if(_h(t))return UM(t);if(Eh(t))return jM(t)}throw vh(t)}function FM(t){return new Te(e=>{let n=t[ua]();if(ve(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function LM(t){return new Te(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function VM(t){return new Te(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,oh)})}function UM(t){return new Te(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function gI(t){return new Te(e=>{BM(t,e).catch(n=>e.error(n))})}function jM(t){return gI(wh(t))}function BM(t,e){var n,r,i,o;return fI(this,void 0,void 0,function*(){try{for(n=mI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function ln(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Yi(t,e=0){return ke((n,r)=>{n.subscribe(Se(r,i=>ln(r,t,()=>r.next(i),e),()=>ln(r,t,()=>r.complete(),e),i=>ln(r,t,()=>r.error(i),e)))})}function Zi(t,e=0){return ke((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function vI(t,e){return _t(t).pipe(Zi(e),Yi(e))}function yI(t,e){return _t(t).pipe(Zi(e),Yi(e))}function _I(t,e){return new Te(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function wI(t,e){return new Te(n=>{let r;return ln(n,e,()=>{r=t[yh](),ln(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ve(r?.return)&&r.return()})}function bh(t,e){if(!t)throw new Error("Iterable cannot be null");return new Te(n=>{ln(n,e,()=>{let r=t[Symbol.asyncIterator]();ln(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function EI(t,e){return bh(wh(t),e)}function bI(t,e){if(t!=null){if(mh(t))return vI(t,e);if(fh(t))return _I(t,e);if(ph(t))return yI(t,e);if(gh(t))return bh(t,e);if(_h(t))return wI(t,e);if(Eh(t))return EI(t,e)}throw vh(t)}function nt(t,e){return e?bI(t,e):_t(t)}function pe(...t){let e=Qi(t);return nt(t,e)}function ga(t,e){let n=ve(t)?t:()=>t,r=i=>i.error(n());return new Te(e?i=>e.schedule(r,0,i):r)}function Gg(t){return!!t&&(t instanceof Te||ve(t.lift)&&ve(t.subscribe))}var Xr=sa(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ee(t,e){return ke((n,r)=>{let i=0;n.subscribe(Se(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:$M}=Array;function HM(t,e){return $M(e)?t(...e):t(e)}function Ih(t){return Ee(e=>HM(t,e))}var{isArray:zM}=Array,{getPrototypeOf:qM,prototype:GM,keys:WM}=Object;function Ch(t){if(t.length===1){let e=t[0];if(zM(e))return{args:e,keys:null};if(KM(e)){let n=WM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function KM(t){return t&&typeof t=="object"&&qM(t)===GM}function Dh(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Th(...t){let e=Qi(t),n=hh(t),{args:r,keys:i}=Ch(t);if(r.length===0)return nt([],e);let o=new Te(QM(r,e,i?s=>Dh(i,s):wn));return n?o.pipe(Ih(n)):o}function QM(t,e,n=wn){return r=>{II(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)II(e,()=>{let d=nt(t[l],e),p=!1;d.subscribe(Se(r,m=>{o[l]=m,p||(p=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function II(t,e,n){t?ln(n,t,e):e()}function CI(t,e,n,r,i,o,s,a){let l=[],d=0,p=0,m=!1,y=()=>{m&&!l.length&&!d&&e.complete()},b=j=>d<r?A(j):l.push(j),A=j=>{o&&e.next(j),d++;let L=!1;_t(n(j,p++)).subscribe(Se(e,$=>{i?.($),o?b($):e.next($)},()=>{L=!0},void 0,()=>{if(L)try{for(d--;l.length&&d<r;){let $=l.shift();s?ln(e,s,()=>A($)):A($)}y()}catch($){e.error($)}}))};return t.subscribe(Se(e,b,()=>{m=!0,y()})),()=>{a?.()}}function xt(t,e,n=1/0){return ve(e)?xt((r,i)=>Ee((o,s)=>e(r,o,i,s))(_t(t(r,i))),n):(typeof e=="number"&&(n=e),ke((r,i)=>CI(r,i,t,n)))}function Wg(t=1/0){return xt(wn,t)}function DI(){return Wg(1)}function va(...t){return DI()(nt(t,Qi(t)))}function Sh(t){return new Te(e=>{_t(t()).subscribe(e)})}function Kg(...t){let e=hh(t),{args:n,keys:r}=Ch(t),i=new Te(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let p=0;p<s;p++){let m=!1;_t(n[p]).subscribe(Se(o,y=>{m||(m=!0,d--),a[p]=y},()=>l--,void 0,()=>{(!l||!m)&&(d||o.next(r?Dh(r,a):a),o.complete())}))}});return e?i.pipe(Ih(e)):i}function un(t,e){return ke((n,r)=>{let i=0;n.subscribe(Se(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ji(t){return ke((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Se(n,void 0,void 0,s=>{o=_t(t(s,Ji(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function TI(t,e,n,r,i){return(o,s)=>{let a=n,l=e,d=0;o.subscribe(Se(s,p=>{let m=d++;l=a?t(l,p,m):(a=!0,p),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function ya(t,e){return ve(e)?xt(t,e,1):xt(t,1)}function Xi(t){return ke((e,n)=>{let r=!1;e.subscribe(Se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ei(t){return t<=0?()=>En:ke((e,n)=>{let r=0;e.subscribe(Se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Qg(t){return Ee(()=>t)}function Ah(t=YM){return ke((e,n)=>{let r=!1;e.subscribe(Se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function YM(){return new Xr}function El(t){return ke((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Cr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?un((i,o)=>t(i,o,r)):wn,ei(1),n?Xi(e):Ah(()=>new Xr))}function _a(t){return t<=0?()=>En:ke((e,n)=>{let r=[];e.subscribe(Se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Yg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?un((i,o)=>t(i,o,r)):wn,_a(1),n?Xi(e):Ah(()=>new Xr))}function xh(t,e){return ke(TI(t,e,arguments.length>=2,!0))}function Rh(...t){let e=Qi(t);return ke((n,r)=>{(e?va(t,n,e):va(t,n)).subscribe(r)})}function Xn(t,e){return ke((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Se(r,l=>{i?.unsubscribe();let d=0,p=o++;_t(t(l,p)).subscribe(i=Se(r,m=>r.next(e?e(l,m,p,d++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Zg(t){return ke((e,n)=>{_t(t).subscribe(Se(n,()=>n.complete(),_l)),!n.closed&&e.subscribe(n)})}function pt(t,e,n){let r=ve(t)||e||n?{next:t,error:e,complete:n}:t;return r?ke((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Se(o,l=>{var d;(d=r.next)===null||d===void 0||d.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,l),o.error(l)},()=>{var l,d;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):wn}var dC="https://g.co/ng/security#xss",ce=class extends Error{constructor(e,n){super(Jv(e,n)),this.code=e}};function Jv(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ml(t){return{toString:t}.toString()}var Ph="__parameters__";function ZM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function hC(t,e,n){return Ml(()=>{let r=ZM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,d,p){let m=l.hasOwnProperty(Ph)?l[Ph]:Object.defineProperty(l,Ph,{value:[]})[Ph];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ye(t){for(let e in t)if(t[e]===Ye)return e;throw Error("Could not find renamed property on target object.")}function JM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function tn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(tn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function SI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var XM=Ye({__forward_ref__:Ye});function bn(t){return t.__forward_ref__=bn,t.toString=function(){return tn(this())},t}function en(t){return fC(t)?t():t}function fC(t){return typeof t=="function"&&t.hasOwnProperty(XM)&&t.__forward_ref__===bn}function oe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function rr(t){return{providers:t.providers||[],imports:t.imports||[]}}function hf(t){return AI(t,mC)||AI(t,gC)}function pC(t){return hf(t)!==null}function AI(t,e){return t.hasOwnProperty(e)?t[e]:null}function eN(t){let e=t&&(t[mC]||t[gC]);return e||null}function xI(t){return t&&(t.hasOwnProperty(RI)||t.hasOwnProperty(tN))?t[RI]:null}var mC=Ye({\u0275prov:Ye}),RI=Ye({\u0275inj:Ye}),gC=Ye({ngInjectableDef:Ye}),tN=Ye({ngInjectorDef:Ye}),te=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=oe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vC(t){return t&&!!t.\u0275providers}var nN=Ye({\u0275cmp:Ye}),rN=Ye({\u0275dir:Ye}),iN=Ye({\u0275pipe:Ye}),oN=Ye({\u0275mod:Ye}),jh=Ye({\u0275fac:Ye}),Cl=Ye({__NG_ELEMENT_ID__:Ye}),PI=Ye({__NG_ENV_ID__:Ye});function Jo(t){return typeof t=="string"?t:t==null?"":String(t)}function sN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Jo(t)}function aN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ce(-200,t)}function Xv(t,e){throw new ce(-201,!1)}var be=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(be||{}),dv;function yC(){return dv}function dn(t){let e=dv;return dv=t,e}function _C(t,e,n){let r=hf(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&be.Optional)return null;if(e!==void 0)return e;Xv(t,"Injector")}var cN={},Dl=cN,hv="__NG_DI_FLAG__",Bh="ngTempTokenPath",lN="ngTokenPath",uN=/\n/gm,dN="\u0275",MI="__source",Ia;function hN(){return Ia}function eo(t){let e=Ia;return Ia=t,e}function fN(t,e=be.Default){if(Ia===void 0)throw new ce(-203,!1);return Ia===null?_C(t,void 0,e):Ia.get(t,e&be.Optional?null:void 0,e)}function le(t,e=be.Default){return(yC()||fN)(en(t),e)}function K(t,e=be.Default){return le(t,ff(e))}function ff(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function fv(t){let e=[];for(let n=0;n<t.length;n++){let r=en(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ce(900,!1);let i,o=be.Default;for(let s=0;s<r.length;s++){let a=r[s],l=pN(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(le(i,o))}else e.push(le(r))}return e}function wC(t,e){return t[hv]=e,t.prototype[hv]=e,t}function pN(t){return t[hv]}function mN(t,e,n,r){let i=t[Bh];throw e[MI]&&i.unshift(e[MI]),t.message=gN(`
`+t.message,i,n,r),t[lN]=i,t[Bh]=null,t}function gN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==dN?t.slice(2):t;let i=tn(e);if(Array.isArray(e))i=e.map(tn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):tn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(uN,`
  `)}`}var Et=wC(hC("Optional"),8);var EC=wC(hC("SkipSelf"),4);function es(t,e){let n=t.hasOwnProperty(jh);return n?t[jh]:null}function ey(t,e){t.forEach(n=>Array.isArray(n)?ey(n,e):e(n))}function bC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $h(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function yN(t,e,n){let r=Nl(t,e);return r>=0?t[r|1]=n:(r=~r,vN(t,r,e,n)),r}function Jg(t,e){let n=Nl(t,e);if(n>=0)return t[n|1]}function Nl(t,e){return _N(t,e,1)}function _N(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Da={},Rn=[],Ta=new te(""),IC=new te("",-1),CC=new te(""),Hh=class{get(e,n=Dl){if(n===Dl){let r=new Error(`NullInjectorError: No provider for ${tn(e)}!`);throw r.name="NullInjectorError",r}return n}},DC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(DC||{}),Sr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Sr||{}),ro=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ro||{});function wN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function pv(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];bN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function EN(t){return t===3||t===4||t===6}function bN(t){return t.charCodeAt(0)===64}function Tl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?NI(t,n,i,null,e[++r]):NI(t,n,i,null,null))}}return t}function NI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var TC="ng-template";function IN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&wN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ty(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ty(t){return t.type===4&&t.value!==TC}function CN(t,e,n){let r=t.type===4&&!n?TC:t.value;return e===r}function DN(t,e,n){let r=4,i=t.attrs,o=i!==null?AN(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!er(r)&&!er(l))return!1;if(s&&er(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!CN(t,l,n)||l===""&&e.length===1){if(er(r))return!1;s=!0}}else if(r&8){if(i===null||!IN(t,i,l,n)){if(er(r))return!1;s=!0}}else{let d=e[++a],p=TN(l,i,ty(t),n);if(p===-1){if(er(r))return!1;s=!0;continue}if(d!==""){let m;if(p>o?m="":m=i[p+1].toLowerCase(),r&2&&d!==m){if(er(r))return!1;s=!0}}}}return er(r)||s}function er(t){return(t&1)===0}function TN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return xN(e,t)}function SN(t,e,n=!1){for(let r=0;r<e.length;r++)if(DN(t,e[r],n))return!0;return!1}function AN(t){for(let e=0;e<t.length;e++){let n=t[e];if(EN(n))return e}return t.length}function xN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function OI(t,e){return t?":not("+e.trim()+")":e}function RN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!er(s)&&(e+=OI(o,i),i=""),r=s,o=o||!er(r);n++}return i!==""&&(e+=OI(o,i)),e}function PN(t){return t.map(RN).join(",")}function MN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!er(i))break;i=o}r++}return{attrs:e,classes:n}}function He(t){return Ml(()=>{let e=PC(t),n=ge(q({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===DC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Sr.Emulated,styles:t.styles||Rn,_:null,schemas:t.schemas||null,tView:null,id:""});MC(n);let r=t.dependencies;return n.directiveDefs=FI(r,!1),n.pipeDefs=FI(r,!0),n.id=kN(n),n})}function NN(t){return ts(t)||SC(t)}function ON(t){return t!==null}function ir(t){return Ml(()=>({type:t.type,bootstrap:t.bootstrap||Rn,declarations:t.declarations||Rn,imports:t.imports||Rn,exports:t.exports||Rn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function kI(t,e){if(t==null)return Da;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ro.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ro.None?[r,a]:r,e[o]=s):n[o]=r}return n}function We(t){return Ml(()=>{let e=PC(t);return MC(e),e})}function ny(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ts(t){return t[nN]||null}function SC(t){return t[rN]||null}function AC(t){return t[iN]||null}function xC(t){let e=ts(t)||SC(t)||AC(t);return e!==null?e.standalone:!1}function RC(t,e){let n=t[oN]||null;if(!n&&e===!0)throw new Error(`Type ${tn(t)} does not have '\u0275mod' property.`);return n}function PC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Da,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Rn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kI(t.inputs,e),outputs:kI(t.outputs),debugInfo:null}}function MC(t){t.features?.forEach(e=>e(t))}function FI(t,e){if(!t)return null;let n=e?AC:NN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(ON)}function kN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function kn(t){return{\u0275providers:t}}function FN(...t){return{\u0275providers:NC(!0,t),\u0275fromNgModule:!0}}function NC(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return ey(e,s=>{let a=s;mv(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&OC(i,o),n}function OC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ry(i,o=>{e(o,r)})}}function mv(t,e,n,r){if(t=en(t),!t)return!1;let i=null,o=xI(t),s=!o&&ts(t);if(!o&&!s){let l=t.ngModule;if(o=xI(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)mv(d,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{ey(o.imports,p=>{mv(p,e,n,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&OC(d,e)}if(!a){let d=es(i)||(()=>new i);e({provide:i,useFactory:d,deps:Rn},i),e({provide:CC,useValue:i,multi:!0},i),e({provide:Ta,useValue:()=>le(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let d=t;ry(l,p=>{e(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function ry(t,e){for(let n of t)vC(n)&&(n=n.\u0275providers),Array.isArray(n)?ry(n,e):e(n)}var LN=Ye({provide:String,useValue:Ye});function kC(t){return t!==null&&typeof t=="object"&&LN in t}function VN(t){return!!(t&&t.useExisting)}function UN(t){return!!(t&&t.useFactory)}function Sa(t){return typeof t=="function"}function jN(t){return!!t.useClass}var pf=new te(""),kh={},BN={},Xg;function iy(){return Xg===void 0&&(Xg=new Hh),Xg}var Nn=class{},Sl=class extends Nn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vv(e,s=>this.processProvider(s)),this.records.set(IC,wa(void 0,this)),i.has("environment")&&this.records.set(Nn,wa(void 0,this));let o=this.records.get(pf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(CC,Rn,be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=eo(this),r=dn(void 0),i;try{return e()}finally{eo(n),dn(r)}}get(e,n=Dl,r=be.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(PI))return e[PI](this);r=ff(r);let i,o=eo(this),s=dn(void 0);try{if(!(r&be.SkipSelf)){let l=this.records.get(e);if(l===void 0){let d=GN(e)&&hf(e);d&&this.injectableDefInScope(d)?l=wa(gv(e),kh):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&be.Self?iy():this.parent;return n=r&be.Optional&&n===Dl?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Bh]=a[Bh]||[]).unshift(tn(e)),o)throw a;return mN(a,e,"R3InjectorError",this.source)}else throw a}finally{dn(s),eo(o)}}resolveInjectorInitializers(){let e=Ve(null),n=eo(this),r=dn(void 0),i;try{let o=this.get(Ta,Rn,be.Self);for(let s of o)s()}finally{eo(n),dn(r),Ve(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(tn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(e){e=en(e);let n=Sa(e)?e:en(e&&e.provide),r=HN(e);if(!Sa(e)&&e.multi===!0){let i=this.records.get(n);i||(i=wa(void 0,kh,!0),i.factory=()=>fv(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ve(null);try{return n.value===kh&&(n.value=BN,n.value=n.factory()),typeof n.value=="object"&&n.value&&qN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=en(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function gv(t){let e=hf(t),n=e!==null?e.factory:es(t);if(n!==null)return n;if(t instanceof te)throw new ce(204,!1);if(t instanceof Function)return $N(t);throw new ce(204,!1)}function $N(t){if(t.length>0)throw new ce(204,!1);let n=eN(t);return n!==null?()=>n.factory(t):()=>new t}function HN(t){if(kC(t))return wa(void 0,t.useValue);{let e=FC(t);return wa(e,kh)}}function FC(t,e,n){let r;if(Sa(t)){let i=en(t);return es(i)||gv(i)}else if(kC(t))r=()=>en(t.useValue);else if(UN(t))r=()=>t.useFactory(...fv(t.deps||[]));else if(VN(t))r=()=>le(en(t.useExisting));else{let i=en(t&&(t.useClass||t.provide));if(zN(t))r=()=>new i(...fv(t.deps));else return es(i)||gv(i)}return r}function wa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function zN(t){return!!t.deps}function qN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function GN(t){return typeof t=="function"||typeof t=="object"&&t instanceof te}function vv(t,e){for(let n of t)Array.isArray(n)?vv(n,e):n&&vC(n)?vv(n.\u0275providers,e):e(n)}function oi(t,e){t instanceof Sl&&t.assertNotDestroyed();let n,r=eo(t),i=dn(void 0);try{return e()}finally{eo(r),dn(i)}}function WN(){return yC()!==void 0||hN()!=null}function KN(t){return typeof t=="function"}var si=0,Ce=1,fe=2,nn=3,tr=4,or=5,zh=6,qh=7,nr=8,Aa=9,Ar=10,wt=11,Al=12,LI=13,La=14,xr=15,xa=16,Ea=17,Ra=18,mf=19,LC=20,to=21,ev=22,Pn=23,On=25,VC=1;var ns=7,Gh=8,Wh=9,Mn=10,Kh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Kh||{});function no(t){return Array.isArray(t)&&typeof t[VC]=="object"}function ai(t){return Array.isArray(t)&&t[VC]===!0}function oy(t){return(t.flags&4)!==0}function gf(t){return t.componentOffset>-1}function vf(t){return(t.flags&1)===1}function io(t){return!!t.template}function yv(t){return(t[fe]&512)!==0}var _v=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function UC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ci(){return jC}function jC(t){return t.type.prototype.ngOnChanges&&(t.setInput=YN),QN}ci.ngInherit=!0;function QN(){let t=$C(this),e=t?.current;if(e){let n=t.previous;if(n===Da)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function YN(t,e,n,r,i){let o=this.declaredInputs[r],s=$C(t)||ZN(t,{previous:Da,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new _v(d&&d.currentValue,n,l===Da),UC(t,e,i,n)}var BC="__ngSimpleChanges__";function $C(t){return t[BC]||null}function ZN(t,e){return t[BC]=e}var VI=null;var Dr=function(t,e,n){VI?.(t,e,n)},JN="svg",XN="math";function Rr(t){for(;Array.isArray(t);)t=t[si];return t}function HC(t,e){return Rr(e[t])}function Fn(t,e){return Rr(e[t.index])}function zC(t,e){return t.data[e]}function qC(t,e){return t[e]}function ao(t,e){let n=e[t];return no(n)?n:n[si]}function sy(t){return(t[fe]&128)===128}function eO(t){return ai(t[nn])}function Pa(t,e){return e==null?null:t[e]}function GC(t){t[Ea]=0}function WC(t){t[fe]&1024||(t[fe]|=1024,sy(t)&&_f(t))}function tO(t,e){for(;t>0;)e=e[La],t--;return e}function yf(t){return!!(t[fe]&9216||t[Pn]?.dirty)}function wv(t){t[Ar].changeDetectionScheduler?.notify(8),t[fe]&64&&(t[fe]|=1024),yf(t)&&_f(t)}function _f(t){t[Ar].changeDetectionScheduler?.notify(0);let e=rs(t);for(;e!==null&&!(e[fe]&8192||(e[fe]|=8192,!sy(e)));)e=rs(e)}function KC(t,e){if((t[fe]&256)===256)throw new ce(911,!1);t[to]===null&&(t[to]=[]),t[to].push(e)}function nO(t,e){if(t[to]===null)return;let n=t[to].indexOf(e);n!==-1&&t[to].splice(n,1)}function rs(t){let e=t[nn];return ai(e)?e[nn]:e}var Ie={lFrame:iD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var QC=!1;function rO(){return Ie.lFrame.elementDepthCount}function iO(){Ie.lFrame.elementDepthCount++}function oO(){Ie.lFrame.elementDepthCount--}function YC(){return Ie.bindingsEnabled}function sO(){return Ie.skipHydrationRootTNode!==null}function aO(t){return Ie.skipHydrationRootTNode===t}function cO(){Ie.skipHydrationRootTNode=null}function qe(){return Ie.lFrame.lView}function Wt(){return Ie.lFrame.tView}function Pe(t){return Ie.lFrame.contextLView=t,t[nr]}function Me(t){return Ie.lFrame.contextLView=null,t}function rn(){let t=ZC();for(;t!==null&&t.type===64;)t=t.parent;return t}function ZC(){return Ie.lFrame.currentTNode}function lO(){let t=Ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function cs(t,e){let n=Ie.lFrame;n.currentTNode=t,n.isParent=e}function ay(){return Ie.lFrame.isParent}function JC(){Ie.lFrame.isParent=!1}function uO(){return Ie.lFrame.contextLView}function XC(){return QC}function UI(t){QC=t}function dO(){let t=Ie.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function hO(){return Ie.lFrame.bindingIndex}function fO(t){return Ie.lFrame.bindingIndex=t}function wf(){return Ie.lFrame.bindingIndex++}function eD(t){let e=Ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function pO(){return Ie.lFrame.inI18n}function mO(t,e){let n=Ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ev(e)}function gO(){return Ie.lFrame.currentDirectiveIndex}function Ev(t){Ie.lFrame.currentDirectiveIndex=t}function vO(t){let e=Ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function tD(t){Ie.lFrame.currentQueryIndex=t}function yO(t){let e=t[Ce];return e.type===2?e.declTNode:e.type===1?t[or]:null}function nD(t,e,n){if(n&be.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&be.Host);)if(i=yO(o),i===null||(o=o[La],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Ie.lFrame=rD();return r.currentTNode=e,r.lView=t,!0}function cy(t){let e=rD(),n=t[Ce];Ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function rD(){let t=Ie.lFrame,e=t===null?null:t.child;return e===null?iD(t):e}function iD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function oD(){let t=Ie.lFrame;return Ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var sD=oD;function ly(){let t=oD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _O(t){return(Ie.lFrame.contextLView=tO(t,Ie.lFrame.contextLView))[nr]}function ls(){return Ie.lFrame.selectedIndex}function is(t){Ie.lFrame.selectedIndex=t}function uy(){let t=Ie.lFrame;return zC(t.tView,t.selectedIndex)}function wO(){return Ie.lFrame.currentNamespace}var aD=!0;function Ef(){return aD}function bf(t){aD=t}function EO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=jC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function If(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function Fh(t,e,n){cD(t,e,3,n)}function Lh(t,e,n,r){(t[fe]&3)===n&&cD(t,e,n,r)}function tv(t,e){let n=t[fe];(n&3)===e&&(n&=16383,n+=1,t[fe]=n)}function cD(t,e,n,r){let i=r!==void 0?t[Ea]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Ea]+=65536),(a<o||o==-1)&&(bO(t,n,e,l),t[Ea]=(t[Ea]&4294901760)+l+2),l++}function jI(t,e){Dr(4,t,e);let n=Ve(null);try{e.call(t)}finally{Ve(n),Dr(5,t,e)}}function bO(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[fe]>>14<t[Ea]>>16&&(t[fe]&3)===e&&(t[fe]+=16384,jI(a,o)):jI(a,o)}var Ca=-1,os=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function IO(t){return t instanceof os}function CO(t){return(t.flags&8)!==0}function DO(t){return(t.flags&16)!==0}var nv={},bv=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ff(r);let i=this.injector.get(e,nv,r);return i!==nv||n===nv?i:this.parentInjector.get(e,n,r)}};function lD(t){return t!==Ca}function Qh(t){return t&32767}function TO(t){return t>>16}function Yh(t,e){let n=TO(t),r=e;for(;n>0;)r=r[La],n--;return r}var Iv=!0;function Zh(t){let e=Iv;return Iv=t,e}var SO=256,uD=SO-1,dD=5,AO=0,Tr={};function xO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Cl)&&(r=n[Cl]),r==null&&(r=n[Cl]=AO++);let i=r&uD,o=1<<i;e.data[t+(i>>dD)]|=o}function Jh(t,e){let n=hD(t,e);if(n!==-1)return n;let r=e[Ce];r.firstCreatePass&&(t.injectorIndex=e.length,rv(r.data,t),rv(e,null),rv(r.blueprint,null));let i=dy(t,e),o=t.injectorIndex;if(lD(i)){let s=Qh(i),a=Yh(i,e),l=a[Ce].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|l[s+d]}return e[o+8]=i,o}function rv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function hD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function dy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=vD(i),r===null)return Ca;if(n++,i=i[La],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ca}function Cv(t,e,n){xO(t,e,n)}function fD(t,e,n){if(n&be.Optional||t!==void 0)return t;Xv(e,"NodeInjector")}function pD(t,e,n,r){if(n&be.Optional&&r===void 0&&(r=null),!(n&(be.Self|be.Host))){let i=t[Aa],o=dn(void 0);try{return i?i.get(e,r,n&be.Optional):_C(e,r,n&be.Optional)}finally{dn(o)}}return fD(r,e,n)}function mD(t,e,n,r=be.Default,i){if(t!==null){if(e[fe]&2048&&!(r&be.Self)){let s=OO(t,e,n,r,Tr);if(s!==Tr)return s}let o=gD(t,e,n,r,Tr);if(o!==Tr)return o}return pD(e,n,r,i)}function gD(t,e,n,r,i){let o=MO(n);if(typeof o=="function"){if(!nD(e,t,r))return r&be.Host?fD(i,n,r):pD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&be.Optional))Xv(n);else return s}finally{sD()}}else if(typeof o=="number"){let s=null,a=hD(t,e),l=Ca,d=r&be.Host?e[xr][or]:null;for((a===-1||r&be.SkipSelf)&&(l=a===-1?dy(t,e):e[a+8],l===Ca||!$I(r,!1)?a=-1:(s=e[Ce],a=Qh(l),e=Yh(l,e)));a!==-1;){let p=e[Ce];if(BI(o,a,p.data)){let m=RO(a,e,n,s,r,d);if(m!==Tr)return m}l=e[a+8],l!==Ca&&$I(r,e[Ce].data[a+8]===d)&&BI(o,a,e)?(s=p,a=Qh(l),e=Yh(l,e)):a=-1}}return i}function RO(t,e,n,r,i,o){let s=e[Ce],a=s.data[t+8],l=r==null?gf(a)&&Iv:r!=s&&(a.type&3)!==0,d=i&be.Host&&o===a,p=PO(a,s,n,l,d);return p!==null?Ma(e,s,p,a):Tr}function PO(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,d=t.directiveEnd,p=o>>20,m=r?a:a+p,y=i?a+p:d;for(let b=m;b<y;b++){let A=s[b];if(b<l&&n===A||b>=l&&A.type===n)return b}if(i){let b=s[l];if(b&&io(b)&&b.type===n)return l}return null}function Ma(t,e,n,r){let i=t[n],o=e.data;if(IO(i)){let s=i;s.resolving&&aN(sN(o[n]));let a=Zh(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?dn(s.injectImpl):null,p=nD(t,r,be.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&EO(n,o[n],e)}finally{d!==null&&dn(d),Zh(a),s.resolving=!1,sD()}}return i}function MO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Cl)?t[Cl]:void 0;return typeof e=="number"?e>=0?e&uD:NO:e}function BI(t,e,n){let r=1<<t;return!!(n[e+(t>>dD)]&r)}function $I(t,e){return!(t&be.Self)&&!(t&be.Host&&e)}var Xo=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return mD(this._tNode,this._lView,e,ff(r),n)}};function NO(){return new Xo(rn(),qe())}function li(t){return Ml(()=>{let e=t.prototype.constructor,n=e[jh]||Dv(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[jh]||Dv(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Dv(t){return fC(t)?()=>{let e=Dv(en(t));return e&&e()}:es(t)}function OO(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[fe]&2048&&!(s[fe]&512);){let a=gD(o,s,n,r|be.Self,Tr);if(a!==Tr)return a;let l=o.parent;if(!l){let d=s[LC];if(d){let p=d.get(n,Tr,r);if(p!==Tr)return p}l=vD(s),s=s[La]}o=l}return i}function vD(t){let e=t[Ce],n=e.type;return n===2?e.declTNode:n===1?t[or]:null}function HI(t,e=null,n=null,r){let i=yD(t,e,n,r);return i.resolveInjectorInitializers(),i}function yD(t,e=null,n=null,r,i=new Set){let o=[n||Rn,FN(t)];return r=r||(typeof t=="object"?void 0:tn(t)),new Sl(o,e||iy(),r||null,i)}var Gt=class t{static{this.THROW_IF_NOT_FOUND=Dl}static{this.NULL=new Hh}static create(e,n){if(Array.isArray(e))return HI({name:""},n,e,"");{let r=e.name??"";return HI({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=oe({token:t,providedIn:"any",factory:()=>le(IC)})}static{this.__NG_ELEMENT_ID__=-1}};var kO=new te("");kO.__NG_ELEMENT_ID__=t=>{let e=rn();if(e===null)throw new ce(204,!1);if(e.type&2)return e.value;if(t&be.Optional)return null;throw new ce(204,!1)};var FO="ngOriginalError";function iv(t){return t[FO]}var _D=!0,wD=(()=>{class t{static{this.__NG_ELEMENT_ID__=LO}static{this.__NG_ENV_ID__=n=>n}}return t})(),Tv=class extends wD{constructor(e){super(),this._lView=e}onDestroy(e){return KC(this._lView,e),()=>nO(this._lView,e)}};function LO(){return new Tv(qe())}var Va=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new st(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Sv=class extends Nt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,WN()&&(this.destroyRef=K(wD,{optional:!0})??void 0,this.pendingTasks=K(Va,{optional:!0})??void 0)}emit(e){let n=Ve(null);try{super.next(e)}finally{Ve(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof lt&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ue=Sv;function Xh(...t){}function ED(t){let e,n;function r(){t=Xh;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function zI(t){return queueMicrotask(()=>t()),()=>{t=Xh}}var hy="isAngularZone",ef=hy+"_ID",VO=0,je=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ue(!1),this.onMicrotaskEmpty=new Ue(!1),this.onStable=new Ue(!1),this.onError=new Ue(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=_D}=e;if(typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,BO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(hy)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ce(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,UO,Xh,Xh);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},UO={};function fy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function jO(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){ED(()=>{t.callbackScheduled=!1,Av(t),t.isCheckStableRunning=!0,fy(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Av(t)}function BO(t){let e=()=>{jO(t)},n=VO++;t._inner=t._inner.fork({name:"angular",properties:{[hy]:!0,[ef]:n,[ef+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if($O(l))return r.invokeTask(o,s,a,l);try{return qI(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),GI(t)}},onInvoke:(r,i,o,s,a,l,d)=>{try{return qI(t),r.invoke(o,s,a,l,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!HO(l)&&e(),GI(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Av(t),fy(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Av(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function qI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function GI(t){t._nesting--,fy(t)}var xv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ue,this.onMicrotaskEmpty=new Ue,this.onStable=new Ue,this.onError=new Ue}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function $O(t){return bD(t,"__ignore_ng_zone__")}function HO(t){return bD(t,"__scheduler_tick__")}function bD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ti=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&iv(e);for(;n&&iv(n);)n=iv(n);return n||null}},zO=new te("",{providedIn:"root",factory:()=>{let t=K(je),e=K(ti);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function qO(){return Cf(rn(),qe())}function Cf(t,e){return new on(Fn(t,e))}var on=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=qO}}return t})();function ID(t){return(t.flags&128)===128}var CD=new Map,GO=0;function WO(){return GO++}function KO(t){CD.set(t[mf],t)}function Rv(t){CD.delete(t[mf])}var WI="__ngContext__";function oo(t,e){no(e)?(t[WI]=e[mf],KO(e)):t[WI]=e}function DD(t){return SD(t[Al])}function TD(t){return SD(t[tr])}function SD(t){for(;t!==null&&!ai(t);)t=t[tr];return t}var Pv;function AD(t){Pv=t}function QO(){if(Pv!==void 0)return Pv;if(typeof document<"u")return document;throw new ce(210,!1)}var py=new te("",{providedIn:"root",factory:()=>YO}),YO="ng",my=new te(""),Pr=new te("",{providedIn:"platform",factory:()=>"unknown"});var gy=new te("",{providedIn:"root",factory:()=>QO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ZO="h",JO="b";var XO=()=>null;function vy(t,e,n=!1){return XO(t,e,n)}var xD=!1,ek=new te("",{providedIn:"root",factory:()=>xD});var tf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dC})`}};function Df(t){return t instanceof tf?t.changingThisBreaksApplicationSecurity:t}function RD(t,e){let n=tk(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${dC})`)}return n===e}function tk(t){return t instanceof tf&&t.getTypeName()||null}var nk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function PD(t){return t=String(t),t.match(nk)?t:"unsafe:"+t}var yy=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(yy||{});function co(t){let e=rk();return e?e.sanitize(yy.URL,t)||"":RD(t,"URL")?Df(t):PD(Jo(t))}function rk(){let t=qe();return t&&t[Ar].sanitizer}var ik=/^>|^->|<!--|-->|--!>|<!-$/g,ok=/(<|>)/g,sk="\u200B$1\u200B";function ak(t){return t.replace(ik,e=>e.replace(ok,sk))}function MD(t){return t instanceof Function?t():t}var ni=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ni||{}),ck;function _y(t,e){return ck(t,e)}function ba(t,e,n,r,i){if(r!=null){let o,s=!1;ai(r)?o=r:no(r)&&(s=!0,r=r[si]);let a=Rr(r);t===0&&n!==null?i==null?LD(e,n,a):nf(e,n,a,i||null,!0):t===1&&n!==null?nf(e,n,a,i||null,!0):t===2?Ck(e,a,s):t===3&&e.destroyNode(a),o!=null&&Tk(e,t,o,n,i)}}function lk(t,e){return t.createText(e)}function uk(t,e,n){t.setValue(e,n)}function dk(t,e){return t.createComment(ak(e))}function ND(t,e,n){return t.createElement(e,n)}function hk(t,e){OD(t,e),e[si]=null,e[or]=null}function fk(t,e,n,r,i,o){r[si]=i,r[or]=e,Sf(t,r,n,1,i,o)}function OD(t,e){e[Ar].changeDetectionScheduler?.notify(9),Sf(t,e,e[wt],2,null,null)}function pk(t){let e=t[Al];if(!e)return ov(t[Ce],t);for(;e;){let n=null;if(no(e))n=e[Al];else{let r=e[Mn];r&&(n=r)}if(!n){for(;e&&!e[tr]&&e!==t;)no(e)&&ov(e[Ce],e),e=e[nn];e===null&&(e=t),no(e)&&ov(e[Ce],e),n=e&&e[tr]}e=n}}function mk(t,e,n,r){let i=Mn+r,o=n.length;r>0&&(n[i-1][tr]=e),r<o-Mn?(e[tr]=n[i],bC(n,Mn+r,e)):(n.push(e),e[tr]=null),e[nn]=n;let s=e[xa];s!==null&&n!==s&&kD(s,e);let a=e[Ra];a!==null&&a.insertView(t),wv(e),e[fe]|=128}function kD(t,e){let n=t[Wh],r=e[nn];if(no(r))t[fe]|=Kh.HasTransplantedViews;else{let i=r[nn][xr];e[xr]!==i&&(t[fe]|=Kh.HasTransplantedViews)}n===null?t[Wh]=[e]:n.push(e)}function wy(t,e){let n=t[Wh],r=n.indexOf(e);n.splice(r,1)}function Mv(t,e){if(t.length<=Mn)return;let n=Mn+e,r=t[n];if(r){let i=r[xa];i!==null&&i!==t&&wy(i,r),e>0&&(t[n-1][tr]=r[tr]);let o=$h(t,Mn+e);hk(r[Ce],r);let s=o[Ra];s!==null&&s.detachView(o[Ce]),r[nn]=null,r[tr]=null,r[fe]&=-129}return r}function FD(t,e){if(!(e[fe]&256)){let n=e[wt];n.destroyNode&&Sf(t,e,n,3,null,null),pk(e)}}function ov(t,e){if(e[fe]&256)return;let n=Ve(null);try{e[fe]&=-129,e[fe]|=256,e[Pn]&&Mg(e[Pn]),vk(t,e),gk(t,e),e[Ce].type===1&&e[wt].destroy();let r=e[xa];if(r!==null&&ai(e[nn])){r!==e[nn]&&wy(r,e);let i=e[Ra];i!==null&&i.detachView(t)}Rv(e)}finally{Ve(n)}}function gk(t,e){let n=t.cleanup,r=e[qh];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[qh]=null);let i=e[to];if(i!==null){e[to]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function vk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof os)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Dr(4,a,l);try{l.call(a)}finally{Dr(5,a,l)}}else{Dr(4,i,o);try{o.call(i)}finally{Dr(5,i,o)}}}}}function yk(t,e,n){return _k(t,e.parent,n)}function _k(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[si];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Sr.None||o===Sr.Emulated)return null}return Fn(r,n)}}function nf(t,e,n,r,i){t.insertBefore(e,n,r,i)}function LD(t,e,n){t.appendChild(e,n)}function KI(t,e,n,r,i){r!==null?nf(t,e,n,r,i):LD(t,e,n)}function VD(t,e){return t.parentNode(e)}function wk(t,e){return t.nextSibling(e)}function Ek(t,e,n){return Ik(t,e,n)}function bk(t,e,n){return t.type&40?Fn(t,n):null}var Ik=bk,QI;function Tf(t,e,n,r){let i=yk(t,r,e),o=e[wt],s=r.parent||e[or],a=Ek(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)KI(o,i,n[l],a,!1);else KI(o,i,n,a,!1);QI!==void 0&&QI(o,r,e,n,i)}function bl(t,e){if(e!==null){let n=e.type;if(n&3)return Fn(e,t);if(n&4)return Nv(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return bl(t,r);{let i=t[e.index];return ai(i)?Nv(-1,i):Rr(i)}}else{if(n&128)return bl(t,e.next);if(n&32)return _y(e,t)()||Rr(t[e.index]);{let r=UD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=rs(t[xr]);return bl(i,r)}else return bl(t,e.next)}}}return null}function UD(t,e){if(e!==null){let r=t[xr][or],i=e.projection;return r.projection[i]}return null}function Nv(t,e){let n=Mn+t+1;if(n<e.length){let r=e[n],i=r[Ce].firstChild;if(i!==null)return bl(r,i)}return e[ns]}function Ck(t,e,n){t.removeChild(null,e,n)}function Ey(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&oo(Rr(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Ey(t,e,n.child,r,i,o,!1),ba(e,t,i,a,o);else if(l&32){let d=_y(n,r),p;for(;p=d();)ba(e,t,i,p,o);ba(e,t,i,a,o)}else l&16?Dk(t,e,r,n,i,o):ba(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Sf(t,e,n,r,i,o){Ey(n,r,t.firstChild,e,i,o,!1)}function Dk(t,e,n,r,i,o){let s=n[xr],l=s[or].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let p=l[d];ba(e,t,i,p,o)}else{let d=l,p=s[nn];ID(r)&&(d.flags|=128),Ey(t,e,d,p,i,o,!0)}}function Tk(t,e,n,r,i){let o=n[ns],s=Rr(n);o!==s&&ba(e,t,r,o,i);for(let a=Mn;a<n.length;a++){let l=n[a];Sf(l[Ce],l,t,e,r,o)}}function Sk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:ni.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ni.Important),t.setStyle(n,r,i,o))}}function Ak(t,e,n){t.setAttribute(e,"style",n)}function jD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function BD(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&pv(t,e,r),i!==null&&jD(t,e,i),o!==null&&Ak(t,e,o)}var ui={};function k(t=1){$D(Wt(),qe(),ls()+t,!1)}function $D(t,e,n,r){if(!r)if((e[fe]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Fh(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Lh(e,o,0,n)}is(n)}function G(t,e=be.Default){let n=qe();if(n===null)return le(t,e);let r=rn();return mD(r,n,en(t),e)}function HD(t,e,n,r,i,o){let s=Ve(null);try{let a=null;i&ro.SignalBased&&(a=e[r][Jr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ro.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):UC(e,a,r,o)}finally{Ve(s)}}function xk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)is(~i);else{let o=i,s=n[++r],a=n[++r];mO(s,o);let l=e[o];a(2,l)}}}finally{is(-1)}}function Af(t,e,n,r,i,o,s,a,l,d,p){let m=e.blueprint.slice();return m[si]=i,m[fe]=r|4|128|8|64,(d!==null||t&&t[fe]&2048)&&(m[fe]|=2048),GC(m),m[nn]=m[La]=t,m[nr]=n,m[Ar]=s||t&&t[Ar],m[wt]=a||t&&t[wt],m[Aa]=l||t&&t[Aa]||null,m[or]=o,m[mf]=WO(),m[zh]=p,m[LC]=d,m[xr]=e.type==2?t[xr]:m,m}function Ol(t,e,n,r,i){let o=t.data[e];if(o===null)o=Rk(t,e,n,r,i),pO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=lO();o.injectorIndex=s===null?-1:s.injectorIndex}return cs(o,!0),o}function Rk(t,e,n,r,i){let o=ZC(),s=ay(),a=s?o:o&&o.parent,l=t.data[e]=kk(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function zD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qD(t,e,n,r,i){let o=ls(),s=r&2;try{is(-1),s&&e.length>On&&$D(t,e,On,!1),Dr(s?2:0,i),n(r,i)}finally{is(o),Dr(s?3:1,i)}}function by(t,e,n){if(oy(e)){let r=Ve(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Ve(r)}}}function Iy(t,e,n){YC()&&(Bk(t,e,n,Fn(n,e)),(n.flags&64)===64&&QD(t,e,n))}function Cy(t,e,n=Fn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function GD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Dy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Dy(t,e,n,r,i,o,s,a,l,d,p){let m=On+r,y=m+i,b=Pk(m,y),A=typeof d=="function"?d():d;return b[Ce]={type:t,blueprint:b,template:n,queries:null,viewQuery:a,declTNode:e,data:b.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:A,incompleteFirstPass:!1,ssrId:p}}function Pk(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ui);return n}function Mk(t,e,n,r){let o=r.get(ek,xD)||n===Sr.ShadowDom,s=t.selectRootElement(e,o);return Nk(s),s}function Nk(t){Ok(t)}var Ok=()=>null;function kk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return sO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function YI(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=ro.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}t===0?ZI(r,n,d,a,l):ZI(r,n,d,a)}return r}function ZI(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function Fk(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,d=null;for(let p=r;p<i;p++){let m=o[p],y=n?n.get(m):null,b=y?y.inputs:null,A=y?y.outputs:null;l=YI(0,m.inputs,p,l,b),d=YI(1,m.outputs,p,d,A);let j=l!==null&&s!==null&&!ty(e)?Jk(l,p,s):null;a.push(j)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=d}function Lk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function WD(t,e,n,r,i,o,s,a){let l=Fn(e,n),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(Sy(t,n,p,r,i),gf(e)&&Vk(n,e.index)):e.type&3?(r=Lk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function Vk(t,e){let n=ao(e,t);n[fe]&16||(n[fe]|=64)}function Ty(t,e,n,r){if(YC()){let i=r===null?null:{"":-1},o=Hk(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&KD(t,e,n,s,i,a),i&&zk(n,r,i)}n.mergedAttrs=Tl(n.mergedAttrs,n.attrs)}function KD(t,e,n,r,i,o){for(let d=0;d<r.length;d++)Cv(Jh(n,e),t,r[d].type);Gk(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,l=zD(t,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];n.mergedAttrs=Tl(n.mergedAttrs,p.hostAttrs),Wk(t,n,e,l,p),qk(l,p,i),p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let m=p.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}Fk(t,n,o)}function Uk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;jk(s)!=a&&s.push(a),s.push(n,r,o)}}function jk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Bk(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;gf(n)&&Kk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Jh(n,e),oo(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],d=Ma(e,t,a,n);if(oo(d,e),s!==null&&Zk(e,a-i,d,l,n,s),io(l)){let p=ao(n.index,e);p[nr]=Ma(e,t,a,n)}}}function QD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=gO();try{is(o);for(let a=r;a<i;a++){let l=t.data[a],d=e[a];Ev(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&$k(l,d)}}finally{is(-1),Ev(s)}}function $k(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Hk(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(SN(e,s.selectors,!1))if(r||(r=[]),io(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;Ov(t,e,l)}else r.unshift(s),Ov(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Ov(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function zk(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new ce(-301,!1);r.push(e[i],o)}}}function qk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;io(e)&&(n[""]=t)}}function Gk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Wk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=es(i.type,!0)),s=new os(o,io(i),G);t.blueprint[r]=s,n[r]=s,Uk(t,e,r,zD(t,n,i.hostVars,ui),i)}function Kk(t,e,n){let r=Fn(e,t),i=GD(n),o=t[Ar].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=xf(t,Af(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Qk(t,e,n,r,i,o){let s=Fn(t,e);Yk(e[wt],s,o,t.value,n,r,i)}function Yk(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Jo(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function Zk(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],d=s[a++],p=s[a++],m=s[a++];HD(r,n,l,d,p,m)}}function Jk(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function YD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ZD(t,e){let n=t.contentQueries;if(n!==null){let r=Ve(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];tD(o),a.contentQueries(2,e[s],s)}}}finally{Ve(r)}}}function xf(t,e){return t[Al]?t[LI][tr]=e:t[Al]=e,t[LI]=e,e}function kv(t,e,n){tD(0);let r=Ve(null);try{e(t,n)}finally{Ve(r)}}function Xk(t){return t[qh]??=[]}function eF(t){return t.cleanup??=[]}function JD(t,e){let n=t[Aa],r=n?n.get(ti,null):null;r&&r.handleError(e)}function Sy(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],d=e[s],p=t.data[s];HD(p,d,r,a,l,i)}}function XD(t,e,n){let r=HC(e,t);uk(t[wt],r,n)}function tF(t,e){let n=ao(e,t),r=n[Ce];nF(r,n);let i=n[si];i!==null&&n[zh]===null&&(n[zh]=vy(i,n[Aa])),Ay(r,n,n[nr])}function nF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ay(t,e,n){cy(e);try{let r=t.viewQuery;r!==null&&kv(1,r,n);let i=t.template;i!==null&&qD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ra]?.finishViewCreation(t),t.staticContentQueries&&ZD(t,e),t.staticViewQueries&&kv(2,t.viewQuery,n);let o=t.components;o!==null&&rF(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[fe]&=-5,ly()}}function rF(t,e){for(let n=0;n<e.length;n++)tF(t,e[n])}function iF(t,e,n,r){let i=Ve(null);try{let o=e.tView,a=t[fe]&4096?4096:16,l=Af(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];l[xa]=d;let p=t[Ra];return p!==null&&(l[Ra]=p.createEmbeddedView(o)),Ay(o,l,n),l}finally{Ve(i)}}function JI(t,e){return!e||e.firstChild===null||ID(t)}function oF(t,e,n,r=!0){let i=e[Ce];if(mk(i,e,t,n),r){let s=Nv(n,t),a=e[wt],l=VD(a,t[ns]);l!==null&&fk(i,t[or],a,e,l,s)}let o=e[zh];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rf(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Rr(o)),ai(o)&&sF(o,r);let s=n.type;if(s&8)rf(t,e,n.child,r);else if(s&32){let a=_y(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=UD(e,n);if(Array.isArray(a))r.push(...a);else{let l=rs(e[xr]);rf(l[Ce],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function sF(t,e){for(let n=Mn;n<t.length;n++){let r=t[n],i=r[Ce].firstChild;i!==null&&rf(r[Ce],r,i,e)}t[ns]!==t[si]&&e.push(t[ns])}var eT=[];function aF(t){return t[Pn]??cF(t)}function cF(t){let e=eT.pop()??Object.create(uF);return e.lView=t,e}function lF(t){t.lView[Pn]!==t&&(t.lView=null,eT.push(t))}var uF=ge(q({},yl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{_f(t.lView)},consumerOnSignalRead(){this.lView[Pn]=this}});function dF(t){let e=t[Pn]??Object.create(hF);return e.lView=t,e}var hF=ge(q({},yl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=rs(t.lView);for(;e&&!tT(e[Ce]);)e=rs(e);e&&WC(e)},consumerOnSignalRead(){this.lView[Pn]=this}});function tT(t){return t.type!==2}var fF=100;function nT(t,e=!0,n=0){let r=t[Ar],i=r.rendererFactory,o=!1;o||i.begin?.();try{pF(t,n)}catch(s){throw e&&JD(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function pF(t,e){let n=XC();try{UI(!0),Fv(t,e);let r=0;for(;yf(t);){if(r===fF)throw new ce(103,!1);r++,Fv(t,1)}}finally{UI(n)}}function mF(t,e,n,r){let i=e[fe];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Ar].inlineEffectRunner?.flush(),cy(e);let a=!0,l=null,d=null;o||(tT(t)?(d=aF(e),l=eh(d)):Hb()===null?(a=!1,d=dF(e),l=eh(d)):e[Pn]&&(Mg(e[Pn]),e[Pn]=null));try{GC(e),fO(t.bindingStartIndex),n!==null&&qD(t,e,n,2,r);let p=(i&3)===3;if(!o)if(p){let b=t.preOrderCheckHooks;b!==null&&Fh(e,b,null)}else{let b=t.preOrderHooks;b!==null&&Lh(e,b,0,null),tv(e,0)}if(s||gF(e),rT(e,0),t.contentQueries!==null&&ZD(t,e),!o)if(p){let b=t.contentCheckHooks;b!==null&&Fh(e,b)}else{let b=t.contentHooks;b!==null&&Lh(e,b,1),tv(e,1)}xk(t,e);let m=t.components;m!==null&&oT(e,m,0);let y=t.viewQuery;if(y!==null&&kv(2,y,r),!o)if(p){let b=t.viewCheckHooks;b!==null&&Fh(e,b)}else{let b=t.viewHooks;b!==null&&Lh(e,b,2),tv(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ev]){for(let b of e[ev])b();e[ev]=null}o||(e[fe]&=-73)}catch(p){throw o||_f(e),p}finally{d!==null&&(Rg(d,l),a&&lF(d)),ly()}}function rT(t,e){for(let n=DD(t);n!==null;n=TD(n))for(let r=Mn;r<n.length;r++){let i=n[r];iT(i,e)}}function gF(t){for(let e=DD(t);e!==null;e=TD(e)){if(!(e[fe]&Kh.HasTransplantedViews))continue;let n=e[Wh];for(let r=0;r<n.length;r++){let i=n[r];WC(i)}}}function vF(t,e,n){let r=ao(e,t);iT(r,n)}function iT(t,e){sy(t)&&Fv(t,e)}function Fv(t,e){let r=t[Ce],i=t[fe],o=t[Pn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Pg(o)),s||=!1,o&&(o.dirty=!1),t[fe]&=-9217,s)mF(r,t,r.template,t[nr]);else if(i&8192){rT(t,1);let a=r.components;a!==null&&oT(t,a,1)}}function oT(t,e,n){for(let r=0;r<e.length;r++)vF(t,e[r],n)}function xy(t,e){let n=XC()?64:1088;for(t[Ar].changeDetectionScheduler?.notify(e);t;){t[fe]|=n;let r=rs(t);if(yv(t)&&!r)return t;t=r}return null}var ss=class{get rootNodes(){let e=this._lView,n=e[Ce];return rf(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nr]}set context(e){this._lView[nr]=e}get destroyed(){return(this._lView[fe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nn];if(ai(e)){let n=e[Gh],r=n?n.indexOf(this):-1;r>-1&&(Mv(e,r),$h(n,r))}this._attachedToViewContainer=!1}FD(this._lView[Ce],this._lView)}onDestroy(e){KC(this._lView,e)}markForCheck(){xy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[fe]&=-129}reattach(){wv(this._lView),this._lView[fe]|=128}detectChanges(){this._lView[fe]|=1024,nT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=yv(this._lView),n=this._lView[xa];n!==null&&!e&&wy(n,this._lView),OD(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=e;let n=yv(this._lView),r=this._lView[xa];r!==null&&!n&&kD(r,this._lView),wv(this._lView)}},Rf=(()=>{class t{static{this.__NG_ELEMENT_ID__=wF}}return t})(),yF=Rf,_F=class extends yF{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=iF(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ss(i)}};function wF(){return sT(rn(),qe())}function sT(t,e){return t.type&4?new _F(e,t,Cf(t,e)):null}var rQ=new RegExp(`^(\\d+)*(${JO}|${ZO})*(.*)`);var EF=()=>null;function XI(t,e){return EF(t,e)}var Na=class{},Pf=new te("",{providedIn:"root",factory:()=>!1});var aT=new te(""),cT=new te(""),Lv=class{},of=class{};function bF(t){let e=Error(`No component factory found for ${tn(t)}.`);return e[IF]=t,e}var IF="ngComponent";var Vv=class{resolveComponentFactory(e){throw bF(e)}},Oa=class{static{this.NULL=new Vv}},ka=class{},Ln=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>CF()}}return t})();function CF(){let t=qe(),e=rn(),n=ao(e.index,t);return(no(n)?n:t)[wt]}var DF=(()=>{class t{static{this.\u0275prov=oe({token:t,providedIn:"root",factory:()=>null})}}return t})();function sf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=SI(i,a);else if(o==2){let l=a,d=e[++s];r=SI(r,l+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var af=class extends Oa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ts(e);return new xl(n,this.ngModule)}};function eC(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ro.None;e?n.push({propName:s,templateName:r,isSignal:(a&ro.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function TF(t){let e=t.toLowerCase();return e==="svg"?JN:e==="math"?XN:null}var xl=class extends of{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=eC(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return eC(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=PN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Ve(null);try{i=i||this.ngModule;let s=i instanceof Nn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new bv(e,s):e,l=a.get(ka,null);if(l===null)throw new ce(407,!1);let d=a.get(DF,null),p=a.get(Na,null),m={rendererFactory:l,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},y=l.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",A=r?Mk(y,r,this.componentDef.encapsulation,a):ND(y,b,TF(b)),j=512;this.componentDef.signals?j|=4096:this.componentDef.onPush||(j|=16);let L=null;A!==null&&(L=vy(A,a,!0));let $=Dy(0,null,null,1,0,null,null,null,null,null,null),J=Af(null,$,null,j,null,null,m,y,a,null,L);cy(J);let X,re,Ne=null;try{let ae=this.componentDef,x,C=null;ae.findHostDirectiveDefs?(x=[],C=new Map,ae.findHostDirectiveDefs(ae,x,C),x.push(ae)):x=[ae];let T=SF(J,A);Ne=AF(T,A,ae,x,J,m,y),re=zC($,On),A&&PF(y,ae,A,r),n!==void 0&&MF(re,this.ngContentSelectors,n),X=RF(Ne,ae,x,C,J,[NF]),Ay($,J,null)}catch(ae){throw Ne!==null&&Rv(Ne),Rv(J),ae}finally{ly()}return new Uv(this.componentType,X,Cf(re,J),J,re)}finally{Ve(o)}}},Uv=class extends Lv{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ss(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Sy(o[Ce],o,i,e,n),this.previousInputValues.set(e,n);let s=ao(this._tNode.index,o);xy(s,1)}}get injector(){return new Xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function SF(t,e){let n=t[Ce],r=On;return t[r]=e,Ol(n,r,2,"#host",null)}function AF(t,e,n,r,i,o,s){let a=i[Ce];xF(r,t,e,s);let l=null;e!==null&&(l=vy(e,i[Aa]));let d=o.rendererFactory.createRenderer(e,n),p=16;n.signals?p=4096:n.onPush&&(p=64);let m=Af(i,GD(n),null,p,i[t.index],t,o,d,null,null,l);return a.firstCreatePass&&Ov(a,t,r.length-1),xf(i,m),i[t.index]=m}function xF(t,e,n,r){for(let i of t)e.mergedAttrs=Tl(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(sf(e,e.mergedAttrs,!0),n!==null&&BD(r,n,e))}function RF(t,e,n,r,i,o){let s=rn(),a=i[Ce],l=Fn(s,i);KD(a,i,s,n,null,r);for(let p=0;p<n.length;p++){let m=s.directiveStart+p,y=Ma(i,a,m,s);oo(y,i)}QD(a,i,s),l&&oo(l,i);let d=Ma(i,a,s.directiveStart+s.componentOffset,s);if(t[nr]=i[nr]=d,o!==null)for(let p of o)p(d,e);return by(a,s,i),d}function PF(t,e,n,r){if(r)pv(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:o}=MN(e.selectors[0]);i&&pv(t,n,i),o&&o.length>0&&jD(t,n,o.join(" "))}}function MF(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function NF(){let t=rn();If(qe()[Ce],t)}var Ua=(()=>{class t{static{this.__NG_ELEMENT_ID__=OF}}return t})();function OF(){let t=rn();return FF(t,qe())}var kF=Ua,lT=class extends kF{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Cf(this._hostTNode,this._hostLView)}get injector(){return new Xo(this._hostTNode,this._hostLView)}get parentInjector(){let e=dy(this._hostTNode,this._hostLView);if(lD(e)){let n=Yh(e,this._hostLView),r=Qh(e),i=n[Ce].data[r+8];return new Xo(i,n)}else return new Xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=tC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Mn}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=XI(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,JI(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!KN(e),a;if(s)a=n;else{let A=n||{};a=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let l=s?e:new xl(ts(e)),d=r||this.parentInjector;if(!o&&l.ngModule==null){let j=(s?d:this.parentInjector).get(Nn,null);j&&(o=j)}let p=ts(l.componentType??{}),m=XI(this._lContainer,p?.id??null),y=m?.firstChild??null,b=l.create(d,i,y,o);return this.insertImpl(b.hostView,a,JI(this._hostTNode,m)),b}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(eO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[nn],d=new lT(l,l[or],l[nn]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return oF(s,i,o,r),e.attachToViewContainerRef(),bC(sv(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=tC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Mv(this._lContainer,n);r&&($h(sv(this._lContainer),n),FD(r[Ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=Mv(this._lContainer,n);return r&&$h(sv(this._lContainer),n)!=null?new ss(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function tC(t){return t[Gh]}function sv(t){return t[Gh]||(t[Gh]=[])}function FF(t,e){let n,r=e[t.index];return ai(r)?n=r:(n=YD(r,e,null,t),e[t.index]=n,xf(e,n)),VF(n,e,t,r),new lT(n,t,e)}function LF(t,e){let n=t[wt],r=n.createComment(""),i=Fn(e,t),o=VD(n,i);return nf(n,o,r,wk(n,i),!1),r}var VF=BF,UF=()=>!1;function jF(t,e,n){return UF(t,e,n)}function BF(t,e,n,r){if(t[ns])return;let i;n.type&8?i=Rr(r):i=LF(e,n),t[ns]=i}var nC=new Set;function kl(t){nC.has(t)||(nC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function $F(t){return typeof t=="function"&&t[Jr]!==void 0}function lo(t,e){kl("NgSignals");let n=eI(t),r=n[Jr];return e?.equal&&(r.equal=e.equal),n.set=i=>Ng(r,i),n.update=i=>tI(r,i),n.asReadonly=HF.bind(n),n}function HF(){let t=this[Jr];if(t.readonlyFn===void 0){let e=()=>this();e[Jr]=t,t.readonlyFn=e}return t.readonlyFn}function uT(t){return $F(t)&&typeof t.set=="function"}function zF(t){return Object.getPrototypeOf(t.prototype).constructor}function hn(t){let e=zF(t.type),n=!0,r=[t];for(;e;){let i;if(io(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ce(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Mh(t.inputs),s.inputTransforms=Mh(t.inputTransforms),s.declaredInputs=Mh(t.declaredInputs),s.outputs=Mh(t.outputs);let a=i.hostBindings;a&&QF(t,a);let l=i.viewQuery,d=i.contentQueries;if(l&&WF(t,l),d&&KF(t,d),qF(t,i),JM(t.outputs,i.outputs),io(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===hn&&(n=!1)}}e=Object.getPrototypeOf(e)}GF(r)}function qF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function GF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Tl(i.hostAttrs,n=Tl(n,i.hostAttrs))}}function Mh(t){return t===Da?{}:t===Rn?[]:t}function WF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function KF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function QF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var so=class{},Rl=class{};var jv=class extends so{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new af(this);let o=RC(e);this._bootstrapComponents=MD(o.bootstrap),this._r3Injector=yD(e,n,[{provide:so,useValue:this},{provide:Oa,useValue:this.componentFactoryResolver},...r],tn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Bv=class extends Rl{constructor(e){super(),this.moduleType=e}create(e){return new jv(this.moduleType,e,[])}};var cf=class extends so{constructor(e){super(),this.componentFactoryResolver=new af(this),this.instance=null;let n=new Sl([...e.providers,{provide:so,useValue:this},{provide:Oa,useValue:this.componentFactoryResolver}],e.parent||iy(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ry(t,e,n=null){return new cf({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function dT(t){return ZF(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function YF(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ZF(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function JF(t,e,n){return t[e]=n}function ri(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function XF(t,e,n,r){let i=ri(t,e,n);return ri(t,e+1,r)||i}function e2(t,e,n,r,i){let o=XF(t,e,n,r);return ri(t,e+2,i)||o}function t2(t){return(t.flags&32)===32}function n2(t,e,n,r,i,o,s,a,l){let d=e.consts,p=Ol(e,t,4,s||null,a||null);Ty(e,n,p,Pa(d,l)),If(e,p);let m=p.tView=Dy(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),m.queries=e.queries.embeddedTView(p)),p}function r2(t,e,n,r,i,o,s,a,l,d){let p=n+On,m=e.firstCreatePass?n2(p,e,t,r,i,o,s,a,l):e.data[p];cs(m,!1);let y=i2(e,t,m,n);Ef()&&Tf(e,t,y,m),oo(y,t);let b=YD(y,t,y,m);return t[p]=b,xf(t,b),jF(b,m,t),vf(m)&&Iy(e,t,m),l!=null&&Cy(t,m,d),m}function Q(t,e,n,r,i,o,s,a){let l=qe(),d=Wt(),p=Pa(d.consts,o);return r2(l,d,t,e,n,r,i,p,s,a),Q}var i2=o2;function o2(t,e,n,r){return bf(!0),e[wt].createComment("")}var Il=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Il||{}),s2=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}}return t})(),rC=class t{constructor(){this.ngZone=K(je),this.scheduler=K(Na),this.errorHandler=K(ti,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Il.EarlyRead,Il.Write,Il.MixedReadWrite,Il.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}};function ja(t,e,n,r){let i=qe(),o=wf();if(ri(i,o,e)){let s=Wt(),a=uy();Qk(a,i,t,e,n,r)}return ja}function a2(t,e,n,r){return ri(t,wf(),n)?e+Jo(n)+r:ui}function c2(t,e,n,r,i,o,s,a){let l=hO(),d=e2(t,l,n,i,s);return eD(3),d?e+Jo(n)+r+Jo(i)+o+Jo(s)+a:ui}function Nh(t,e){return t<<17|e<<2}function as(t){return t>>17&32767}function l2(t){return(t&2)==2}function u2(t,e){return t&131071|e<<17}function $v(t){return t|2}function Fa(t){return(t&131068)>>2}function av(t,e){return t&-131069|e<<2}function d2(t){return(t&1)===1}function Hv(t){return t|1}function h2(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=as(s),l=Fa(s);t[r]=n;let d=!1,p;if(Array.isArray(n)){let m=n;p=m[1],(p===null||Nl(m,p)>0)&&(d=!0)}else p=n;if(i)if(l!==0){let y=as(t[a+1]);t[r+1]=Nh(y,a),y!==0&&(t[y+1]=av(t[y+1],r)),t[a+1]=u2(t[a+1],r)}else t[r+1]=Nh(a,0),a!==0&&(t[a+1]=av(t[a+1],r)),a=r;else t[r+1]=Nh(l,0),a===0?a=r:t[l+1]=av(t[l+1],r),l=r;d&&(t[r+1]=$v(t[r+1])),iC(t,p,r,!0),iC(t,p,r,!1),f2(e,p,t,r,o),s=Nh(a,l),o?e.classBindings=s:e.styleBindings=s}function f2(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Nl(o,e)>=0&&(n[r+1]=Hv(n[r+1]))}function iC(t,e,n,r){let i=t[n+1],o=e===null,s=r?as(i):Fa(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],d=t[s+1];p2(l,e)&&(a=!0,t[s+1]=r?Hv(d):$v(d)),s=r?as(d):Fa(d)}a&&(t[n+1]=r?$v(i):Hv(i))}function p2(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Nl(t,e)>=0:!1}function U(t,e,n){let r=qe(),i=wf();if(ri(r,i,e)){let o=Wt(),s=uy();WD(o,s,r,t,e,r[wt],n,!1)}return U}function oC(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Sy(t,n,o[s],s,r)}function Mf(t,e){return m2(t,e,null,!0),Mf}function m2(t,e,n,r){let i=qe(),o=Wt(),s=eD(2);if(o.firstUpdatePass&&v2(o,t,s,r),e!==ui&&ri(i,s,e)){let a=o.data[ls()];b2(o,a,i,i[wt],t,i[s+1]=I2(e,n),r,s)}}function g2(t,e){return e>=t.expandoStartIndex}function v2(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ls()],s=g2(t,n);C2(o,r)&&e===null&&!s&&(e=!1),e=y2(i,o,e,r),h2(i,o,e,n,s,r)}}function y2(t,e,n,r){let i=vO(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=cv(null,t,e,n,r),n=Pl(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=cv(i,t,e,n,r),o===null){let l=_2(t,e,r);l!==void 0&&Array.isArray(l)&&(l=cv(null,t,e,l[1],r),l=Pl(l,e.attrs,r),w2(t,e,r,l))}else o=E2(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function _2(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Fa(r)!==0)return t[as(r)]}function w2(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[as(i)]=r}function E2(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Pl(r,s,n)}return Pl(r,e.attrs,n)}function cv(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Pl(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Pl(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),yN(t,s,n?!0:e[++o]))}return t===void 0?null:t}function b2(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,d=l[a+1],p=d2(d)?sC(l,e,n,i,Fa(d),s):void 0;if(!lf(p)){lf(o)||l2(d)&&(o=sC(l,null,n,i,a,s));let m=HC(ls(),n);Sk(r,s,m,i,o)}}function sC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],d=Array.isArray(l),p=d?l[1]:l,m=p===null,y=n[i+1];y===ui&&(y=m?Rn:void 0);let b=m?Jg(y,r):p===r?y:void 0;if(d&&!lf(b)&&(b=Jg(l,r)),lf(b)&&(a=b,s))return a;let A=t[i+1];i=s?as(A):Fa(A)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Jg(l,r))}return a}function lf(t){return t!==void 0}function I2(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=tn(Df(t)))),t}function C2(t,e){return(t.flags&(e?8:16))!==0}function D2(t,e,n,r,i,o){let s=e.consts,a=Pa(s,i),l=Ol(e,t,2,r,a);return Ty(e,n,l,Pa(s,o)),l.attrs!==null&&sf(l,l.attrs,!1),l.mergedAttrs!==null&&sf(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function I(t,e,n,r){let i=qe(),o=Wt(),s=On+t,a=i[wt],l=o.firstCreatePass?D2(s,o,i,e,n,r):o.data[s],d=T2(o,i,l,a,e,t);i[s]=d;let p=vf(l);return cs(l,!0),BD(a,d,l),!t2(l)&&Ef()&&Tf(o,i,d,l),rO()===0&&oo(d,i),iO(),p&&(Iy(o,i,l),by(o,l,i)),r!==null&&Cy(i,l),I}function E(){let t=rn();ay()?JC():(t=t.parent,cs(t,!1));let e=t;aO(e)&&cO(),oO();let n=Wt();return n.firstCreatePass&&(If(n,t),oy(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&CO(e)&&oC(n,e,qe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&DO(e)&&oC(n,e,qe(),e.stylesWithoutHost,!1),E}function ee(t,e,n,r){return I(t,e,n,r),E(),ee}var T2=(t,e,n,r,i,o)=>(bf(!0),ND(r,i,wO()));function S2(t,e,n,r,i){let o=e.consts,s=Pa(o,r),a=Ol(e,t,8,"ng-container",s);s!==null&&sf(a,s,!0);let l=Pa(o,i);return Ty(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Nf(t,e,n){let r=qe(),i=Wt(),o=t+On,s=i.firstCreatePass?S2(o,i,r,e,n):i.data[o];cs(s,!0);let a=A2(i,r,s,t);return r[o]=a,Ef()&&Tf(i,r,a,s),oo(a,r),vf(s)&&(Iy(i,r,s),by(i,s,r)),n!=null&&Cy(r,s),Nf}function Of(){let t=rn(),e=Wt();return ay()?JC():(t=t.parent,cs(t,!1)),e.firstCreatePass&&(If(e,t),oy(t)&&e.queries.elementEnd(t)),Of}var A2=(t,e,n,r)=>(bf(!0),dk(e[wt],""));function Ze(){return qe()}var uf="en-US";var x2=uf;function R2(t){typeof t=="string"&&(x2=t.toLowerCase().replace(/_/g,"-"))}var P2=(t,e,n)=>{};function ie(t,e,n,r){let i=qe(),o=Wt(),s=rn();return hT(o,i,i[wt],s,t,e,r),ie}function M2(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[qh],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function hT(t,e,n,r,i,o,s){let a=vf(r),d=t.firstCreatePass&&eF(t),p=e[nr],m=Xk(e),y=!0;if(r.type&3||s){let j=Fn(r,e),L=s?s(j):j,$=m.length,J=s?re=>s(Rr(re[r.index])):r.index,X=null;if(!s&&a&&(X=M2(t,e,i,r.index)),X!==null){let re=X.__ngLastListenerFn__||X;re.__ngNextListenerFn__=o,X.__ngLastListenerFn__=o,y=!1}else{o=cC(r,e,p,o),P2(j,i,o);let re=n.listen(L,i,o);m.push(o,re),d&&d.push(i,J,$,$+1)}}else o=cC(r,e,p,o);let b=r.outputs,A;if(y&&b!==null&&(A=b[i])){let j=A.length;if(j)for(let L=0;L<j;L+=2){let $=A[L],J=A[L+1],Ne=e[$][J].subscribe(o),ae=m.length;m.push(o,Ne),d&&d.push(i,r.index,ae,-(ae+1))}}}function aC(t,e,n,r){let i=Ve(null);try{return Dr(6,e,n),n(r)!==!1}catch(o){return JD(t,o),!1}finally{Dr(7,e,n),Ve(i)}}function cC(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?ao(t.index,e):e;xy(s,5);let a=aC(e,n,r,o),l=i.__ngNextListenerFn__;for(;l;)a=aC(e,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Y(t=1){return _O(t)}function N2(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function fT(t){let e=uO();return qC(e,On+t)}function P(t,e=""){let n=qe(),r=Wt(),i=t+On,o=r.firstCreatePass?Ol(r,i,1,e,null):r.data[i],s=O2(r,n,o,e,t);n[i]=s,Ef()&&Tf(r,n,s,o),cs(o,!1)}var O2=(t,e,n,r,i)=>(bf(!0),lk(e[wt],r));function Kt(t){return Vn("",t,""),Kt}function Vn(t,e,n){let r=qe(),i=a2(r,t,e,n);return i!==ui&&XD(r,ls(),i),Vn}function Py(t,e,n,r,i,o,s){let a=qe(),l=c2(a,t,e,n,r,i,o,s);return l!==ui&&XD(a,ls(),l),Py}function kf(t,e,n){uT(e)&&(e=e());let r=qe(),i=wf();if(ri(r,i,e)){let o=Wt(),s=uy();WD(o,s,r,t,e,r[wt],n,!1)}return kf}function My(t,e){let n=uT(t);return n&&t.set(e),n}function Ff(t,e){let n=qe(),r=Wt(),i=rn();return hT(r,n,n[wt],i,t,e),Ff}function k2(t,e,n){let r=Wt();if(r.firstCreatePass){let i=io(t);zv(n,r.data,r.blueprint,i,!0),zv(e,r.data,r.blueprint,i,!1)}}function zv(t,e,n,r,i){if(t=en(t),Array.isArray(t))for(let o=0;o<t.length;o++)zv(t[o],e,n,r,i);else{let o=Wt(),s=qe(),a=rn(),l=Sa(t)?t:en(t.provide),d=FC(t),p=a.providerIndexes&1048575,m=a.directiveStart,y=a.providerIndexes>>20;if(Sa(t)||!t.multi){let b=new os(d,i,G),A=uv(l,e,i?p:p+y,m);A===-1?(Cv(Jh(a,s),o,l),lv(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(b),s.push(b)):(n[A]=b,s[A]=b)}else{let b=uv(l,e,p+y,m),A=uv(l,e,p,p+y),j=b>=0&&n[b],L=A>=0&&n[A];if(i&&!L||!i&&!j){Cv(Jh(a,s),o,l);let $=V2(i?L2:F2,n.length,i,r,d);!i&&L&&(n[A].providerFactory=$),lv(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push($),s.push($)}else{let $=pT(n[i?A:b],d,!i&&r);lv(o,t,b>-1?b:A,$)}!i&&r&&L&&n[A].componentProviders++}}}function lv(t,e,n,r){let i=Sa(e),o=jN(e);if(i||o){let l=(o?en(e.useClass):e).prototype.ngOnDestroy;if(l){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(n);p===-1?d.push(n,[r,l]):d[p+1].push(r,l)}else d.push(n,l)}}}function pT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function uv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function F2(t,e,n,r){return qv(this.multi,[])}function L2(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ma(n,n[Ce],this.providerFactory.index,r);o=a.slice(0,s),qv(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],qv(i,o);return o}function qv(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function V2(t,e,n,r,i){let o=new os(t,n,G);return o.multi=[],o.index=e,o.componentProviders=0,pT(o,i,r&&!n),o}function sr(t,e=[]){return n=>{n.providersResolver=(r,i)=>k2(r,i?i(t):t,e)}}var U2=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=NC(!1,n.type),i=r.length>0?Ry([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=oe({token:t,providedIn:"environment",factory:()=>new t(le(Nn))})}}return t})();function Ke(t){kl("NgStandalone"),t.getStandaloneInjector=e=>e.get(U2).getOrCreateStandaloneInjector(t)}function j2(t,e){let n=t[e];return n===ui?void 0:n}function B2(t,e,n,r,i,o){let s=e+n;return ri(t,s,i)?JF(t,s+1,o?r.call(o,i):r(i)):j2(t,s+1)}function mT(t,e){let n=Wt(),r,i=t+On;n.firstCreatePass?(r=$2(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=es(r.type,!0)),s,a=dn(G);try{let l=Zh(!1),d=o();return Zh(l),N2(n,qe(),i,d),d}finally{dn(a)}}function $2(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function gT(t,e,n){let r=t+On,i=qe(),o=qC(i,r);return H2(i,r)?B2(i,dO(),e,o.transform,n,o):o.transform(n)}function H2(t,e){return t[Ce].data[e].pure}function vT(t,e){return sT(t,e)}var ii=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},yT=new ii("18.2.9");var Lf=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var _T=new te("");function us(t){return!!t&&typeof t.then=="function"}function wT(t){return!!t&&typeof t.subscribe=="function"}var ET=new te(""),bT=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=K(ET,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(us(o))n.push(o);else if(wT(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ny=new te("");function z2(){Xb(()=>{throw new ce(600,!1)})}function q2(t){return t.isBoundToModule}var G2=10;function W2(t,e,n){try{let r=n();return us(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ds=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(zO),this.afterRenderManager=K(s2),this.zonelessEnabled=K(Pf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Nt,this.afterTick=new Nt,this.componentTypes=[],this.components=[],this.isStable=K(Va).hasPendingTasks.pipe(Ee(n=>!n)),this._injector=K(Nn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof of;if(!this._injector.get(bT).done){let y=!i&&xC(n),b=!1;throw new ce(405,b)}let s;i?s=n:s=this._injector.get(Oa).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=q2(s)?void 0:this._injector.get(so),l=r||s.selector,d=s.create(Gt.NULL,[],l,a),p=d.location.nativeElement,m=d.injector.get(_T,null);return m?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Vh(this.components,d),m?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ce(101,!1);let n=Ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ve(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(ka,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<G2;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)K2(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>yf(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Vh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Ny,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Vh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ce(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Vh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function K2(t,e,n,r){if(!n&&!yf(t))return;nT(t,e,n&&!r?0:1)}var Gv=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Oy=(()=>{class t{compileModuleSync(n){return new Bv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=RC(n),o=MD(i.declarations).reduce((s,a)=>{let l=ts(a);return l&&s.push(new xl(l)),s},[]);return new Gv(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Q2=(()=>{class t{constructor(){this.zone=K(je),this.changeDetectionScheduler=K(Na),this.applicationRef=K(ds)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Y2=new te("",{factory:()=>!1});function IT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new je(ge(q({},DT()),{scheduleInRootZone:n})),[{provide:je,useFactory:t},{provide:Ta,multi:!0,useFactory:()=>{let r=K(Q2,{optional:!0});return()=>r.initialize()}},{provide:Ta,multi:!0,useFactory:()=>{let r=K(Z2);return()=>{r.initialize()}}},e===!0?{provide:aT,useValue:!0}:[],{provide:cT,useValue:n??_D}]}function CT(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=IT({ngZoneFactory:()=>{let i=DT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&kl("NgZone_CoalesceEvent"),new je(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return kn([{provide:Y2,useValue:!0},{provide:Pf,useValue:!1},r])}function DT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Z2=(()=>{class t{constructor(){this.subscription=new lt,this.initialized=!1,this.zone=K(je),this.pendingTasks=K(Va)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{je.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var J2=(()=>{class t{constructor(){this.appRef=K(ds),this.taskService=K(Va),this.ngZone=K(je),this.zonelessEnabled=K(Pf),this.disableScheduling=K(aT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new lt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ef):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(K(cT,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xv||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?zI:ED;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ef+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function X2(){return typeof $localize<"u"&&$localize.locale||uf}var ky=new te("",{providedIn:"root",factory:()=>K(ky,be.Optional|be.SkipSelf)||X2()});var Wv=new te("");function Oh(t){return!t.moduleRef}function eL(t){let e=Oh(t)?t.r3Injector:t.moduleRef.injector,n=e.get(je);return n.run(()=>{Oh(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(ti,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Oh(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Wv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Wv);s.add(o),t.moduleRef.onDestroy(()=>{Vh(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return W2(r,n,()=>{let o=e.get(bT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(ky,uf);if(R2(s||uf),Oh(t)){let a=e.get(ds);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return tL(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function tL(t,e){let n=t.injector.get(ds);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new ce(-403,!1);e.push(t)}var Uh=null;function nL(t=[],e){return Gt.create({name:e,providers:[{provide:pf,useValue:"platform"},{provide:Wv,useValue:new Set([()=>Uh=null])},...t]})}function rL(t=[]){if(Uh)return Uh;let e=nL(t);return Uh=e,z2(),iL(e),e}function iL(t){t.get(my,null)?.forEach(n=>n())}var hs=(()=>{class t{static{this.__NG_ELEMENT_ID__=oL}}return t})();function oL(t){return sL(rn(),qe(),(t&16)===16)}function sL(t,e,n){if(gf(t)&&!n){let r=ao(t.index,e);return new ss(r,r)}else if(t.type&175){let r=e[xr];return new ss(r,e)}return null}var Kv=class{constructor(){}supports(e){return dT(e)}create(e){return new Qv(e)}},aL=(t,e)=>e,Qv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||aL}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<lC(r,i,o)?n:r,a=lC(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=l-i;if(d!=p){for(let y=0;y<d;y++){let b=y<o.length?o[y]:o[y]=0,A=b+y;p<=A&&A<d&&(o[y]=b+1)}let m=s.previousIndex;o[m]=p-d}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!dT(e))throw new ce(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,YF(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Yv(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new df),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new df),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Yv=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Zv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},df=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Zv,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function lC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function uC(){return new Fy([new Kv])}var Fy=(()=>{class t{static{this.\u0275prov=oe({token:t,providedIn:"root",factory:uC})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||uC()),deps:[[t,new EC,new Et]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new ce(901,!1)}}return t})();function TT(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=rL(r),o=[IT({}),{provide:Na,useExisting:J2},...n||[]],s=new cf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return eL({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Fl(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ba(t,e){kl("NgSignals");let n=Yb(t);return e?.equal&&(n[Jr].equal=e.equal),n}function Mr(t){let e=Ve(null);try{return t()}finally{Ve(e)}}var PT=null;function di(){return PT}function MT(t){PT??=t}var Vf=class{};var Un=new te(""),NT=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:()=>K(uL),providedIn:"platform"})}}return t})();var uL=(()=>{class t extends NT{constructor(){super(),this._doc=K(Un),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return di().getBaseHref(this._doc)}onPopState(n){let r=di().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=di().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function OT(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function ST(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function fs(t){return t&&t[0]!=="?"?"?"+t:t}var jf=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:()=>K(kT),providedIn:"root"})}}return t})(),dL=new te(""),kT=(()=>{class t extends jf{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??K(Un).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return OT(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+fs(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+fs(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+fs(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(le(NT),le(dL,8))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ll=(()=>{class t{constructor(n){this._subject=new Ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=pL(ST(AT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+fs(r))}normalize(n){return t.stripTrailingSlash(fL(this._basePath,AT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+fs(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+fs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=fs}static{this.joinWithSlash=OT}static{this.stripTrailingSlash=ST}static{this.\u0275fac=function(r){return new(r||t)(le(jf))}}static{this.\u0275prov=oe({token:t,factory:()=>hL(),providedIn:"root"})}}return t})();function hL(){return new Ll(le(jf))}function fL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function AT(t){return t.replace(/\/index.html$/,"")}function pL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function FT(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ly=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},$a=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ly(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),xT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);xT(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(G(Ua),G(Rf),G(Fy))}}static{this.\u0275dir=We({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function xT(t,e){t.context.$implicit=e.item}var Qt=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Vy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){RT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){RT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(G(Ua),G(Rf))}}static{this.\u0275dir=We({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Vy=class{constructor(){this.$implicit=null,this.ngIf=null}};function RT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${tn(e)}'.`)}var jt=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ir({type:t})}static{this.\u0275inj=rr({})}}return t})(),Uy="browser",mL="server";function LT(t){return t===Uy}function jy(t){return t===mL}var Uf=class{};var Hy=class extends Vf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},zy=class t extends Hy{static makeCurrent(){MT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=gL();return n==null?null:vL(n)}resetBaseElement(){Vl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return FT(document.cookie,e)}},Vl=null;function gL(){return Vl=Vl||document.querySelector("base"),Vl?Vl.getAttribute("href"):null}function vL(t){return new URL(t,document.baseURI).pathname}var yL=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac})}}return t})(),qy=new te(""),BT=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new ce(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(le(qy),le(je))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac})}}return t})(),Bf=class{constructor(e){this._doc=e}},By="ng-app-id",$T=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jy(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${By}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(By),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(By,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(le(Un),le(py),le(gy,8),le(Pr))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac})}}return t})(),$y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Wy=/%COMP%/g,HT="%COMP%",_L=`_nghost-${HT}`,wL=`_ngcontent-${HT}`,EL=!0,bL=new te("",{providedIn:"root",factory:()=>EL});function IL(t){return wL.replace(Wy,t)}function CL(t){return _L.replace(Wy,t)}function zT(t,e){return e.map(n=>n.replace(Wy,t))}var VT=(()=>{class t{constructor(n,r,i,o,s,a,l,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=jy(a),this.defaultRenderer=new Ul(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Sr.ShadowDom&&(r=ge(q({},r),{encapsulation:Sr.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof $f?i.applyToHost(n):i instanceof jl&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Sr.Emulated:o=new $f(l,d,r,this.appId,p,s,a,m);break;case Sr.ShadowDom:return new Gy(l,d,n,r,s,a,this.nonce,m);default:o=new jl(l,d,r,p,s,a,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(le(BT),le($T),le(py),le(bL),le(Un),le(Pr),le(je),le(gy))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac})}}return t})(),Ul=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS($y[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(UT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(UT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ce(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=$y[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=$y[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ni.DashCase|ni.Important)?e.style.setProperty(n,r,i&ni.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ni.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=di().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function UT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Gy=class extends Ul{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=zT(i.id,i.styles);for(let p of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},jl=class extends Ul{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?zT(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},$f=class extends jl{constructor(e,n,r,i,o,s,a,l){let d=i+"-"+r.id;super(e,n,r,o,s,a,l,d),this.contentAttr=IL(d),this.hostAttr=CL(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},DL=(()=>{class t extends Bf{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(le(Un))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac})}}return t})(),jT=["alt","control","meta","shift"],TL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},SL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},AL=(()=>{class t extends Bf{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>di().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),jT.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=TL[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),jT.forEach(s=>{if(s!==i){let a=SL[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(le(Un))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac})}}return t})();function qT(t,e){return TT(q({rootComponent:t},xL(e)))}function xL(t){return{appProviders:[...OL,...t?.providers??[]],platformProviders:NL}}function RL(){zy.makeCurrent()}function PL(){return new ti}function ML(){return AD(document),document}var NL=[{provide:Pr,useValue:Uy},{provide:my,useValue:RL,multi:!0},{provide:Un,useFactory:ML,deps:[]}];var OL=[{provide:pf,useValue:"root"},{provide:ti,useFactory:PL,deps:[]},{provide:qy,useClass:DL,multi:!0,deps:[Un,je,Pr]},{provide:qy,useClass:AL,multi:!0,deps:[Un]},VT,$T,BT,{provide:ka,useExisting:VT},{provide:Uf,useClass:yL,deps:[]},[]];var GT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(le(Un))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _e="primary",ru=Symbol("RouteTitle"),Jy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ka(t){return new Jy(t)}function FL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function LL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Nr(t[n],e[n]))return!1;return!0}function Nr(t,e){let n=t?Xy(t):void 0,r=e?Xy(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!eS(t[i],e[i]))return!1;return!0}function Xy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function eS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function tS(t){return t.length>0?t[t.length-1]:null}function ho(t){return Gg(t)?t:us(t)?nt(Promise.resolve(t)):pe(t)}var VL={exact:rS,subset:iS},nS={exact:UL,subset:jL,ignored:()=>!0};function WT(t,e,n){return VL[n.paths](t.root,e.root,n.matrixParams)&&nS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function UL(t,e){return Nr(t,e)}function rS(t,e,n){if(!ms(t.segments,e.segments)||!qf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!rS(t.children[r],e.children[r],n))return!1;return!0}function jL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eS(t[n],e[n]))}function iS(t,e,n){return oS(t,e,e.segments,n)}function oS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ms(i,n)||e.hasChildren()||!qf(i,n,r))}else if(t.segments.length===n.length){if(!ms(t.segments,n)||!qf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!iS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ms(t.segments,i)||!qf(t.segments,i,r)||!t.children[_e]?!1:oS(t.children[_e],e,o,r)}}function qf(t,e,n){return e.every((r,i)=>nS[n](t[i].parameters,r.parameters))}var fi=class{constructor(e=new ze([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ka(this.queryParams),this._queryParamMap}toString(){return HL.serialize(this)}},ze=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gf(this)}},ps=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ka(this.parameters),this._parameterMap}toString(){return aS(this)}};function BL(t,e){return ms(t,e)&&t.every((n,r)=>Nr(n.parameters,e[r].parameters))}function ms(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function $L(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===_e&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==_e&&(n=n.concat(e(i,r)))}),n}var D_=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:()=>new Wl,providedIn:"root"})}}return t})(),Wl=class{parse(e){let n=new t_(e);return new fi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Bl(e.root,!0)}`,r=GL(e.queryParams),i=typeof e.fragment=="string"?`#${zL(e.fragment)}`:"";return`${n}${r}${i}`}},HL=new Wl;function Gf(t){return t.segments.map(e=>aS(e)).join("/")}function Bl(t,e){if(!t.hasChildren())return Gf(t);if(e){let n=t.children[_e]?Bl(t.children[_e],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==_e&&r.push(`${i}:${Bl(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=$L(t,(r,i)=>i===_e?[Bl(t.children[_e],!1)]:[`${i}:${Bl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[_e]!=null?`${Gf(t)}/${n[0]}`:`${Gf(t)}/(${n.join("//")})`}}function sS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hf(t){return sS(t).replace(/%3B/gi,";")}function zL(t){return encodeURI(t)}function e_(t){return sS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wf(t){return decodeURIComponent(t)}function KT(t){return Wf(t.replace(/\+/g,"%20"))}function aS(t){return`${e_(t.path)}${qL(t.parameters)}`}function qL(t){return Object.entries(t).map(([e,n])=>`;${e_(e)}=${e_(n)}`).join("")}function GL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Hf(n)}=${Hf(i)}`).join("&"):`${Hf(n)}=${Hf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var WL=/^[^\/()?;#]+/;function Ky(t){let e=t.match(WL);return e?e[0]:""}var KL=/^[^\/()?;=#]+/;function QL(t){let e=t.match(KL);return e?e[0]:""}var YL=/^[^=?&#]+/;function ZL(t){let e=t.match(YL);return e?e[0]:""}var JL=/^[^&#]+/;function XL(t){let e=t.match(JL);return e?e[0]:""}var t_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ze([],{}):new ze([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[_e]=new ze(e,n)),r}parseSegment(){let e=Ky(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ce(4009,!1);return this.capture(e),new ps(Wf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=QL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ky(this.remaining);i&&(r=i,this.capture(r))}e[Wf(n)]=Wf(r)}parseQueryParam(e){let n=ZL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=XL(this.remaining);s&&(r=s,this.capture(r))}let i=KT(n),o=KT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ky(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ce(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=_e);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[_e]:new ze([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ce(4011,!1)}};function cS(t){return t.segments.length>0?new ze([],{[_e]:t}):t}function lS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=lS(i);if(r===_e&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ze(t.segments,e);return eV(n)}function eV(t){if(t.numberOfChildren===1&&t.children[_e]){let e=t.children[_e];return new ze(t.segments.concat(e.segments),e.children)}return t}function Kl(t){return t instanceof fi}function tV(t,e,n=null,r=null){let i=uS(t);return dS(i,e,n,r)}function uS(t){let e;function n(o){let s={};for(let l of o.children){let d=n(l);s[l.outlet]=d}let a=new ze(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=cS(r);return e??i}function dS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Qy(i,i,i,n,r);let o=nV(e);if(o.toRoot())return Qy(i,i,new ze([],{}),n,r);let s=rV(o,i,t),a=s.processChildren?zl(s.segmentGroup,s.index,o.commands):fS(s.segmentGroup,s.index,o.commands);return Qy(i,s.segmentGroup,a,n,r)}function Kf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ql(t){return typeof t=="object"&&t!=null&&t.outlets}function Qy(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let s;t===e?s=n:s=hS(t,e,n);let a=cS(lS(s));return new fi(a,o,i)}function hS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=hS(o,e,n)}),new ze(t.segments,r)}var Qf=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Kf(r[0]))throw new ce(4003,!1);let i=r.find(Ql);if(i&&i!==tS(r))throw new ce(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Qf(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Qf(n,e,r)}var qa=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function rV(t,e,n){if(t.isAbsolute)return new qa(e,!0,0);if(!n)return new qa(e,!1,NaN);if(n.parent===null)return new qa(n,!0,0);let r=Kf(t.commands[0])?0:1,i=n.segments.length-1+r;return iV(n,i,t.numberOfDoubleDots)}function iV(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ce(4005,!1);i=r.segments.length}return new qa(r,!1,i-o)}function oV(t){return Ql(t[0])?t[0].outlets:{[_e]:t}}function fS(t,e,n){if(t??=new ze([],{}),t.segments.length===0&&t.hasChildren())return zl(t,e,n);let r=sV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ze(t.segments.slice(0,r.pathIndex),{});return o.children[_e]=new ze(t.segments.slice(r.pathIndex),t.children),zl(o,0,i)}else return r.match&&i.length===0?new ze(t.segments,{}):r.match&&!t.hasChildren()?n_(t,e,n):r.match?zl(t,0,i):n_(t,e,n)}function zl(t,e,n){if(n.length===0)return new ze(t.segments,{});{let r=oV(n),i={};if(Object.keys(r).some(o=>o!==_e)&&t.children[_e]&&t.numberOfChildren===1&&t.children[_e].segments.length===0){let o=zl(t.children[_e],e,n);return new ze(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=fS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ze(t.segments,i)}}function sV(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ql(a))break;let l=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!YT(l,d,s))return o;r+=2}else{if(!YT(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function n_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ql(o)){let l=aV(o.outlets);return new ze(r,l)}if(i===0&&Kf(n[0])){let l=t.segments[e];r.push(new ps(l.path,QT(n[0]))),i++;continue}let s=Ql(o)?o.outlets[_e]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Kf(a)?(r.push(new ps(s,QT(a))),i+=2):(r.push(new ps(s,{})),i++)}return new ze(r,{})}function aV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=n_(new ze([],{}),0,r))}),e}function QT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function YT(t,e,n){return t==n.path&&Nr(e,n.parameters)}var ql="imperative",Bt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Bt||{}),jn=class{constructor(e,n){this.id=e,this.url=n}},Yl=class extends jn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Bt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},gs=class extends jn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Bt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Cn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Cn||{}),r_=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(r_||{}),hi=class extends jn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Bt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},vs=class extends jn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Bt.NavigationSkipped}},Zl=class extends jn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Bt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yf=class extends jn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Bt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},i_=class extends jn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Bt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},o_=class extends jn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Bt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},s_=class extends jn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Bt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},a_=class extends jn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Bt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},c_=class{constructor(e){this.route=e,this.type=Bt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},l_=class{constructor(e){this.route=e,this.type=Bt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},u_=class{constructor(e){this.snapshot=e,this.type=Bt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},d_=class{constructor(e){this.snapshot=e,this.type=Bt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},h_=class{constructor(e){this.snapshot=e,this.type=Bt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},f_=class{constructor(e){this.snapshot=e,this.type=Bt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Jl=class{},Qa=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function cV(t,e){return t.providers&&!t._injector&&(t._injector=Ry(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ar(t){return t.outlet||_e}function lV(t,e){let n=t.filter(r=>ar(r)===e);return n.push(...t.filter(r=>ar(r)!==e)),n}function iu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var p_=class{get injector(){return iu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new rp(this.rootInjector),this.attachRef=null}},rp=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new p_(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(le(Nn))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Zf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=m_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=m_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=g_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return g_(e,this._root).map(n=>n.value)}};function m_(t,e){if(t===e.value)return e;for(let n of e.children){let r=m_(t,n);if(r)return r}return null}function g_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=g_(t,n);if(r.length)return r.unshift(e),r}return[]}var In=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function za(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Jf=class extends Zf{constructor(e,n){super(e),this.snapshot=n,T_(this,e)}toString(){return this.snapshot.toString()}};function pS(t){let e=uV(t),n=new st([new ps("",{})]),r=new st({}),i=new st({}),o=new st({}),s=new st(""),a=new Ya(n,r,o,s,i,_e,t,e.root);return a.snapshot=e.root,new Jf(new In(a,[]),e)}function uV(t){let e={},n={},r={},i="",o=new Ga([],e,r,i,n,_e,t,null,{});return new ep("",new In(o,[]))}var Ya=class{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ee(d=>d[ru]))??pe(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ee(e=>Ka(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ee(e=>Ka(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:q(q({},e.params),t.params),data:q(q({},e.data),t.data),resolve:q(q(q(q({},t.data),e.data),i?.data),t._resolvedData)}:r={params:q({},t.params),data:q({},t.data),resolve:q(q({},t.data),t._resolvedData??{})},i&&gS(i)&&(r.resolve[ru]=i.title),r}var Ga=class{get title(){return this.data?.[ru]}constructor(e,n,r,i,o,s,a,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ka(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ka(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ep=class extends Zf{constructor(e,n){super(n),this.url=e,T_(this,n)}toString(){return mS(this._root)}};function T_(t,e){e.value._routerState=t,e.children.forEach(n=>T_(t,n))}function mS(t){let e=t.children.length>0?` { ${t.children.map(mS).join(", ")} } `:"";return`${t.value}${e}`}function Yy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Nr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Nr(e.params,n.params)||t.paramsSubject.next(n.params),LL(e.url,n.url)||t.urlSubject.next(n.url),Nr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function v_(t,e){let n=Nr(t.params,e.params)&&BL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||v_(t.parent,e.parent))}function gS(t){return typeof t.title=="string"||t.title===null}var S_=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=_e,this.activateEvents=new Ue,this.deactivateEvents=new Ue,this.attachEvents=new Ue,this.detachEvents=new Ue,this.parentContexts=K(rp),this.location=K(Ua),this.changeDetector=K(hs),this.inputBinder=K(A_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ce(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ce(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ce(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ce(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new y_(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=We({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ci]})}}return t})(),y_=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ya?this.route:e===rp?this.childContexts:this.parent.get(e,n)}},A_=new te("");function dV(t,e,n){let r=Xl(t,e._root,n?n._root:void 0);return new Jf(r,e)}function Xl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=hV(t,e,n);return new In(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Xl(t,a)),s}}let r=fV(e.value),i=e.children.map(o=>Xl(t,o));return new In(r,i)}}function hV(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Xl(t,r,i);return Xl(t,r)})}function fV(t){return new Ya(new st(t.url),new st(t.params),new st(t.queryParams),new st(t.fragment),new st(t.data),t.outlet,t.component,t)}var eu=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},vS="ngNavigationCancelingError";function tp(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Kl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=yS(!1,Cn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function yS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[vS]=!0,n.cancellationCode=e,n}function pV(t){return _S(t)&&Kl(t.url)}function _S(t){return!!t&&t[vS]}var mV=(t,e,n,r)=>Ee(i=>(new __(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),__=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Yy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=za(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=za(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=za(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=za(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new f_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new d_(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Yy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Yy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},np=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Wa=class{constructor(e,n){this.component=e,this.route=n}};function gV(t,e,n){let r=t._root,i=e?e._root:null;return $l(r,i,n,[r.value])}function vV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ja(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!pC(t)?t:e.get(t):r}function $l(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=za(e);return t.children.forEach(s=>{yV(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Gl(a,n.getContext(s),i)),i}function yV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=_V(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new np(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?$l(t,e,a?a.children:null,r,i):$l(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wa(a.outlet.component,s))}else s&&Gl(e,a,i),i.canActivateChecks.push(new np(r)),o.component?$l(t,null,a?a.children:null,r,i):$l(t,null,n,r,i);return i}function _V(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ms(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ms(t.url,e.url)||!Nr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!v_(t,e)||!Nr(t.queryParams,e.queryParams);case"paramsChange":default:return!v_(t,e)}}function Gl(t,e,n){let r=za(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Gl(s,e.children.getContext(o),n):Gl(s,null,n):Gl(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Wa(e.outlet.component,i)):n.canDeactivateChecks.push(new Wa(null,i)):n.canDeactivateChecks.push(new Wa(null,i))}function ou(t){return typeof t=="function"}function wV(t){return typeof t=="boolean"}function EV(t){return t&&ou(t.canLoad)}function bV(t){return t&&ou(t.canActivate)}function IV(t){return t&&ou(t.canActivateChild)}function CV(t){return t&&ou(t.canDeactivate)}function DV(t){return t&&ou(t.canMatch)}function wS(t){return t instanceof Xr||t?.name==="EmptyError"}var zf=Symbol("INITIAL_VALUE");function Za(){return Xn(t=>Th(t.map(e=>e.pipe(ei(1),Rh(zf)))).pipe(Ee(e=>{for(let n of e)if(n!==!0){if(n===zf)return zf;if(n===!1||TV(n))return n}return!0}),un(e=>e!==zf),ei(1)))}function TV(t){return Kl(t)||t instanceof eu}function SV(t,e){return xt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?pe(ge(q({},n),{guardsResult:!0})):AV(s,r,i,t).pipe(xt(a=>a&&wV(a)?xV(r,o,t,e):pe(a)),Ee(a=>ge(q({},n),{guardsResult:a})))})}function AV(t,e,n,r){return nt(t).pipe(xt(i=>OV(i.component,i.route,n,e,r)),Cr(i=>i!==!0,!0))}function xV(t,e,n,r){return nt(e).pipe(ya(i=>va(PV(i.route.parent,r),RV(i.route,r),NV(t,i.path,n),MV(t,i.route,n))),Cr(i=>i!==!0,!0))}function RV(t,e){return t!==null&&e&&e(new h_(t)),pe(!0)}function PV(t,e){return t!==null&&e&&e(new u_(t)),pe(!0)}function MV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return pe(!0);let i=r.map(o=>Sh(()=>{let s=iu(e)??n,a=Ja(o,s),l=bV(a)?a.canActivate(e,t):oi(s,()=>a(e,t));return ho(l).pipe(Cr())}));return pe(i).pipe(Za())}function NV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>vV(s)).filter(s=>s!==null).map(s=>Sh(()=>{let a=s.guards.map(l=>{let d=iu(s.node)??n,p=Ja(l,d),m=IV(p)?p.canActivateChild(r,t):oi(d,()=>p(r,t));return ho(m).pipe(Cr())});return pe(a).pipe(Za())}));return pe(o).pipe(Za())}function OV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return pe(!0);let s=o.map(a=>{let l=iu(e)??i,d=Ja(a,l),p=CV(d)?d.canDeactivate(t,e,n,r):oi(l,()=>d(t,e,n,r));return ho(p).pipe(Cr())});return pe(s).pipe(Za())}function kV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return pe(!0);let o=i.map(s=>{let a=Ja(s,t),l=EV(a)?a.canLoad(e,n):oi(t,()=>a(e,n));return ho(l)});return pe(o).pipe(Za(),ES(r))}function ES(t){return ah(pt(e=>{if(typeof e!="boolean")throw tp(t,e)}),Ee(e=>e===!0))}function FV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return pe(!0);let o=i.map(s=>{let a=Ja(s,t),l=DV(a)?a.canMatch(e,n):oi(t,()=>a(e,n));return ho(l)});return pe(o).pipe(Za(),ES(r))}var tu=class{constructor(e){this.segmentGroup=e||null}},nu=class extends Error{constructor(e){super(),this.urlTree=e}};function Ha(t){return ga(new tu(t))}function LV(t){return ga(new ce(4e3,!1))}function VV(t){return ga(yS(!1,Cn.GuardRejected))}var w_=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return pe(r);if(i.numberOfChildren>1||!i.children[_e])return LV(`${e.redirectTo}`);i=i.children[_e]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:d,routeConfig:p,url:m,outlet:y,params:b,data:A,title:j}=i,L=oi(o,()=>a({params:b,data:A,queryParams:l,fragment:d,routeConfig:p,url:m,outlet:y,title:j}));if(L instanceof fi)throw new nu(L);n=L}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new nu(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new fi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new ze(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new ce(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},E_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UV(t,e,n,r,i){let o=bS(t,e,n);return o.matched?(r=cV(e,r),FV(r,e,n,i).pipe(Ee(s=>s===!0?o:q({},E_)))):pe(o)}function bS(t,e,n){if(e.path==="**")return jV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?q({},E_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||FL)(n,t,e);if(!i)return q({},E_);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?q(q({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function jV(t){return{matched:!0,parameters:t.length>0?tS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ZT(t,e,n,r){return n.length>0&&HV(t,n,r)?{segmentGroup:new ze(e,$V(r,new ze(n,t.children))),slicedSegments:[]}:n.length===0&&zV(t,n,r)?{segmentGroup:new ze(t.segments,BV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ze(t.segments,t.children),slicedSegments:n}}function BV(t,e,n,r){let i={};for(let o of n)if(ip(t,e,o)&&!r[ar(o)]){let s=new ze([],{});i[ar(o)]=s}return q(q({},r),i)}function $V(t,e){let n={};n[_e]=e;for(let r of t)if(r.path===""&&ar(r)!==_e){let i=new ze([],{});n[ar(r)]=i}return n}function HV(t,e,n){return n.some(r=>ip(t,e,r)&&ar(r)!==_e)}function zV(t,e,n){return n.some(r=>ip(t,e,r))}function ip(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function qV(t,e,n){return e.length===0&&!t.children[n]}var b_=class{};function GV(t,e,n,r,i,o,s="emptyOnly"){return new I_(t,e,n,r,i,s,o).recognize()}var WV=31,I_=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new w_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ce(4002,`'${e.segmentGroup}'`)}recognize(){let e=ZT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ee(({children:n,rootSnapshot:r})=>{let i=new In(r,n),o=new ep("",i),s=tV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ga([],Object.freeze({}),Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),_e,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,_e,n).pipe(Ee(r=>({children:r,rootSnapshot:n})),Ji(r=>{if(r instanceof nu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof tu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Ee(s=>s instanceof In?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return nt(o).pipe(ya(s=>{let a=r.children[s],l=lV(n,s);return this.processSegmentGroup(e,l,a,s,i)}),xh((s,a)=>(s.push(...a),s)),Xi(null),Yg(),xt(s=>{if(s===null)return Ha(r);let a=IS(s);return KV(a),pe(a)}))}processSegment(e,n,r,i,o,s,a){return nt(n).pipe(ya(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,s,a).pipe(Ji(d=>{if(d instanceof tu)return pe(null);throw d}))),Cr(l=>!!l),Ji(l=>{if(wS(l))return qV(r,i,o)?pe(new b_):Ha(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,l){return ar(r)!==s&&(s===_e||!ip(i,o,r))?Ha(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l):Ha(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:l,parameters:d,consumedSegments:p,positionalParamSegments:m,remainingSegments:y}=bS(n,i,o);if(!l)return Ha(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>WV&&(this.allowRedirects=!1));let b=new Ga(o,d,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,JT(i),ar(i),i.component??i._loadedComponent??null,i,XT(i)),A=Xf(b,a,this.paramsInheritanceStrategy);b.params=Object.freeze(A.params),b.data=Object.freeze(A.data);let j=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,m,b,e);return this.applyRedirects.lineralizeSegments(i,j).pipe(xt(L=>this.processSegment(e,r,n,L.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=UV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Xn(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Xn(({routes:d})=>{let p=r._loadedInjector??e,{parameters:m,consumedSegments:y,remainingSegments:b}=l,A=new Ga(y,m,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,JT(r),ar(r),r.component??r._loadedComponent??null,r,XT(r)),j=Xf(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(j.params),A.data=Object.freeze(j.data);let{segmentGroup:L,slicedSegments:$}=ZT(n,y,b,d);if($.length===0&&L.hasChildren())return this.processChildren(p,d,L,A).pipe(Ee(X=>new In(A,X)));if(d.length===0&&$.length===0)return pe(new In(A,[]));let J=ar(r)===o;return this.processSegment(p,d,L,$,J?_e:o,!0,A).pipe(Ee(X=>new In(A,X instanceof In?[X]:[])))}))):Ha(n)))}getChildConfig(e,n,r){return n.children?pe({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?pe({routes:n._loadedRoutes,injector:n._loadedInjector}):kV(e,n,r,this.urlSerializer).pipe(xt(i=>i?this.configLoader.loadChildren(e,n).pipe(pt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):VV(n))):pe({routes:[],injector:e})}};function KV(t){t.sort((e,n)=>e.value.outlet===_e?-1:n.value.outlet===_e?1:e.value.outlet.localeCompare(n.value.outlet))}function QV(t){let e=t.value.routeConfig;return e&&e.path===""}function IS(t){let e=[],n=new Set;for(let r of t){if(!QV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=IS(r.children);e.push(new In(r.value,i))}return e.filter(r=>!n.has(r))}function JT(t){return t.data||{}}function XT(t){return t.resolve||{}}function YV(t,e,n,r,i,o){return xt(s=>GV(t,e,n,r,s.extractedUrl,i,o).pipe(Ee(({state:a,tree:l})=>ge(q({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function ZV(t,e){return xt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return pe(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of CS(l))s.add(d);let a=0;return nt(s).pipe(ya(l=>o.has(l)?JV(l,r,t,e):(l.data=Xf(l,l.parent,t).resolve,pe(void 0))),pt(()=>a++),_a(1),xt(l=>a===s.size?pe(n):En))})}function CS(t){let e=t.children.map(n=>CS(n)).flat();return[t,...e]}function JV(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!gS(i)&&(o[ru]=i.title),XV(o,t,e,r).pipe(Ee(s=>(t._resolvedData=s,t.data=Xf(t,t.parent,n).resolve,null)))}function XV(t,e,n,r){let i=Xy(t);if(i.length===0)return pe({});let o={};return nt(i).pipe(xt(s=>eU(t[s],e,n,r).pipe(Cr(),pt(a=>{if(a instanceof eu)throw tp(new Wl,a);o[s]=a}))),_a(1),Qg(o),Ji(s=>wS(s)?En:ga(s)))}function eU(t,e,n,r){let i=iu(e)??r,o=Ja(t,i),s=o.resolve?o.resolve(e,n):oi(i,()=>o(e,n));return ho(s)}function Zy(t){return Xn(e=>{let n=t(e);return n?nt(n).pipe(Ee(()=>e)):pe(e)})}var DS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===_e);return r}getResolvedTitleForRoute(n){return n.data[ru]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:()=>K(tU),providedIn:"root"})}}return t})(),tU=(()=>{class t extends DS{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(le(GT))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),x_=new te("",{providedIn:"root",factory:()=>({})}),nU=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=He({type:t,selectors:[["ng-component"]],standalone:!0,features:[Ke],decls:1,vars:0,template:function(r,i){r&1&&ee(0,"router-outlet")},dependencies:[S_],encapsulation:2})}}return t})();function R_(t){let e=t.children&&t.children.map(R_),n=e?ge(q({},t),{children:e}):q({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==_e&&(n.component=nU),n}var P_=new te(""),rU=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(Oy)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return pe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ho(n.loadComponent()).pipe(Ee(TS),pt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),El(()=>{this.componentLoaders.delete(n)})),i=new ha(r,()=>new Nt).pipe(da());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=iU(r,this.compiler,n,this.onLoadEndListener).pipe(El(()=>{this.childrenLoaders.delete(r)})),s=new ha(o,()=>new Nt).pipe(da());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function iU(t,e,n,r){return ho(t.loadChildren()).pipe(Ee(TS),xt(i=>i instanceof Rl||Array.isArray(i)?pe(i):nt(e.compileModuleAsync(i))),Ee(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(P_,[],{optional:!0,self:!0}).flat()),{routes:s.map(R_),injector:o}}))}function oU(t){return t&&typeof t=="object"&&"default"in t}function TS(t){return oU(t)?t.default:t}var M_=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:()=>K(sU),providedIn:"root"})}}return t})(),sU=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),aU=new te("");var cU=new te(""),lU=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Nt,this.transitionAbortSubject=new Nt,this.configLoader=K(rU),this.environmentInjector=K(Nn),this.urlSerializer=K(D_),this.rootContexts=K(rp),this.location=K(Ll),this.inputBindingEnabled=K(A_,{optional:!0})!==null,this.titleStrategy=K(DS),this.options=K(x_,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=K(M_),this.createViewTransition=K(aU,{optional:!0}),this.navigationErrorHandler=K(cU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>pe(void 0),this.rootComponentType=null;let n=i=>this.events.next(new c_(i)),r=i=>this.events.next(new l_(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ge(q(q({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new st({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ql,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(un(o=>o.id!==0),Ee(o=>ge(q({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Xn(o=>{let s=!1,a=!1;return pe(o).pipe(Xn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Cn.SupersededByNewNavigation),En;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ge(q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&p!=="reload"){let m="";return this.events.next(new vs(l.id,this.urlSerializer.serialize(l.rawUrl),m,r_.IgnoredSameUrlNavigation)),l.resolve(!1),En}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return pe(l).pipe(Xn(m=>{let y=this.transitions?.getValue();return this.events.next(new Yl(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?En:Promise.resolve(m)}),YV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),pt(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ge(q({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new Yf(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:b,restoredState:A,extras:j}=l,L=new Yl(m,this.urlSerializer.serialize(y),b,A);this.events.next(L);let $=pS(this.rootComponentType).snapshot;return this.currentTransition=o=ge(q({},l),{targetSnapshot:$,urlAfterRedirects:y,extras:ge(q({},j),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,pe(o)}else{let m="";return this.events.next(new vs(l.id,this.urlSerializer.serialize(l.extractedUrl),m,r_.IgnoredByUrlHandlingStrategy)),l.resolve(!1),En}}),pt(l=>{let d=new i_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Ee(l=>(this.currentTransition=o=ge(q({},l),{guards:gV(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),SV(this.environmentInjector,l=>this.events.next(l)),pt(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw tp(this.urlSerializer,l.guardsResult);let d=new o_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),un(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Cn.GuardRejected),!1)),Zy(l=>{if(l.guards.canActivateChecks.length)return pe(l).pipe(pt(d=>{let p=new s_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),Xn(d=>{let p=!1;return pe(d).pipe(ZV(this.paramsInheritanceStrategy,this.environmentInjector),pt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",Cn.NoDataFromResolver)}}))}),pt(d=>{let p=new a_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),Zy(l=>{let d=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(pt(y=>{p.component=y}),Ee(()=>{})));for(let y of p.children)m.push(...d(y));return m};return Th(d(l.targetSnapshot.root)).pipe(Xi(null),ei(1))}),Zy(()=>this.afterPreactivation()),Xn(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return p?nt(p).pipe(Ee(()=>o)):pe(o)}),Ee(l=>{let d=dV(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ge(q({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),pt(()=>{this.events.next(new Jl)}),mV(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ei(1),pt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Zg(this.transitionAbortSubject.pipe(pt(l=>{throw l}))),El(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Cn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ji(l=>{if(a=!0,_S(l))this.events.next(new hi(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),pV(l)?this.events.next(new Qa(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Zl(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=oi(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof eu){let{message:m,cancellationCode:y}=tp(this.urlSerializer,p);this.events.next(new hi(o.id,this.urlSerializer.serialize(o.extractedUrl),m,y)),this.events.next(new Qa(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let m=n.errorHandler(l);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return En}))}))}cancelNavigationTransition(n,r,i){let o=new hi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function uU(t){return t!==ql}var dU=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:()=>K(hU),providedIn:"root"})}}return t})(),C_=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},hU=(()=>{class t extends C_{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=li(t)))(i||t)}})()}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),SS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:()=>K(fU),providedIn:"root"})}}return t})(),fU=(()=>{class t extends SS{constructor(){super(...arguments),this.location=K(Ll),this.urlSerializer=K(D_),this.options=K(x_,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=K(M_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new fi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=pS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Yl)this.stateMemento=this.createStateMemento();else if(n instanceof vs)this.rawUrlTree=r.initialUrl;else if(n instanceof Yf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Jl?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof hi&&(n.code===Cn.GuardRejected||n.code===Cn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Zl?this.restoreHistory(r,!0):n instanceof gs&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof fi?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=q(q({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=q(q({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=li(t)))(i||t)}})()}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Hl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Hl||{});function pU(t,e){t.events.pipe(un(n=>n instanceof gs||n instanceof hi||n instanceof Zl||n instanceof vs),Ee(n=>n instanceof gs||n instanceof vs?Hl.COMPLETE:(n instanceof hi?n.code===Cn.Redirect||n.code===Cn.SupersededByNewNavigation:!1)?Hl.REDIRECTING:Hl.FAILED),un(n=>n!==Hl.REDIRECTING),ei(1)).subscribe(()=>{e()})}function mU(t){throw t}var gU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Or=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=K(Lf),this.stateManager=K(SS),this.options=K(x_,{optional:!0})||{},this.pendingTasks=K(Va),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=K(lU),this.urlSerializer=K(D_),this.location=K(Ll),this.urlHandlingStrategy=K(M_),this._events=new Nt,this.errorHandler=this.options.errorHandler||mU,this.navigated=!1,this.routeReuseStrategy=K(dU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=K(P_,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!K(A_,{optional:!0}),this.eventsSubscription=new lt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof hi&&r.code!==Cn.Redirect&&r.code!==Cn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof gs)this.navigated=!0;else if(r instanceof Qa){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=q({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||uU(i.source)},s);this.scheduleNavigation(a,ql,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}_U(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ql,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=q({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(R_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=q(q({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=i?i.snapshot:this.routerState.snapshot.root;m=uS(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),m=this.currentUrlTree.root}return dS(m,n,p,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Kl(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ql,null,r)}navigate(n,r={skipLocationChange:!1}){return yU(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=q({},gU):r===!1?i=q({},vU):i=r,Kl(n))return WT(this.currentUrlTree,n,i);let o=this.parseUrl(n);return WT(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((m,y)=>{a=m,l=y});let p=this.pendingTasks.add();return pU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function yU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ce(4008,!1)}function _U(t){return!(t instanceof Jl)&&!(t instanceof Qa)}var wU=new te("");function AS(t,...e){return kn([{provide:P_,multi:!0,useValue:t},[],{provide:Ya,useFactory:EU,deps:[Or]},{provide:Ny,multi:!0,useFactory:bU},e.map(n=>n.\u0275providers)])}function EU(t){return t.routerState.root}function bU(){let t=K(Gt);return e=>{let n=t.get(ds);if(e!==n.components[0])return;let r=t.get(Or),i=t.get(IU);t.get(CU)===1&&r.initialNavigation(),t.get(DU,null,be.Optional)?.setUpPreloading(),t.get(wU,null,be.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var IU=new te("",{factory:()=>new Nt}),CU=new te("",{providedIn:"root",factory:()=>1});var DU=new te("");var sp=class t{transform(e){switch(e){case"especialista":return"\u{1F468}\u200D\u2695\uFE0F";case"administrador":return"\u{1F9D1}\u200D\u{1F4BB}";default:return"\u{1F7E2}"}}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=ny({name:"iconosUsuario",type:t,pure:!0,standalone:!0})};var Xa=class t{constructor(e,n){this.el=e;this.renderer=n}onMouseEnter(){this.expand()}onMouseLeave(){this.contract()}expand(){this.renderer.setStyle(this.el.nativeElement,"transform","scale(1.1)")}contract(){this.renderer.setStyle(this.el.nativeElement,"transform","scale(1)")}static \u0275fac=function(n){return new(n||t)(G(on),G(Ln))};static \u0275dir=We({type:t,selectors:[["","appExpandirHover",""]],hostBindings:function(n,r){n&1&&ie("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},standalone:!0})};var N1=IM(xS());var PS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},MS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,d=l?t[i+2]:0,p=o>>2,m=(o&3)<<4|a>>4,y=(a&15)<<2|d>>6,b=d&63;l||(b=64,s||(y=64)),r.push(n[p],n[m],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||d==null||m==null)throw new k_;let y=o<<2|a>>4;if(r.push(y),d!==64){let b=a<<4&240|d>>2;if(r.push(b),m!==64){let A=d<<6&192|m;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},k_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},SU=function(t){let e=PS(t);return MS.encodeByteArray(e,!0)},su=function(t){return SU(t).replace(/\./g,"")},L_=function(t){try{return MS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function AU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var xU=()=>AU().__FIREBASE_DEFAULTS__,RU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&L_(t[1]);return e&&JSON.parse(e)},cp=()=>{try{return xU()||RU()||PU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},V_=t=>{var e,n;return(n=(e=cp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lp=t=>{let e=V_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},U_=()=>{var t;return(t=cp())===null||t===void 0?void 0:t.config},j_=t=>{var e;return(e=cp())===null||e===void 0?void 0:e[`_${t}`]};var ap=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function up(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[su(JSON.stringify(n)),su(JSON.stringify(s)),""].join(".")}function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function MU(){var t;let e=(t=cp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LS(){let t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VS(){return!MU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B_(){try{return typeof indexedDB=="object"}catch{return!1}}function US(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var NU="FirebaseError",sn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pi.prototype.create)}},pi=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?OU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new sn(i,a,r)}};function OU(t,e){return t.replace(kU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var kU=/\{\$([^}]+)}/g;function jS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ys(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(RS(o)&&RS(s)){if(!ys(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function RS(t){return t!==null&&typeof t=="object"}function au(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ec(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function tc(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BS(t,e){let n=new F_(t,e);return n.subscribe.bind(n)}var F_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");FU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=O_),i.error===void 0&&(i.error=O_),i.complete===void 0&&(i.complete=O_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function FU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function O_(){}var PY=4*60*60*1e3;function Je(t){return t&&t._delegate?t._delegate:t}var fn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _s="[DEFAULT]";var $_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ap;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VU(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LU(t){return t===_s?void 0:t}function VU(t){return t.instantiationMode==="EAGER"}var dp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new $_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var UU=[],Ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ae||{}),jU={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},BU=Ae.INFO,$U={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},HU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=$U[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},fo=class{constructor(e){this.name=e,this._logLevel=BU,this._logHandler=HU,this._userLogHandler=null,UU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}};var zU=(t,e)=>e.some(n=>t instanceof n),$S,HS;function qU(){return $S||($S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GU(){return HS||(HS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var zS=new WeakMap,z_=new WeakMap,qS=new WeakMap,H_=new WeakMap,G_=new WeakMap;function WU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Fr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&zS.set(n,t)}).catch(()=>{}),G_.set(e,t),e}function KU(t){if(z_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});z_.set(t,e)}var q_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return z_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GS(t){q_=t(q_)}function QU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(hp(this),e,...n);return qS.set(r,e.sort?e.sort():[e]),Fr(r)}:GU().includes(t)?function(...e){return t.apply(hp(this),e),Fr(zS.get(this))}:function(...e){return Fr(t.apply(hp(this),e))}}function YU(t){return typeof t=="function"?QU(t):(t instanceof IDBTransaction&&KU(t),zU(t,qU())?new Proxy(t,q_):t)}function Fr(t){if(t instanceof IDBRequest)return WU(t);if(H_.has(t))return H_.get(t);let e=YU(t);return e!==t&&(H_.set(t,e),G_.set(e,t)),e}var hp=t=>G_.get(t);function KS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Fr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Fr(s.result),l.oldVersion,l.newVersion,Fr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var ZU=["get","getKey","getAll","getAllKeys","count"],JU=["put","add","delete","clear"],W_=new Map;function WS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(W_.get(e))return W_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=JU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZU.includes(n)))return;let o=function(s,...a){return D(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),d=l.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[n](...a),i&&l.done]))[0]})};return W_.set(e,o),o}GS(t=>ge(q({},t),{get:(e,n,r)=>WS(e,n)||t.get(e,n,r),has:(e,n)=>!!WS(e,n)||t.has(e,n)}));var Q_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function XU(t){let e=t.getComponent();return e?.type==="VERSION"}var Y_="@firebase/app",QS="0.10.13";var mi=new fo("@firebase/app"),ej="@firebase/app-compat",tj="@firebase/analytics-compat",nj="@firebase/analytics",rj="@firebase/app-check-compat",ij="@firebase/app-check",oj="@firebase/auth",sj="@firebase/auth-compat",aj="@firebase/database",cj="@firebase/data-connect",lj="@firebase/database-compat",uj="@firebase/functions",dj="@firebase/functions-compat",hj="@firebase/installations",fj="@firebase/installations-compat",pj="@firebase/messaging",mj="@firebase/messaging-compat",gj="@firebase/performance",vj="@firebase/performance-compat",yj="@firebase/remote-config",_j="@firebase/remote-config-compat",wj="@firebase/storage",Ej="@firebase/storage-compat",bj="@firebase/firestore",Ij="@firebase/vertexai-preview",Cj="@firebase/firestore-compat",Dj="firebase",Tj="10.14.1";var Z_="[DEFAULT]",Sj={[Y_]:"fire-core",[ej]:"fire-core-compat",[nj]:"fire-analytics",[tj]:"fire-analytics-compat",[ij]:"fire-app-check",[rj]:"fire-app-check-compat",[oj]:"fire-auth",[sj]:"fire-auth-compat",[aj]:"fire-rtdb",[cj]:"fire-data-connect",[lj]:"fire-rtdb-compat",[uj]:"fire-fn",[dj]:"fire-fn-compat",[hj]:"fire-iid",[fj]:"fire-iid-compat",[pj]:"fire-fcm",[mj]:"fire-fcm-compat",[gj]:"fire-perf",[vj]:"fire-perf-compat",[yj]:"fire-rc",[_j]:"fire-rc-compat",[wj]:"fire-gcs",[Ej]:"fire-gcs-compat",[bj]:"fire-fst",[Cj]:"fire-fst-compat",[Ij]:"fire-vertex","fire-js":"fire-js",[Dj]:"fire-js-all"};var cu=new Map,Aj=new Map,J_=new Map;function YS(t,e){try{t.container.addComponent(e)}catch(n){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lr(t){let e=t.name;if(J_.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;J_.set(e,t);for(let n of cu.values())YS(n,t);for(let n of Aj.values())YS(n,t);return!0}function ws(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cr(t){return t.settings!==void 0}var xj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new pi("app","Firebase",xj);var X_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}};var Vr=Tj;function nw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Z_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw po.create("bad-app-name",{appName:String(i)});if(n||(n=U_()),!n)throw po.create("no-options");let o=cu.get(i);if(o){if(ys(n,o.options)&&ys(r,o.config))return o;throw po.create("duplicate-app",{appName:i})}let s=new dp(i);for(let l of J_.values())s.addComponent(l);let a=new X_(n,r,s);return cu.set(i,a),a}function mo(t=Z_){let e=cu.get(t);if(!e&&t===Z_&&U_())return nw();if(!e)throw po.create("no-app",{appName:t});return e}function fp(){return Array.from(cu.values())}function rt(t,e,n){var r;let i=(r=Sj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(a.join(" "));return}Lr(new fn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Rj="firebase-heartbeat-database",Pj=1,lu="firebase-heartbeat-store",K_=null;function eA(){return K_||(K_=KS(Rj,Pj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lu)}catch(n){console.warn(n)}}}}).catch(t=>{throw po.create("idb-open",{originalErrorMessage:t.message})})),K_}function Mj(t){return D(this,null,function*(){try{let n=(yield eA()).transaction(lu),r=yield n.objectStore(lu).get(tA(t));return yield n.done,r}catch(e){if(e instanceof sn)mi.warn(e.message);else{let n=po.create("idb-get",{originalErrorMessage:e?.message});mi.warn(n.message)}}})}function ZS(t,e){return D(this,null,function*(){try{let r=(yield eA()).transaction(lu,"readwrite");yield r.objectStore(lu).put(e,tA(t)),yield r.done}catch(n){if(n instanceof sn)mi.warn(n.message);else{let r=po.create("idb-set",{originalErrorMessage:n?.message});mi.warn(r.message)}}})}function tA(t){return`${t.name}!${t.options.appId}`}var Nj=1024,Oj=30*24*60*60*1e3,ew=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new tw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=JS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=Oj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mi.warn(r)}})}getHeartbeatsHeader(){return D(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=JS(),{heartbeatsToSend:r,unsentEntries:i}=kj(this._heartbeatsCache.heartbeats),o=su(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return mi.warn(n),""}})}};function JS(){return new Date().toISOString().substring(0,10)}function kj(t,e=Nj){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),XS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var tw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return B_()?US().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Mj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ZS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ZS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function XS(t){return su(JSON.stringify({version:2,heartbeats:t})).length}function Fj(t){Lr(new fn("platform-logger",e=>new Q_(e),"PRIVATE")),Lr(new fn("heartbeat",e=>new ew(e),"PRIVATE")),rt(Y_,QS,t),rt(Y_,QS,"esm2017"),rt("fire-js","")}Fj("");var Lj="firebase",Vj="10.14.1";rt(Lj,Vj,"app");var gi=new ii("ANGULARFIRE2_VERSION");function rc(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var bs=(t,e)=>{let n=e?[e]:fp(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},go=class{constructor(){return bs(Uj)}},Uj="app-check";function nc(){}var pp=class{zone;delegate;constructor(e,n=zg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},rw=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",nc,{},nc,nc)),n.pipe(pt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},vo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new pp(Zone.current)),this.insideAngular=n.run(()=>new pp(Zone.current,Hg)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(le(je))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mp(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function jj(t){return mp().ngZone.runOutsideAngular(()=>t())}function Es(t){return mp().ngZone.run(()=>t())}function Bj(t){return $j(mp())(t)}function $j(t){return function(n){return n=n.lift(new rw(t.ngZone)),n.pipe(Zi(t.outsideAngular),Yi(t.insideAngular))}}var Hj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Es(()=>t.apply(void 0,r))},ut=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Es(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",nc,{},nc,nc))),r[o]=Hj(r[o],n));let i=jj(()=>t.apply(this,r));if(!e)if(i instanceof Te){let o=mp();return i.pipe(Zi(o.outsideAngular),Yi(o.insideAngular))}else return Es(()=>i);return i instanceof Te?i.pipe(Bj):i instanceof Promise?Es(()=>new Promise((o,s)=>i.then(a=>Es(()=>o(a)),a=>Es(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Es(()=>i)};var lr=class{constructor(e){return e}},vi=class{constructor(){return fp()}};function zj(t){return t&&t.length===1?t[0]:new lr(mo())}var iw=new te("angularfire2._apps"),qj={provide:lr,useFactory:zj,deps:[[new Et,iw]]},Gj={provide:vi,deps:[[new Et,iw]]};function Wj(t){return(e,n)=>{let r=n.get(Pr);rt("angularfire",gi.full,"core"),rt("angularfire",gi.full,"app"),rt("angular",yT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new lr(i)}}function nA(t,...e){return kn([qj,Gj,{provide:iw,useFactory:Wj(t),multi:!0,deps:[je,Gt,vo,...e]}])}var rA=ut(nw,!0);function wA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var EA=wA,bA=new pi("auth","Firebase",wA());var Ep=new fo("@firebase/auth");function Kj(t,...e){Ep.logLevel<=Ae.WARN&&Ep.warn(`Auth (${Vr}): ${t}`,...e)}function vp(t,...e){Ep.logLevel<=Ae.ERROR&&Ep.error(`Auth (${Vr}): ${t}`,...e)}function jr(t,...e){throw Sw(t,...e)}function Is(t,...e){return Sw(t,...e)}function IA(t,e,n){let r=Object.assign(Object.assign({},EA()),{[e]:n});return new pi("auth","Firebase",r).create(e,{appName:t.name})}function wi(t){return IA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sw(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bA.create(t,...e)}function de(t,e,...n){if(!t)throw Sw(e,...n)}function yi(t){let e="INTERNAL ASSERTION FAILED: "+t;throw vp(e),new Error(e)}function _o(t,e){t||yi(e)}function cw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Qj(){return iA()==="http:"||iA()==="https:"}function iA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Yj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qj()||kS()||"connection"in navigator)?navigator.onLine:!0}function Zj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Cs=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,_o(n>e,"Short delay should be less than long delay!"),this.isMobile=NS()||FS()}get(){return Yj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Aw(t,e){_o(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var bp=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Jj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Xj=new Cs(3e4,6e4);function Ei(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function bi(o,s,a,l){return D(this,arguments,function*(t,e,n,r,i={}){return CA(t,i,()=>D(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let m=au(Object.assign({key:t.config.apiKey},p)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let b=Object.assign({method:e,headers:y},d);return OS()||(b.referrerPolicy="no-referrer"),bp.fetch()(DA(t,t.config.apiHost,n,m),b)}))})}function CA(t,e,n){return D(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Jj),e);try{let i=new lw(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw gp(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gp(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw gp(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw gp(t,"user-disabled",s);let p=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw IA(t,p,d);jr(t,p)}}catch(i){if(i instanceof sn)throw i;jr(t,"network-request-failed",{message:String(i)})}})}function vu(o,s,a,l){return D(this,arguments,function*(t,e,n,r,i={}){let d=yield bi(t,e,n,r,i);return"mfaPendingCredential"in d&&jr(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function DA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Aw(t.config,i):`${t.config.apiScheme}://${i}`}function eB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var lw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Is(this.auth,"network-request-failed")),Xj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function gp(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Is(t,e,r);return i.customData._tokenResponse=n,i}function oA(t){return t!==void 0&&t.enterprise!==void 0}var uw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function tB(t,e){return D(this,null,function*(){return bi(t,"GET","/v2/recaptchaConfig",Ei(t,e))})}function nB(t,e){return D(this,null,function*(){return bi(t,"POST","/v1/accounts:delete",e)})}function TA(t,e){return D(this,null,function*(){return bi(t,"POST","/v1/accounts:lookup",e)})}function uu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xw(t,e=!1){return D(this,null,function*(){let n=Je(t),r=yield n.getIdToken(e),i=Rw(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:uu(ow(i.auth_time)),issuedAtTime:uu(ow(i.iat)),expirationTime:uu(ow(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function ow(t){return Number(t)*1e3}function Rw(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vp("JWT malformed, contained fewer than 3 sections"),null;try{let i=L_(n);return i?JSON.parse(i):(vp("Failed to decode base64 JWT payload"),null)}catch(i){return vp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function sA(t){let e=Rw(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function hu(t,e,n=!1){return D(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof sn&&rB(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function rB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var dw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),n)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var fu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ip(t){return D(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield hu(t,TA(n,{idToken:r}));de(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?SA(o.providerUserInfo):[],a=iB(t.providerData,s),l=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!a?.length,p=l?d:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fu(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,m)})}function Pw(t){return D(this,null,function*(){let e=Je(t);yield Ip(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function iB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function SA(t){return t.map(e=>{var{providerId:n}=e,r=qg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function oB(t,e){return D(this,null,function*(){let n=yield CA(t,{},()=>D(this,null,function*(){let r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=DA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bp.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function sB(t,e){return D(this,null,function*(){return bi(t,"POST","/v2/accounts:revokeToken",Ei(t,e))})}var du=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");let n=sA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return D(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield oB(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return yi("not implemented")}};function yo(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ic=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=qg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let n=yield hu(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return xw(this,e)}reload(){return Pw(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ip(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(cr(this.auth.app))return Promise.reject(wi(this.auth));let e=yield this.getIdToken();return yield hu(this,nB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,d,p;let m=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,j=(a=n.tenantId)!==null&&a!==void 0?a:void 0,L=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,$=(d=n.createdAt)!==null&&d!==void 0?d:void 0,J=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:X,emailVerified:re,isAnonymous:Ne,providerData:ae,stsTokenManager:x}=n;de(X&&x,e,"internal-error");let C=du.fromJSON(this.name,x);de(typeof X=="string",e,"internal-error"),yo(m,e.name),yo(y,e.name),de(typeof re=="boolean",e,"internal-error"),de(typeof Ne=="boolean",e,"internal-error"),yo(b,e.name),yo(A,e.name),yo(j,e.name),yo(L,e.name),yo($,e.name),yo(J,e.name);let T=new t({uid:X,auth:e,email:y,emailVerified:re,displayName:m,isAnonymous:Ne,photoURL:A,phoneNumber:b,tenantId:j,stsTokenManager:C,createdAt:$,lastLoginAt:J});return ae&&Array.isArray(ae)&&(T.providerData=ae.map(R=>Object.assign({},R))),L&&(T._redirectEventId=L),T}static _fromIdTokenResponse(e,n,r=!1){return D(this,null,function*(){let i=new du;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ip(o),o})}static _fromGetAccountInfoResponse(e,n,r){return D(this,null,function*(){let i=n.users[0];de(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?SA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new du;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,d),l})}};var aA=new Map;function _i(t){_o(t instanceof Function,"Expected a class definition");let e=aA.get(t);return e?(_o(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aA.set(t,e),e)}var aB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(n,r){return D(this,null,function*(){this.storage[n]=r})}_get(n){return D(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return D(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),hw=aB;function yp(t,e,n){return`firebase:${t}:${e}:${n}`}var Cp=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=yp(this.userKey,i.apiKey,o),this.fullPersistenceKey=yp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ic._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return D(this,null,function*(){if(!n.length)return new t(_i(hw),e,r);let i=(yield Promise.all(n.map(d=>D(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||_i(hw),s=yp(r,e.config.apiKey,e.name),a=null;for(let d of n)try{let p=yield d._get(s);if(p){let m=ic._fromJSON(e,p);d!==o&&(a=m),o=d;break}}catch{}let l=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new t(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(d=>D(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new t(o,e,r))})}};function cA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NA(e))return"Blackberry";if(OA(e))return"Webos";if(xA(e))return"Safari";if((e.includes("chrome/")||RA(e))&&!e.includes("edge/"))return"Chrome";if(MA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function AA(t=Ot()){return/firefox\//i.test(t)}function xA(t=Ot()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RA(t=Ot()){return/crios\//i.test(t)}function PA(t=Ot()){return/iemobile/i.test(t)}function MA(t=Ot()){return/android/i.test(t)}function NA(t=Ot()){return/blackberry/i.test(t)}function OA(t=Ot()){return/webos/i.test(t)}function Mw(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cB(t=Ot()){var e;return Mw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lB(){return LS()&&document.documentMode===10}function kA(t=Ot()){return Mw(t)||MA(t)||OA(t)||NA(t)||/windows phone/i.test(t)||PA(t)}function FA(t,e=[]){let n;switch(t){case"Browser":n=cA(Ot());break;case"Worker":n=`${cA(Ot())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vr}/${r}`}var fw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function uB(n){return D(this,arguments,function*(t,e={}){return bi(t,"GET","/v2/passwordPolicy",Ei(t,e))})}var dB=6,pw=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:dB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var mw=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dp(this),this.idTokenSubscription=new Dp(this),this.beforeStateQueue=new fw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Cp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let n=yield TA(this,{idToken:e}),r=yield ic._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var n;if(cr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield Ip(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Zj()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(cr(this.app))return Promise.reject(wi(this));let n=e?Je(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return D(this,null,function*(){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return cr(this.app)?Promise.reject(wi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return cr(this.app)?Promise.reject(wi(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(_i(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield uB(this),n=new pw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield sB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&_i(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=yield Cp.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return D(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Kj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ts(t){return Je(t)}var Dp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=BS(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Mp={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hB(t){Mp=t}function LA(t){return Mp.loadJS(t)}function fB(){return Mp.recaptchaEnterpriseScript}function pB(){return Mp.gapiScript}function VA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var mB="recaptcha-enterprise",gB="NO_RECAPTCHA",gw=class{constructor(e){this.type=mB,this.auth=Ts(e)}verify(e="verify",n=!1){return D(this,null,function*(){function r(o){return D(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>D(this,null,function*(){tB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new uw(l);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(l=>{a(l)})}))})}function i(o,s,a){let l=window.grecaptcha;oA(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(gB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&oA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=fB();l.length!==0&&(l+=a),LA(l).then(()=>{i(a,o,s)}).catch(d=>{s(d)})}}).catch(a=>{s(a)})})})}};function lA(t,e,n,r=!1){return D(this,null,function*(){let i=new gw(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function vw(t,e,n,r){return D(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield lA(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>D(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield lA(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function Nw(t,e){let n=ws(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(ys(o,e??{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function vB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_i);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ow(t,e,n){let r=Ts(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=UA(e),{host:s,port:a}=yB(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||_B()}function UA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yB(t){let e=UA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:uA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:uA(s)}}}function uA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function _B(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var pu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}};function wB(t,e){return D(this,null,function*(){return bi(t,"POST","/v1/accounts:signUp",e)})}function EB(t,e){return D(this,null,function*(){return vu(t,"POST","/v1/accounts:signInWithPassword",Ei(t,e))})}function bB(t,e){return D(this,null,function*(){return bi(t,"POST","/v1/accounts:sendOobCode",Ei(t,e))})}function IB(t,e){return D(this,null,function*(){return bB(t,e)})}function CB(t,e){return D(this,null,function*(){return vu(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))})}function DB(t,e){return D(this,null,function*(){return vu(t,"POST","/v1/accounts:signInWithEmailLink",Ei(t,e))})}var mu=class t extends pu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return D(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vw(e,n,"signInWithPassword",EB);case"emailLink":return CB(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}})}_linkToIdToken(e,n){return D(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vw(e,r,"signUpPassword",wB);case"emailLink":return DB(e,{idToken:n,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function sw(t,e){return D(this,null,function*(){return vu(t,"POST","/v1/accounts:signInWithIdp",Ei(t,e))})}function TB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SB(t){let e=ec(tc(t)).link,n=e?ec(tc(e)).deep_link_id:null,r=ec(tc(t)).deep_link_id;return(r?ec(tc(r)).link:null)||r||n||e||t}var Tp=class t{constructor(e){var n,r,i,o,s,a;let l=ec(tc(e)),d=(n=l.apiKey)!==null&&n!==void 0?n:null,p=(r=l.oobCode)!==null&&r!==void 0?r:null,m=TB((i=l.mode)!==null&&i!==void 0?i:null);de(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=SB(e);try{return new t(n)}catch{return null}}};var jA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return mu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Tp.parseLink(r);return de(i,"argument-error"),mu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Sp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var yw=class extends Sp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function AB(t,e){return D(this,null,function*(){return vu(t,"POST","/v1/accounts:signUp",Ei(t,e))})}var oc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return D(this,null,function*(){let o=yield ic._fromIdTokenResponse(e,r,i),s=dA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return D(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=dA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function dA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var _w=class t extends sn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function BA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_w._fromErrorAndOperation(t,o,e,r):o})}function xB(t,e,n=!1){return D(this,null,function*(){let r=yield hu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return oc._forOperation(t,"link",r)})}function RB(t,e,n=!1){return D(this,null,function*(){let{auth:r}=t;if(cr(r.app))return Promise.reject(wi(r));let i="reauthenticate";try{let o=yield hu(t,BA(r,i,e,t),n);de(o.idToken,r,"internal-error");let s=Rw(o.idToken);de(s,r,"internal-error");let{sub:a}=s;return de(t.uid===a,r,"user-mismatch"),oc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&jr(r,"user-mismatch"),o}})}function $A(t,e,n=!1){return D(this,null,function*(){if(cr(t.app))return Promise.reject(wi(t));let r="signIn",i=yield BA(t,r,e),o=yield oc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function kw(t,e){return D(this,null,function*(){return $A(Ts(t),e)})}function PB(t,e,n){var r;de(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),de(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(de(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(de(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function HA(t){return D(this,null,function*(){let e=Ts(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Fw(t,e,n){return D(this,null,function*(){if(cr(t.app))return Promise.reject(wi(t));let r=Ts(t),s=yield vw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AB).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&HA(t),l}),a=yield oc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Lw(t,e,n){return cr(t.app)?Promise.reject(wi(t)):kw(Je(t),jA.credential(e,n)).catch(r=>D(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&HA(t),r}))}function Vw(t,e){return D(this,null,function*(){let n=Je(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&PB(n.auth,i,e);let{email:o}=yield IB(n.auth,i);o!==t.email&&(yield t.reload())})}function Uw(t,e,n,r){return Je(t).onIdTokenChanged(e,n,r)}function jw(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}function Bw(t,e,n,r){return Je(t).onAuthStateChanged(e,n,r)}var Ap="__sak";var xp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ap,"1"),this.storage.removeItem(Ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var MB=1e3,NB=10,OB=(()=>{class t extends xp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,d)=>{this.notifyListeners(a,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);lB()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,NB):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},MB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return D(this,null,function*(){yield Ki(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return D(this,null,function*(){let r=yield Ki(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return D(this,null,function*(){yield Ki(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),zA=OB;var kB=(()=>{class t extends xp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),$w=kB;function FB(t){return Promise.all(t.map(e=>D(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var LB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return D(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let l=Array.from(a).map(p=>D(this,null,function*(){return p(r.origin,s)})),d=yield FB(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function qA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var ww=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return D(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let d=qA("",20);i.port1.start();let p=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){let y=m;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(p),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ur(){return window}function VB(t){Ur().location.href=t}function GA(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}function UB(){return D(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function jB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function BB(){return GA()?self:null}var WA="firebaseLocalStorageDb",$B=1,Rp="firebaseLocalStorage",KA="fbase_key",Ds=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Np(t,e){return t.transaction([Rp],e?"readwrite":"readonly").objectStore(Rp)}function HB(){let t=indexedDB.deleteDatabase(WA);return new Ds(t).toPromise()}function Ew(){let t=indexedDB.open(WA,$B);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Rp,{keyPath:KA})}catch(i){n(i)}}),t.addEventListener("success",()=>D(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Rp)?e(r):(r.close(),yield HB(),e(yield Ew()))}))})}function hA(t,e,n){return D(this,null,function*(){let r=Np(t,!0).put({[KA]:e,value:n});return new Ds(r).toPromise()})}function zB(t,e){return D(this,null,function*(){let n=Np(t,!1).get(e),r=yield new Ds(n).toPromise();return r===void 0?null:r.value})}function fA(t,e){let n=Np(t,!0).delete(e);return new Ds(n).toPromise()}var qB=800,GB=3,WB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return D(this,null,function*(){return this.db?this.db:(this.db=yield Ew(),this.db)})}_withRetries(n){return D(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>GB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return D(this,null,function*(){return GA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return D(this,null,function*(){this.receiver=LB._getInstance(BB()),this.receiver._subscribe("keyChanged",(n,r)=>D(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>D(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return D(this,null,function*(){var n,r;if(this.activeServiceWorker=yield UB(),!this.activeServiceWorker)return;this.sender=new ww(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return D(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||jB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return D(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Ew();return yield hA(n,Ap,"1"),yield fA(n,Ap),!0}catch{}return!1})}_withPendingWrite(n){return D(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(i=>hA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return D(this,null,function*(){let r=yield this._withRetries(i=>zB(i,n));return this.localCache[n]=r,r})}_remove(n){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(r=>fA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return D(this,null,function*(){let n=yield this._withRetries(o=>{let s=Np(o,!1).getAll();return new Ds(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>D(this,null,function*(){return this._poll()}),qB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),QA=WB;var CZ=VA("rcb"),DZ=new Cs(3e4,6e4);function KB(t,e){return e?_i(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var gu=class extends pu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sw(e,this._buildIdpRequest())}_linkToIdToken(e,n){return sw(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return sw(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function QB(t){return $A(t.auth,new gu(t),t.bypassAuthState)}function YB(t){let{auth:e,user:n}=t;return de(n,e,"internal-error"),RB(n,new gu(t),t.bypassAuthState)}function ZB(t){return D(this,null,function*(){let{auth:e,user:n}=t;return de(n,e,"internal-error"),xB(n,new gu(t),t.bypassAuthState)})}var bw=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>D(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return D(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QB;case"linkViaPopup":case"linkViaRedirect":return ZB;case"reauthViaPopup":case"reauthViaRedirect":return YB;default:jr(this.auth,"internal-error")}}resolve(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var TZ=new Cs(2e3,1e4);var JB="pendingRedirect",_p=new Map,Iw=class t extends bw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return D(this,null,function*(){let e=_p.get(this.auth._key());if(!e){try{let r=(yield XB(this.resolver,this.auth))?yield Ki(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_p.set(this.auth._key(),e)}return this.bypassAuthState||_p.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return D(this,null,function*(){if(e.type==="signInViaRedirect")return Ki(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ki(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return D(this,null,function*(){})}cleanUp(){}};function XB(t,e){return D(this,null,function*(){let n=n$(e),r=t$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function e$(t,e){_p.set(t._key(),e)}function t$(t){return _i(t._redirectPersistence)}function n$(t){return yp(JB,t.config.apiKey,t.name)}function r$(t,e,n=!1){return D(this,null,function*(){if(cr(t.app))return Promise.reject(wi(t));let r=Ts(t),i=KB(r,e),s=yield new Iw(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var i$=10*60*1e3,Cw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Is(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i$&&this.cachedEventUids.clear(),this.cachedEventUids.has(pA(e))}saveEventToCache(e){this.cachedEventUids.add(pA(e)),this.lastProcessedEventTime=Date.now()}};function pA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function o$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YA(t);default:return!1}}function s$(n){return D(this,arguments,function*(t,e={}){return bi(t,"GET","/v1/projects",e)})}var a$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c$=/^https?/;function l$(t){return D(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield s$(t);for(let n of e)try{if(u$(n))return}catch{}jr(t,"unauthorized-domain")})}function u$(t){let e=cw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!c$.test(n))return!1;if(a$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var d$=new Cs(3e4,6e4);function mA(){let t=Ur().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h$(t){return new Promise((e,n)=>{var r,i,o;function s(){mA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mA(),n(Is(t,"network-request-failed"))},timeout:d$.get()})}if(!((i=(r=Ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ur().gapi)===null||o===void 0)&&o.load)s();else{let a=VA("iframefcb");return Ur()[a]=()=>{gapi.load?s():n(Is(t,"network-request-failed"))},LA(`${pB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw wp=null,e})}var wp=null;function f$(t){return wp=wp||h$(t),wp}var p$=new Cs(5e3,15e3),m$="__/auth/iframe",g$="emulator/auth/iframe",v$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _$(t){let e=t.config;de(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Aw(e,g$):`https://${t.config.authDomain}/${m$}`,r={apiKey:e.apiKey,appName:t.name,v:Vr},i=y$.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${au(r).slice(1)}`}function w$(t){return D(this,null,function*(){let e=yield f$(t),n=Ur().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:_$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v$,dontclear:!0},r=>new Promise((i,o)=>D(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Is(t,"network-request-failed"),a=Ur().setTimeout(()=>{o(s)},p$.get());function l(){Ur().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})})))})}var E$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b$=500,I$=600,C$="_blank",D$="http://localhost",Pp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function T$(t,e,n,r=b$,i=I$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},E$),{width:r.toString(),height:i.toString(),top:o,left:s}),d=Ot().toLowerCase();n&&(a=RA(d)?C$:n),AA(d)&&(e=e||D$,l.scrollbars="yes");let p=Object.entries(l).reduce((y,[b,A])=>`${y}${b}=${A},`,"");if(cB(d)&&a!=="_self")return S$(e||"",a),new Pp(null);let m=window.open(e||"",a,p);de(m,t,"popup-blocked");try{m.focus()}catch{}return new Pp(m)}function S$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var A$="__/auth/handler",x$="emulator/auth/handler",R$=encodeURIComponent("fac");function gA(t,e,n,r,i,o){return D(this,null,function*(){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vr,eventId:i};if(e instanceof Sp){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",jS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,m]of Object.entries(o||{}))s[p]=m}if(e instanceof yw){let p=e.getScopes().filter(m=>m!=="");p.length>0&&(s.scopes=p.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let l=yield t._getAppCheckToken(),d=l?`#${R$}=${encodeURIComponent(l)}`:"";return`${P$(t)}?${au(a).slice(1)}${d}`})}function P$({config:t}){return t.emulator?Aw(t,x$):`https://${t.authDomain}/${A$}`}var aw="webStorageSupport",Dw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$w,this._completeRedirectFn=r$,this._overrideRedirectResult=e$}_openPopup(e,n,r,i){return D(this,null,function*(){var o;_o((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield gA(e,n,r,cw(),i);return T$(e,s,qA())})}_openRedirect(e,n,r,i){return D(this,null,function*(){yield this._originValidation(e);let o=yield gA(e,n,r,cw(),i);return VB(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(_o(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return D(this,null,function*(){let n=yield w$(e),r=new Cw(e);return n.register("authEvent",i=>(de(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(aw,{type:aw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[aw];s!==void 0&&n(!!s),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kA()||xA()||Mw()}},ZA=Dw;var vA="@firebase/auth",yA="1.7.9";var Tw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function M$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N$(t){Lr(new fn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FA(t)},d=new mw(r,i,o,l);return vB(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lr(new fn("auth-internal",e=>{let n=Ts(e.getProvider("auth").getImmediate());return(r=>new Tw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rt(vA,yA,M$(t)),rt(vA,yA,"esm2017")}var O$=5*60,k$=j_("authIdTokenMaxAge")||O$,_A=null,F$=t=>e=>D(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>k$)return;let i=n?.token;_A!==i&&(_A=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Hw(t=mo()){let e=ws(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Nw(t,{popupRedirectResolver:ZA,persistence:[QA,zA,$w]}),r=j_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=F$(o.toString());jw(n,s,()=>s(n.currentUser)),Uw(n,a=>s(a))}}let i=V_("auth");return i&&Ow(n,`http://${i}`),n}function L$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}hB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Is("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",L$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N$("Browser");var JA="auth",Ss=class{constructor(e){return e}},As=class{constructor(){return bs(JA)}};var zw=new te("angularfire2.auth-instances");function T3(t,e){let n=rc(JA,t,e);return n&&new Ss(n)}function S3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ss(r)}}var A3={provide:As,deps:[[new Et,zw]]},x3={provide:Ss,useFactory:T3,deps:[[new Et,zw],lr]};function XA(t,...e){return rt("angularfire",gi.full,"auth"),kn([x3,A3,{provide:zw,useFactory:S3(t),multi:!0,deps:[je,Gt,vo,vi,[new Et,go],...e]}])}var ex=ut(Fw,!0);var tx=ut(Hw,!0);var nx=ut(Bw,!0);var rx=ut(Vw,!0);var ix=ut(Lw,!0);var dx="firebasestorage.googleapis.com",hx="storageBucket",P3=2*60*1e3,M3=10*60*1e3;var dt=class t extends sn{constructor(e,n,r=0){super(qw(e),`Firebase Storage: ${n} (${qw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},mt=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(mt||{});function qw(t){return"storage/"+t}function Zw(){let t="An unknown error occurred, please check the error payload for server response.";return new dt(mt.UNKNOWN,t)}function N3(t){return new dt(mt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function O3(t){return new dt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function k3(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(mt.UNAUTHENTICATED,t)}function F3(){return new dt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function L3(t){return new dt(mt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function V3(){return new dt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function U3(){return new dt(mt.CANCELED,"User canceled the upload/download.")}function j3(t){return new dt(mt.INVALID_URL,"Invalid URL '"+t+"'.")}function B3(t){return new dt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $3(){return new dt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hx+"' property when initializing the app?")}function H3(){return new dt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function z3(){return new dt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function q3(t){return new dt(mt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Gw(t){return new dt(mt.INVALID_ARGUMENT,t)}function fx(){return new dt(mt.APP_DELETED,"The Firebase app was deleted.")}function G3(t){return new dt(mt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _u(t,e){return new dt(mt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function yu(t){throw new dt(mt.INTERNAL_ERROR,"Internal error: "+t)}var ur=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw B3(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function d(re){re.path_=decodeURIComponent(re.path)}let p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${m}/${p}/b/${i}/o${y}`,"i"),A={bucket:1,path:3},j=n===dx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",$=new RegExp(`^https?://${j}/${i}/${L}`,"i"),X=[{regex:a,indices:l,postModify:o},{regex:b,indices:A,postModify:d},{regex:$,indices:{bucket:1,path:2},postModify:d}];for(let re=0;re<X.length;re++){let Ne=X[re],ae=Ne.regex.exec(e);if(ae){let x=ae[Ne.indices.bucket],C=ae[Ne.indices.path];C||(C=""),r=new t(x,C),Ne.postModify(r);break}}if(r==null)throw j3(e);return r}},Ww=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function W3(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let d=!1;function p(...L){d||(d=!0,e.apply(null,L))}function m(L){i=setTimeout(()=>{i=null,t(b,l())},L)}function y(){o&&clearTimeout(o)}function b(L,...$){if(d){y();return}if(L){y(),p.call(null,L,...$);return}if(l()||s){y(),p.call(null,L,...$);return}r<64&&(r*=2);let X;a===1?(a=2,X=0):X=(r+Math.random())*1e3,m(X)}let A=!1;function j(L){A||(A=!0,y(),!d&&(i!==null?(L||(a=2),clearTimeout(i),m(0)):L||(a=1)))}return m(0),o=setTimeout(()=>{s=!0,j(!0)},n),j}function K3(t){t(!1)}function Q3(t){return t!==void 0}function Y3(t){return typeof t=="object"&&!Array.isArray(t)}function Jw(t){return typeof t=="string"||t instanceof String}function ox(t){return Xw()&&t instanceof Blob}function Xw(){return typeof Blob<"u"}function sx(t,e,n,r){if(r<e)throw Gw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Gw(`Invalid value for '${t}'. Expected ${n} or less.`)}function e0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function px(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ac=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(ac||{});function Z3(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var Kw=class{constructor(e,n,r,i,o,s,a,l,d,p,m,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=m,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,A)=>{this.resolve_=b,this.reject_=A,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new sc(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let l=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===ac.NO_ERROR,l=o.getStatus();if(!a||Z3(l,this.additionalRetryCodes_)&&this.retry){let p=o.getErrorCode()===ac.ABORT;r(!1,new sc(!1,null,p));return}let d=this.successCodes_.indexOf(l)!==-1;r(!0,new sc(d,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());Q3(l)?o(l):o()}catch(l){s(l)}else if(a!==null){let l=Zw();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){let l=this.appDelete_?fx():U3();s(l)}else{let l=V3();s(l)}};this.canceled_?n(!1,new sc(!1,null,!0)):this.backoffId_=W3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&K3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},sc=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function J3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function X3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eH(t,e){e&&(t["X-Firebase-GMPID"]=e)}function tH(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function nH(t,e,n,r,i,o,s=!0){let a=px(t.urlParams),l=t.url+a,d=Object.assign({},t.headers);return eH(d,e),J3(d,n),X3(d,o),tH(d,r),new Kw(l,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}function rH(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iH(...t){let e=rH();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Xw())return new Blob(t);throw new dt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function oH(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function sH(t){if(typeof atob>"u")throw q3("base-64");return atob(t)}var Br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},wu=class{constructor(e,n){this.data=e,this.contentType=n||null}};function aH(t,e){switch(t){case Br.RAW:return new wu(mx(e));case Br.BASE64:case Br.BASE64URL:return new wu(gx(t,e));case Br.DATA_URL:return new wu(lH(e),uH(e))}throw Zw()}function mx(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function cH(t){let e;try{e=decodeURIComponent(t)}catch{throw _u(Br.DATA_URL,"Malformed data URL.")}return mx(e)}function gx(t,e){switch(t){case Br.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw _u(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Br.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw _u(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=sH(e)}catch(i){throw i.message.includes("polyfill")?i:_u(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var kp=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw _u(Br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=dH(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function lH(t){let e=new kp(t);return e.base64?gx(Br.BASE64,e.rest):cH(e.rest)}function uH(t){return new kp(t).contentType}function dH(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Fp=class t{constructor(e,n){let r=0,i="";ox(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(ox(this.data_)){let r=this.data_,i=oH(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(Xw()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(iH.apply(null,n))}else{let n=e.map(s=>Jw(s)?aH(Br.RAW,s).data:s.data_),r=0;n.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new t(i,!0)}}uploadData(){return this.data_}};function vx(t){let e;try{e=JSON.parse(t)}catch{return null}return Y3(e)?e:null}function hH(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function fH(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function yx(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function pH(t,e){return e}var $t=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||pH}},Op=null;function mH(t){return!Jw(t)||t.length<2?t:yx(t)}function _x(){if(Op)return Op;let t=[];t.push(new $t("bucket")),t.push(new $t("generation")),t.push(new $t("metageneration")),t.push(new $t("name","fullPath",!0));function e(o,s){return mH(s)}let n=new $t("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}let i=new $t("size");return i.xform=r,t.push(i),t.push(new $t("timeCreated")),t.push(new $t("updated")),t.push(new $t("md5Hash",null,!0)),t.push(new $t("cacheControl",null,!0)),t.push(new $t("contentDisposition",null,!0)),t.push(new $t("contentEncoding",null,!0)),t.push(new $t("contentLanguage",null,!0)),t.push(new $t("contentType",null,!0)),t.push(new $t("metadata","customMetadata",!0)),Op=t,Op}function gH(t,e){function n(){let r=t.bucket,i=t.fullPath,o=new ur(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function vH(t,e,n){let r={};r.type="file";let i=n.length;for(let o=0;o<i;o++){let s=n[o];r[s.local]=s.xform(r,e[s.server])}return gH(r,t),r}function wx(t,e,n){let r=vx(e);return r===null?null:vH(t,r,n)}function yH(t,e,n,r){let i=vx(e);if(i===null||!Jw(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(d=>{let p=t.bucket,m=t.fullPath,y="/b/"+s(p)+"/o/"+s(m),b=e0(y,n,r),A=px({alt:"media",token:d});return b+A})[0]}function _H(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Lp=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Ex(t){if(!t)throw Zw()}function wH(t,e){function n(r,i){let o=wx(t,i,e);return Ex(o!==null),o}return n}function EH(t,e){function n(r,i){let o=wx(t,i,e);return Ex(o!==null),yH(o,i,t.host,t._protocol)}return n}function bx(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=F3():i=k3():n.getStatus()===402?i=O3(t.bucket):n.getStatus()===403?i=L3(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function bH(t){let e=bx(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=N3(t.path)),o.serverResponse=i.serverResponse,o}return n}function IH(t,e,n){let r=e.fullServerUrl(),i=e0(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Lp(i,o,EH(t,n),s);return a.errorHandler=bH(e),a}function CH(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function DH(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=CH(null,e)),r}function TH(t,e,n,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let X="";for(let re=0;re<2;re++)X=X+Math.random().toString().slice(2);return X}let l=a();s["Content-Type"]="multipart/related; boundary="+l;let d=DH(e,r,i),p=_H(d,n),m="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+l+`\r
Content-Type: `+d.contentType+`\r
\r
`,y=`\r
--`+l+"--",b=Fp.getBlob(m,r,y);if(b===null)throw H3();let A={name:d.fullPath},j=e0(o,t.host,t._protocol),L="POST",$=t.maxUploadRetryTime,J=new Lp(j,L,wH(t,n),$);return J.urlParams=A,J.headers=s,J.body=b.uploadData(),J.errorHandler=bx(e),J}var fJ=256*1024;var ax=null,Qw=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ac.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ac.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ac.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw yu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Yw=class extends Qw{initXhr(){this.xhr_.responseType="text"}};function Ix(){return ax?ax():new Yw}var cc=class t{constructor(e,n){this._service=e,n instanceof ur?this._location=n:this._location=ur.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new ur(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yx(this._location.path)}get storage(){return this._service}get parent(){let e=hH(this._location.path);if(e===null)return null;let n=new ur(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw G3(e)}};function SH(t,e,n){t._throwIfRoot("uploadBytes");let r=TH(t.storage,t._location,_x(),new Fp(e,!0),n);return t.storage.makeRequestWithTokens(r,Ix).then(i=>({metadata:i,ref:t}))}function AH(t){t._throwIfRoot("getDownloadURL");let e=IH(t.storage,t._location,_x());return t.storage.makeRequestWithTokens(e,Ix).then(n=>{if(n===null)throw z3();return n})}function xH(t,e){let n=fH(t._location.path,e),r=new ur(t._location.bucket,n);return new cc(t.storage,r)}function RH(t){return/^[A-Za-z]+:\/\//.test(t)}function PH(t,e){return new cc(t,e)}function Cx(t,e){if(t instanceof Eu){let n=t;if(n._bucket==null)throw $3();let r=new cc(n,n._bucket);return e!=null?Cx(r,e):r}else return e!==void 0?xH(t,e):t}function MH(t,e){if(e&&RH(e)){if(t instanceof Eu)return PH(t,e);throw Gw("To use ref(service, url), the first argument must be a Storage instance.")}else return Cx(t,e)}function cx(t,e){let n=e?.[hx];return n==null?null:ur.makeFromBucketSpec(n,t)}function NH(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:up(i,t.app.options.projectId))}var Eu=class{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=dx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=P3,this._maxUploadRetryTime=M3,this._requests=new Set,i!=null?this._bucket=ur.makeFromBucketSpec(i,this._host):this._bucket=cx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ur.makeFromBucketSpec(this._url,e):this._bucket=cx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return D(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return D(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cc(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Ww(fx());{let s=nH(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return D(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},lx="@firebase/storage",ux="0.13.2";var Dx="storage";function t0(t,e,n){return t=Je(t),SH(t,e,n)}function n0(t){return t=Je(t),AH(t)}function r0(t,e){return t=Je(t),MH(t,e)}function Vp(t=mo(),e){t=Je(t);let r=ws(t,Dx).getImmediate({identifier:e}),i=lp("storage");return i&&Tx(r,...i),r}function Tx(t,e,n,r={}){NH(t,e,n,r)}function OH(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Eu(n,r,i,e,Vr)}function kH(){Lr(new fn(Dx,OH,"PUBLIC").setMultipleInstances(!0)),rt(lx,ux,""),rt(lx,ux,"esm2017")}kH();var Sx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ax={};var wo,i0;(function(){var t;function e(x,C){function T(){}T.prototype=C.prototype,x.D=C.prototype,x.prototype=new T,x.prototype.constructor=x,x.C=function(R,M,N){for(var S=Array(arguments.length-2),qn=2;qn<arguments.length;qn++)S[qn-2]=arguments[qn];return C.prototype[M].apply(R,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,C,T){T||(T=0);var R=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)R[M]=C.charCodeAt(T++)|C.charCodeAt(T++)<<8|C.charCodeAt(T++)<<16|C.charCodeAt(T++)<<24;else for(M=0;16>M;++M)R[M]=C[T++]|C[T++]<<8|C[T++]<<16|C[T++]<<24;C=x.g[0],T=x.g[1],M=x.g[2];var N=x.g[3],S=C+(N^T&(M^N))+R[0]+3614090360&4294967295;C=T+(S<<7&4294967295|S>>>25),S=N+(M^C&(T^M))+R[1]+3905402710&4294967295,N=C+(S<<12&4294967295|S>>>20),S=M+(T^N&(C^T))+R[2]+606105819&4294967295,M=N+(S<<17&4294967295|S>>>15),S=T+(C^M&(N^C))+R[3]+3250441966&4294967295,T=M+(S<<22&4294967295|S>>>10),S=C+(N^T&(M^N))+R[4]+4118548399&4294967295,C=T+(S<<7&4294967295|S>>>25),S=N+(M^C&(T^M))+R[5]+1200080426&4294967295,N=C+(S<<12&4294967295|S>>>20),S=M+(T^N&(C^T))+R[6]+2821735955&4294967295,M=N+(S<<17&4294967295|S>>>15),S=T+(C^M&(N^C))+R[7]+4249261313&4294967295,T=M+(S<<22&4294967295|S>>>10),S=C+(N^T&(M^N))+R[8]+1770035416&4294967295,C=T+(S<<7&4294967295|S>>>25),S=N+(M^C&(T^M))+R[9]+2336552879&4294967295,N=C+(S<<12&4294967295|S>>>20),S=M+(T^N&(C^T))+R[10]+4294925233&4294967295,M=N+(S<<17&4294967295|S>>>15),S=T+(C^M&(N^C))+R[11]+2304563134&4294967295,T=M+(S<<22&4294967295|S>>>10),S=C+(N^T&(M^N))+R[12]+1804603682&4294967295,C=T+(S<<7&4294967295|S>>>25),S=N+(M^C&(T^M))+R[13]+4254626195&4294967295,N=C+(S<<12&4294967295|S>>>20),S=M+(T^N&(C^T))+R[14]+2792965006&4294967295,M=N+(S<<17&4294967295|S>>>15),S=T+(C^M&(N^C))+R[15]+1236535329&4294967295,T=M+(S<<22&4294967295|S>>>10),S=C+(M^N&(T^M))+R[1]+4129170786&4294967295,C=T+(S<<5&4294967295|S>>>27),S=N+(T^M&(C^T))+R[6]+3225465664&4294967295,N=C+(S<<9&4294967295|S>>>23),S=M+(C^T&(N^C))+R[11]+643717713&4294967295,M=N+(S<<14&4294967295|S>>>18),S=T+(N^C&(M^N))+R[0]+3921069994&4294967295,T=M+(S<<20&4294967295|S>>>12),S=C+(M^N&(T^M))+R[5]+3593408605&4294967295,C=T+(S<<5&4294967295|S>>>27),S=N+(T^M&(C^T))+R[10]+38016083&4294967295,N=C+(S<<9&4294967295|S>>>23),S=M+(C^T&(N^C))+R[15]+3634488961&4294967295,M=N+(S<<14&4294967295|S>>>18),S=T+(N^C&(M^N))+R[4]+3889429448&4294967295,T=M+(S<<20&4294967295|S>>>12),S=C+(M^N&(T^M))+R[9]+568446438&4294967295,C=T+(S<<5&4294967295|S>>>27),S=N+(T^M&(C^T))+R[14]+3275163606&4294967295,N=C+(S<<9&4294967295|S>>>23),S=M+(C^T&(N^C))+R[3]+4107603335&4294967295,M=N+(S<<14&4294967295|S>>>18),S=T+(N^C&(M^N))+R[8]+1163531501&4294967295,T=M+(S<<20&4294967295|S>>>12),S=C+(M^N&(T^M))+R[13]+2850285829&4294967295,C=T+(S<<5&4294967295|S>>>27),S=N+(T^M&(C^T))+R[2]+4243563512&4294967295,N=C+(S<<9&4294967295|S>>>23),S=M+(C^T&(N^C))+R[7]+1735328473&4294967295,M=N+(S<<14&4294967295|S>>>18),S=T+(N^C&(M^N))+R[12]+2368359562&4294967295,T=M+(S<<20&4294967295|S>>>12),S=C+(T^M^N)+R[5]+4294588738&4294967295,C=T+(S<<4&4294967295|S>>>28),S=N+(C^T^M)+R[8]+2272392833&4294967295,N=C+(S<<11&4294967295|S>>>21),S=M+(N^C^T)+R[11]+1839030562&4294967295,M=N+(S<<16&4294967295|S>>>16),S=T+(M^N^C)+R[14]+4259657740&4294967295,T=M+(S<<23&4294967295|S>>>9),S=C+(T^M^N)+R[1]+2763975236&4294967295,C=T+(S<<4&4294967295|S>>>28),S=N+(C^T^M)+R[4]+1272893353&4294967295,N=C+(S<<11&4294967295|S>>>21),S=M+(N^C^T)+R[7]+4139469664&4294967295,M=N+(S<<16&4294967295|S>>>16),S=T+(M^N^C)+R[10]+3200236656&4294967295,T=M+(S<<23&4294967295|S>>>9),S=C+(T^M^N)+R[13]+681279174&4294967295,C=T+(S<<4&4294967295|S>>>28),S=N+(C^T^M)+R[0]+3936430074&4294967295,N=C+(S<<11&4294967295|S>>>21),S=M+(N^C^T)+R[3]+3572445317&4294967295,M=N+(S<<16&4294967295|S>>>16),S=T+(M^N^C)+R[6]+76029189&4294967295,T=M+(S<<23&4294967295|S>>>9),S=C+(T^M^N)+R[9]+3654602809&4294967295,C=T+(S<<4&4294967295|S>>>28),S=N+(C^T^M)+R[12]+3873151461&4294967295,N=C+(S<<11&4294967295|S>>>21),S=M+(N^C^T)+R[15]+530742520&4294967295,M=N+(S<<16&4294967295|S>>>16),S=T+(M^N^C)+R[2]+3299628645&4294967295,T=M+(S<<23&4294967295|S>>>9),S=C+(M^(T|~N))+R[0]+4096336452&4294967295,C=T+(S<<6&4294967295|S>>>26),S=N+(T^(C|~M))+R[7]+1126891415&4294967295,N=C+(S<<10&4294967295|S>>>22),S=M+(C^(N|~T))+R[14]+2878612391&4294967295,M=N+(S<<15&4294967295|S>>>17),S=T+(N^(M|~C))+R[5]+4237533241&4294967295,T=M+(S<<21&4294967295|S>>>11),S=C+(M^(T|~N))+R[12]+1700485571&4294967295,C=T+(S<<6&4294967295|S>>>26),S=N+(T^(C|~M))+R[3]+2399980690&4294967295,N=C+(S<<10&4294967295|S>>>22),S=M+(C^(N|~T))+R[10]+4293915773&4294967295,M=N+(S<<15&4294967295|S>>>17),S=T+(N^(M|~C))+R[1]+2240044497&4294967295,T=M+(S<<21&4294967295|S>>>11),S=C+(M^(T|~N))+R[8]+1873313359&4294967295,C=T+(S<<6&4294967295|S>>>26),S=N+(T^(C|~M))+R[15]+4264355552&4294967295,N=C+(S<<10&4294967295|S>>>22),S=M+(C^(N|~T))+R[6]+2734768916&4294967295,M=N+(S<<15&4294967295|S>>>17),S=T+(N^(M|~C))+R[13]+1309151649&4294967295,T=M+(S<<21&4294967295|S>>>11),S=C+(M^(T|~N))+R[4]+4149444226&4294967295,C=T+(S<<6&4294967295|S>>>26),S=N+(T^(C|~M))+R[11]+3174756917&4294967295,N=C+(S<<10&4294967295|S>>>22),S=M+(C^(N|~T))+R[2]+718787259&4294967295,M=N+(S<<15&4294967295|S>>>17),S=T+(N^(M|~C))+R[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(M+(S<<21&4294967295|S>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+N&4294967295}r.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var T=C-this.blockSize,R=this.B,M=this.h,N=0;N<C;){if(M==0)for(;N<=T;)i(this,x,N),N+=this.blockSize;if(typeof x=="string"){for(;N<C;)if(R[M++]=x.charCodeAt(N++),M==this.blockSize){i(this,R),M=0;break}}else for(;N<C;)if(R[M++]=x[N++],M==this.blockSize){i(this,R),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var T=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=T&255,T/=256;for(this.u(x),x=Array(16),C=T=0;4>C;++C)for(var R=0;32>R;R+=8)x[T++]=this.g[C]>>>R&255;return x};function o(x,C){var T=a;return Object.prototype.hasOwnProperty.call(T,x)?T[x]:T[x]=C(x)}function s(x,C){this.h=C;for(var T=[],R=!0,M=x.length-1;0<=M;M--){var N=x[M]|0;R&&N==C||(T[M]=N,R=!1)}this.g=T}var a={};function l(x){return-128<=x&&128>x?o(x,function(C){return new s([C|0],0>C?-1:0)}):new s([x|0],0>x?-1:0)}function d(x){if(isNaN(x)||!isFinite(x))return m;if(0>x)return L(d(-x));for(var C=[],T=1,R=0;x>=T;R++)C[R]=x/T|0,T*=4294967296;return new s(C,0)}function p(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return L(p(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=d(Math.pow(C,8)),R=m,M=0;M<x.length;M+=8){var N=Math.min(8,x.length-M),S=parseInt(x.substring(M,M+N),C);8>N?(N=d(Math.pow(C,N)),R=R.j(N).add(d(S))):(R=R.j(T),R=R.add(d(S)))}return R}var m=l(0),y=l(1),b=l(16777216);t=s.prototype,t.m=function(){if(j(this))return-L(this).m();for(var x=0,C=1,T=0;T<this.g.length;T++){var R=this.i(T);x+=(0<=R?R:4294967296+R)*C,C*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(A(this))return"0";if(j(this))return"-"+L(this).toString(x);for(var C=d(Math.pow(x,6)),T=this,R="";;){var M=re(T,C).g;T=$(T,M.j(C));var N=((0<T.g.length?T.g[0]:T.h)>>>0).toString(x);if(T=M,A(T))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function A(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function j(x){return x.h==-1}t.l=function(x){return x=$(this,x),j(x)?-1:A(x)?0:1};function L(x){for(var C=x.g.length,T=[],R=0;R<C;R++)T[R]=~x.g[R];return new s(T,~x.h).add(y)}t.abs=function(){return j(this)?L(this):this},t.add=function(x){for(var C=Math.max(this.g.length,x.g.length),T=[],R=0,M=0;M<=C;M++){var N=R+(this.i(M)&65535)+(x.i(M)&65535),S=(N>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);R=S>>>16,N&=65535,S&=65535,T[M]=S<<16|N}return new s(T,T[T.length-1]&-2147483648?-1:0)};function $(x,C){return x.add(L(C))}t.j=function(x){if(A(this)||A(x))return m;if(j(this))return j(x)?L(this).j(L(x)):L(L(this).j(x));if(j(x))return L(this.j(L(x)));if(0>this.l(b)&&0>x.l(b))return d(this.m()*x.m());for(var C=this.g.length+x.g.length,T=[],R=0;R<2*C;R++)T[R]=0;for(R=0;R<this.g.length;R++)for(var M=0;M<x.g.length;M++){var N=this.i(R)>>>16,S=this.i(R)&65535,qn=x.i(M)>>>16,Ri=x.i(M)&65535;T[2*R+2*M]+=S*Ri,J(T,2*R+2*M),T[2*R+2*M+1]+=N*Ri,J(T,2*R+2*M+1),T[2*R+2*M+1]+=S*qn,J(T,2*R+2*M+1),T[2*R+2*M+2]+=N*qn,J(T,2*R+2*M+2)}for(R=0;R<C;R++)T[R]=T[2*R+1]<<16|T[2*R];for(R=C;R<2*C;R++)T[R]=0;return new s(T,0)};function J(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function X(x,C){this.g=x,this.h=C}function re(x,C){if(A(C))throw Error("division by zero");if(A(x))return new X(m,m);if(j(x))return C=re(L(x),C),new X(L(C.g),L(C.h));if(j(C))return C=re(x,L(C)),new X(L(C.g),C.h);if(30<x.g.length){if(j(x)||j(C))throw Error("slowDivide_ only works with positive integers.");for(var T=y,R=C;0>=R.l(x);)T=Ne(T),R=Ne(R);var M=ae(T,1),N=ae(R,1);for(R=ae(R,2),T=ae(T,2);!A(R);){var S=N.add(R);0>=S.l(x)&&(M=M.add(T),N=S),R=ae(R,1),T=ae(T,1)}return C=$(x,M.j(C)),new X(M,C)}for(M=m;0<=x.l(C);){for(T=Math.max(1,Math.floor(x.m()/C.m())),R=Math.ceil(Math.log(T)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=d(T),S=N.j(C);j(S)||0<S.l(x);)T-=R,N=d(T),S=N.j(C);A(N)&&(N=y),M=M.add(N),x=$(x,S)}return new X(M,x)}t.A=function(x){return re(this,x).h},t.and=function(x){for(var C=Math.max(this.g.length,x.g.length),T=[],R=0;R<C;R++)T[R]=this.i(R)&x.i(R);return new s(T,this.h&x.h)},t.or=function(x){for(var C=Math.max(this.g.length,x.g.length),T=[],R=0;R<C;R++)T[R]=this.i(R)|x.i(R);return new s(T,this.h|x.h)},t.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),T=[],R=0;R<C;R++)T[R]=this.i(R)^x.i(R);return new s(T,this.h^x.h)};function Ne(x){for(var C=x.g.length+1,T=[],R=0;R<C;R++)T[R]=x.i(R)<<1|x.i(R-1)>>>31;return new s(T,x.h)}function ae(x,C){var T=C>>5;C%=32;for(var R=x.g.length-T,M=[],N=0;N<R;N++)M[N]=0<C?x.i(N+T)>>>C|x.i(N+T+1)<<32-C:x.i(N+T);return new s(M,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,i0=Ax.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=p,wo=Ax.Integer=s}).apply(typeof Sx<"u"?Sx:typeof self<"u"?self:typeof window<"u"?window:{});var Up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ii={};var o0,FH,lc,s0,bu,jp,a0,c0,l0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,g){return c==Array.prototype||c==Object.prototype||(c[f]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Up=="object"&&Up];for(var f=0;f<c.length;++f){var g=c[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,f){if(f)e:{var g=r;c=c.split(".");for(var _=0;_<c.length-1;_++){var O=c[_];if(!(O in g))break e;g=g[O]}c=c[c.length-1],_=g[c],f=f(_),f!=_&&f!=null&&e(g,c,{configurable:!0,writable:!0,value:f})}}function o(c,f){c instanceof String&&(c+="");var g=0,_=!1,O={next:function(){if(!_&&g<c.length){var V=g++;return{value:f(V,c[V]),done:!1}}return _=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(c){return c||function(){return o(this,function(f,g){return g})}});var s=s||{},a=this||self;function l(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,g){return c.call.apply(c.bind,arguments)}function m(c,f,g){if(!c)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,_),c.apply(f,O)}}return function(){return c.apply(f,arguments)}}function y(c,f,g){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function b(c,f){var g=Array.prototype.slice.call(arguments,1);return function(){var _=g.slice();return _.push.apply(_,arguments),c.apply(this,_)}}function A(c,f){function g(){}g.prototype=f.prototype,c.aa=f.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(_,O,V){for(var z=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)z[$e-2]=arguments[$e];return f.prototype[O].apply(_,z)}}function j(c){let f=c.length;if(0<f){let g=Array(f);for(let _=0;_<f;_++)g[_]=c[_];return g}return[]}function L(c,f){for(let g=1;g<arguments.length;g++){let _=arguments[g];if(l(_)){let O=c.length||0,V=_.length||0;c.length=O+V;for(let z=0;z<V;z++)c[O+z]=_[z]}else c.push(_)}}class ${constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function J(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var Ne=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ae(c,f,g){for(let _ in c)f.call(g,c[_],_,c)}function x(c,f){for(let g in c)f.call(void 0,c[g],g,c)}function C(c){let f={};for(let g in c)f[g]=c[g];return f}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,f){let g,_;for(let O=1;O<arguments.length;O++){_=arguments[O];for(g in _)c[g]=_[g];for(let V=0;V<T.length;V++)g=T[V],Object.prototype.hasOwnProperty.call(_,g)&&(c[g]=_[g])}}function M(c){var f=1;c=c.split(":");let g=[];for(;0<f&&c.length;)g.push(c.shift()),f--;return c.length&&g.push(c.join(":")),g}function N(c){a.setTimeout(()=>{throw c},0)}function S(){var c=Mi;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class qn{constructor(){this.h=this.g=null}add(f,g){let _=Ri.get();_.set(f,g),this.h?this.h.next=_:this.g=_,this.h=_}}var Ri=new $(()=>new zc,c=>c.reset());class zc{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Pi,Yr=!1,Mi=new qn,gn=()=>{let c=a.Promise.resolve(void 0);Pi=()=>{c.then(Ni)}};var Ni=()=>{for(var c;c=S();){try{c.h.call(c.g)}catch(g){N(g)}var f=Ri;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}Yr=!1};function zt(){this.s=this.s,this.C=this.C}zt.prototype.s=!1,zt.prototype.ma=function(){this.s||(this.s=!0,this.N())},zt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Rt(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var Oi=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return c}();function Gn(c,f){if(Rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,_=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(Ne){e:{try{re(f.nodeName);var O=!0;break e}catch{}O=!1}O||(f=null)}}else g=="mouseover"?f=c.fromElement:g=="mouseout"&&(f=c.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:od[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Gn.aa.h.call(this)}}A(Gn,Rt);var od={2:"touch",3:"pen",4:"mouse"};Gn.prototype.h=function(){Gn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var mr="closure_listenable_"+(1e6*Math.random()|0),qc=0;function ag(c,f,g,_,O){this.listener=c,this.proxy=null,this.src=f,this.type=g,this.capture=!!_,this.ha=O,this.key=++qc,this.da=this.fa=!1}function ki(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Fi(c){this.src=c,this.g={},this.h=0}Fi.prototype.add=function(c,f,g,_,O){var V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);var z=Gc(c,f,_,O);return-1<z?(f=c[z],g||(f.fa=!1)):(f=new ag(f,this.src,V,!!_,O),f.fa=g,c.push(f)),f};function Li(c,f){var g=f.type;if(g in c.g){var _=c.g[g],O=Array.prototype.indexOf.call(_,f,void 0),V;(V=0<=O)&&Array.prototype.splice.call(_,O,1),V&&(ki(f),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Gc(c,f,g,_){for(var O=0;O<c.length;++O){var V=c[O];if(!V.da&&V.listener==f&&V.capture==!!g&&V.ha==_)return O}return-1}var Vt="closure_lm_"+(1e6*Math.random()|0),vn={};function sd(c,f,g,_,O){if(_&&_.once)return Wc(c,f,g,_,O);if(Array.isArray(f)){for(var V=0;V<f.length;V++)sd(c,f[V],g,_,O);return null}return g=gt(g),c&&c[mr]?c.K(f,g,d(_)?!!_.capture:!!_,O):qt(c,f,g,!1,_,O)}function qt(c,f,g,_,O,V){if(!f)throw Error("Invalid event type");var z=d(O)?!!O.capture:!!O,$e=Wn(c);if($e||(c[Vt]=$e=new Fi(c)),g=$e.add(f,g,_,z,V),g.proxy)return g;if(_=Gs(),g.proxy=_,_.src=c,_.listener=g,c.addEventListener)Oi||(O=z),O===void 0&&(O=!1),c.addEventListener(f.toString(),_,O);else if(c.attachEvent)c.attachEvent(yn(f.toString()),_);else if(c.addListener&&c.removeListener)c.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Gs(){function c(g){return f.call(c.src,c.listener,g)}let f=gr;return c}function Wc(c,f,g,_,O){if(Array.isArray(f)){for(var V=0;V<f.length;V++)Wc(c,f[V],g,_,O);return null}return g=gt(g),c&&c[mr]?c.L(f,g,d(_)?!!_.capture:!!_,O):qt(c,f,g,!0,_,O)}function Kc(c,f,g,_,O){if(Array.isArray(f))for(var V=0;V<f.length;V++)Kc(c,f[V],g,_,O);else _=d(_)?!!_.capture:!!_,g=gt(g),c&&c[mr]?(c=c.i,f=String(f).toString(),f in c.g&&(V=c.g[f],g=Gc(V,g,_,O),-1<g&&(ki(V[g]),Array.prototype.splice.call(V,g,1),V.length==0&&(delete c.g[f],c.h--)))):c&&(c=Wn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=Gc(f,g,_,O)),(g=-1<c?f[c]:null)&&De(g))}function De(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[mr])Li(f.i,c);else{var g=c.type,_=c.proxy;f.removeEventListener?f.removeEventListener(g,_,c.capture):f.detachEvent?f.detachEvent(yn(g),_):f.addListener&&f.removeListener&&f.removeListener(_),(g=Wn(f))?(Li(g,c),g.h==0&&(g.src=null,f[Vt]=null)):ki(c)}}}function yn(c){return c in vn?vn[c]:vn[c]="on"+c}function gr(c,f){if(c.da)c=!0;else{f=new Gn(f,this);var g=c.listener,_=c.ha||c.src;c.fa&&De(c),c=g.call(_,f)}return c}function Wn(c){return c=c[Vt],c instanceof Fi?c:null}var ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function gt(c){return typeof c=="function"?c:(c[ct]||(c[ct]=function(f){return c.handleEvent(f)}),c[ct])}function vt(){zt.call(this),this.i=new Fi(this),this.M=this,this.F=null}A(vt,zt),vt.prototype[mr]=!0,vt.prototype.removeEventListener=function(c,f,g,_){Kc(this,c,f,g,_)};function Pt(c,f){var g,_=c.F;if(_)for(g=[];_;_=_.F)g.push(_);if(c=c.M,_=f.type||f,typeof f=="string")f=new Rt(f,c);else if(f instanceof Rt)f.target=f.target||c;else{var O=f;f=new Rt(_,c),R(f,O)}if(O=!0,g)for(var V=g.length-1;0<=V;V--){var z=f.g=g[V];O=vr(z,_,!0,f)&&O}if(z=f.g=c,O=vr(z,_,!0,f)&&O,O=vr(z,_,!1,f)&&O,g)for(V=0;V<g.length;V++)z=f.g=g[V],O=vr(z,_,!1,f)&&O}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var g=c.g[f],_=0;_<g.length;_++)ki(g[_]);delete c.g[f],c.h--}}this.F=null},vt.prototype.K=function(c,f,g,_){return this.i.add(String(c),f,!1,g,_)},vt.prototype.L=function(c,f,g,_){return this.i.add(String(c),f,!0,g,_)};function vr(c,f,g,_){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var O=!0,V=0;V<f.length;++V){var z=f[V];if(z&&!z.da&&z.capture==g){var $e=z.listener,Tt=z.ha||z.src;z.fa&&Li(c.i,z),O=$e.call(Tt,_)!==!1&&O}}return O&&!_.defaultPrevented}function Ut(c,f,g){if(typeof c=="function")g&&(c=y(c,g));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function ad(c){c.g=Ut(()=>{c.g=null,c.i&&(c.i=!1,ad(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class cd extends zt{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ad(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(c){zt.call(this),this.h=c,this.g={}}A(Vi,zt);var Ws=[];function ld(c){ae(c.g,function(f,g){this.g.hasOwnProperty(g)&&De(f)},c),c.g={}}Vi.prototype.N=function(){Vi.aa.N.call(this),ld(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qc=a.JSON.stringify,cg=a.JSON.parse,lg=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Kn(){}Kn.prototype.h=null;function ud(c){return c.h||(c.h=c.i())}function dd(){}var Mo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yc(){Rt.call(this,"d")}A(Yc,Rt);function Zc(){Rt.call(this,"c")}A(Zc,Rt);var Qn={},hd=null;function Ks(){return hd=hd||new vt}Qn.La="serverreachability";function fd(c){Rt.call(this,Qn.La,c)}A(fd,Rt);function No(c){let f=Ks();Pt(f,new fd(f))}Qn.STAT_EVENT="statevent";function pd(c,f){Rt.call(this,Qn.STAT_EVENT,c),this.stat=f}A(pd,Rt);function Dt(c){let f=Ks();Pt(f,new pd(f,c))}Qn.Ma="timingevent";function md(c,f){Rt.call(this,Qn.Ma,c),this.size=f}A(md,Rt);function Oo(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function ko(){this.g=!0}ko.prototype.xa=function(){this.g=!1};function ug(c,f,g,_,O,V){c.info(function(){if(c.g)if(V)for(var z="",$e=V.split("&"),Tt=0;Tt<$e.length;Tt++){var Re=$e[Tt].split("=");if(1<Re.length){var Mt=Re[0];Re=Re[1];var St=Mt.split("_");z=2<=St.length&&St[1]=="type"?z+(Mt+"="+Re+"&"):z+(Mt+"=redacted&")}}else z=null;else z=V;return"XMLHTTP REQ ("+_+") [attempt "+O+"]: "+f+`
`+g+`
`+z})}function dg(c,f,g,_,O,V,z){c.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+O+"]: "+f+`
`+g+`
`+V+" "+z})}function Le(c,f,g,_){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+fg(c,g)+(_?" "+_:"")})}function hg(c,f){c.info(function(){return"TIMEOUT: "+f})}ko.prototype.info=function(){};function fg(c,f){if(!c.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var _=g[c];if(!(2>_.length)){var O=_[1];if(Array.isArray(O)&&!(1>O.length)){var V=O[0];if(V!="noop"&&V!="stop"&&V!="close")for(var z=1;z<O.length;z++)O[z]=""}}}}return Qc(g)}catch{return f}}var Qs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jc;function Ys(){}A(Ys,Kn),Ys.prototype.g=function(){return new XMLHttpRequest},Ys.prototype.i=function(){return{}},Jc=new Ys;function An(c,f,g,_){this.j=c,this.i=f,this.l=g,this.R=_||1,this.U=new Vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ui}function Ui(){this.i=null,this.g="",this.h=!1}var Xc={},ji={};function Xe(c,f,g){c.L=1,c.v=Js(xn(f)),c.m=g,c.P=!0,vd(c,null)}function vd(c,f){c.F=Date.now(),Fo(c),c.A=xn(c.v);var g=c.A,_=c.R;Array.isArray(_)||(_=[String(_)]),Nd(g.i,"t",_),c.C=0,g=c.j.J,c.h=new Ui,c.g=pl(c.j,g?f:null,!c.m),0<c.O&&(c.M=new cd(y(c.Y,c,c.g),c.O)),f=c.U,g=c.g,_=c.ca;var O="readystatechange";Array.isArray(O)||(O&&(Ws[0]=O.toString()),O=Ws);for(var V=0;V<O.length;V++){var z=sd(g,O[V],_||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),No(),ug(c.i,c.u,c.A,c.l,c.R,c.m)}An.prototype.ca=function(c){c=c.target;let f=this.M;f&&Zn(c)==3?f.j():this.Y(c)},An.prototype.Y=function(c){try{if(c==this.g)e:{let St=Zn(this.g);var f=this.g.Ba();let br=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||jd(this.g)))){this.J||St!=4||f==7||(f==8||0>=br?No(3):No(2)),el(this);var g=this.g.Z();this.X=g;t:if(yd(this)){var _=jd(this.g);c="";var O=_.length,V=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yr(this),Lo(this);var z="";break t}this.h.i=new a.TextDecoder}for(f=0;f<O;f++)this.h.h=!0,c+=this.h.i.decode(_[f],{stream:!(V&&f==O-1)});_.length=0,this.h.g+=c,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=g==200,dg(this.i,this.u,this.A,this.l,this.R,St,g),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Tt=this.g;if(($e=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J($e)){var Re=$e;break t}}Re=null}if(g=Re)Le(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tl(this,g);else{this.o=!1,this.s=3,Dt(12),yr(this),Lo(this);break e}}if(this.P){g=!0;let _n;for(;!this.J&&this.C<z.length;)if(_n=pg(this,z),_n==ji){St==4&&(this.s=4,Dt(14),g=!1),Le(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Xc){this.s=4,Dt(15),Le(this.i,this.l,z,"[Invalid Chunk]"),g=!1;break}else Le(this.i,this.l,_n,null),tl(this,_n);if(yd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||z.length!=0||this.h.h||(this.s=1,Dt(16),g=!1),this.o=this.o&&g,!g)Le(this.i,this.l,z,"[Invalid Chunked Response]"),yr(this),Lo(this);else if(0<z.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Gi(Mt),Mt.M=!0,Dt(11))}}else Le(this.i,this.l,z,null),tl(this,z);St==4&&yr(this),this.o&&!this.J&&(St==4?ul(this.j,this):(this.o=!1,Fo(this)))}else Ig(this.g),g==400&&0<z.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),yr(this),Lo(this)}}}catch{}finally{}};function yd(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function pg(c,f){var g=c.C,_=f.indexOf(`
`,g);return _==-1?ji:(g=Number(f.substring(g,_)),isNaN(g)?Xc:(_+=1,_+g>f.length?ji:(f=f.slice(_,_+g),c.C=_+g,f)))}An.prototype.cancel=function(){this.J=!0,yr(this)};function Fo(c){c.S=Date.now()+c.I,_d(c,c.I)}function _d(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Oo(y(c.ba,c),f)}function el(c){c.B&&(a.clearTimeout(c.B),c.B=null)}An.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(hg(this.i,this.A),this.L!=2&&(No(),Dt(17)),yr(this),this.s=2,Lo(this)):_d(this,this.S-c)};function Lo(c){c.j.G==0||c.J||ul(c.j,c)}function yr(c){el(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,ld(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function tl(c,f){try{var g=c.j;if(g.G!=0&&(g.g==c||nl(g.h,c))){if(!c.K&&nl(g.h,c)&&g.G==3){try{var _=g.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var O=_;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)qo(g),na(g);else break e;zo(g),Dt(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=Oo(y(g.Za,g),6e3));if(1>=Id(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Er(g,11)}else if((c.K||g.g==c)&&qo(g),!J(f))for(O=g.Da.g.parse(f),f=0;f<O.length;f++){let Re=O[f];if(g.T=Re[0],Re=Re[1],g.G==2)if(Re[0]=="c"){g.K=Re[1],g.ia=Re[2];let Mt=Re[3];Mt!=null&&(g.la=Mt,g.j.info("VER="+g.la));let St=Re[4];St!=null&&(g.Aa=St,g.j.info("SVER="+g.Aa));let br=Re[5];br!=null&&typeof br=="number"&&0<br&&(_=1.5*br,g.L=_,g.j.info("backChannelRequestTimeoutMs_="+_)),_=g;let _n=c.g;if(_n){let ia=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var V=_.h;V.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(rl(V,V.h),V.h=null))}if(_.D){let gl=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(_.ya=gl,Qe(_.I,_.D,gl))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),_=g;var z=c;if(_.qa=fl(_,_.J?_.ia:null,_.W),z.K){Cd(_.h,z);var $e=z,Tt=_.L;Tt&&($e.I=Tt),$e.B&&(el($e),Fo($e)),_.g=z}else ll(_);0<g.i.length&&ra(g)}else Re[0]!="stop"&&Re[0]!="close"||Er(g,7);else g.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Er(g,7):ta(g):Re[0]!="noop"&&g.l&&g.l.ta(Re),g.v=0)}}No(4)}catch{}}var wd=class{constructor(c,f){this.g=c,this.map=f}};function Ed(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bd(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Id(c){return c.h?1:c.g?c.g.size:0}function nl(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function rl(c,f){c.g?c.g.add(f):c.h=f}function Cd(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Ed.prototype.cancel=function(){if(this.i=Dd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Dd(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let g of c.g.values())f=f.concat(g.D);return f}return j(c.i)}function Td(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var f=[],g=c.length,_=0;_<g;_++)f.push(c[_]);return f}f=[],g=0;for(_ in c)f[g++]=c[_];return f}function mg(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var f=[];c=c.length;for(var g=0;g<c;g++)f.push(g);return f}f=[],g=0;for(let _ in c)f[g++]=_;return f}}}function il(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var g=mg(c),_=Td(c),O=_.length,V=0;V<O;V++)f.call(void 0,_[V],g&&g[V],c)}var Sd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gg(c,f){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var _=c[g].indexOf("="),O=null;if(0<=_){var V=c[g].substring(0,_);O=c[g].substring(_+1)}else V=c[g];f(V,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function an(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof an){this.h=c.h,Zs(this,c.j),this.o=c.o,this.g=c.g,Bi(this,c.s),this.l=c.l;var f=c.i,g=new jo;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),ol(this,g),this.m=c.m}else c&&(f=String(c).match(Sd))?(this.h=!1,Zs(this,f[1]||"",!0),this.o=Vo(f[2]||""),this.g=Vo(f[3]||"",!0),Bi(this,f[4]),this.l=Vo(f[5]||"",!0),ol(this,f[6]||"",!0),this.m=Vo(f[7]||"")):(this.h=!1,this.i=new jo(null,this.h))}an.prototype.toString=function(){var c=[],f=this.j;f&&c.push(Uo(f,Ad,!0),":");var g=this.g;return(g||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Uo(f,Ad,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Uo(g,g.charAt(0)=="/"?yg:$i,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Uo(g,Rd)),c.join("")};function xn(c){return new an(c)}function Zs(c,f,g){c.j=g?Vo(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Bi(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function ol(c,f,g){f instanceof jo?(c.i=f,_g(c.i,c.h)):(g||(f=Uo(f,xd)),c.i=new jo(f,c.h))}function Qe(c,f,g){c.i.set(f,g)}function Js(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vo(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Uo(c,f,g){return typeof c=="string"?(c=encodeURI(c).replace(f,vg),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vg(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ad=/[#\/\?@]/g,$i=/[#\?:]/g,yg=/[#\?]/g,xd=/[#\?@]/g,Rd=/#/g;function jo(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function _r(c){c.g||(c.g=new Map,c.h=0,c.i&&gg(c.i,function(f,g){c.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=jo.prototype,t.add=function(c,f){_r(this),this.i=null,c=Hi(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(f),this.h+=1,this};function Pd(c,f){_r(c),f=Hi(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Md(c,f){return _r(c),f=Hi(c,f),c.g.has(f)}t.forEach=function(c,f){_r(this),this.g.forEach(function(g,_){g.forEach(function(O){c.call(f,O,_,this)},this)},this)},t.na=function(){_r(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let _=0;_<f.length;_++){let O=c[_];for(let V=0;V<O.length;V++)g.push(f[_])}return g},t.V=function(c){_r(this);let f=[];if(typeof c=="string")Md(this,c)&&(f=f.concat(this.g.get(Hi(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)f=f.concat(c[g])}return f},t.set=function(c,f){return _r(this),this.i=null,c=Hi(this,c),Md(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function Nd(c,f,g){Pd(c,f),0<g.length&&(c.i=null,c.g.set(Hi(c,f),j(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var _=f[g];let V=encodeURIComponent(String(_)),z=this.V(_);for(_=0;_<z.length;_++){var O=V;z[_]!==""&&(O+="="+encodeURIComponent(String(z[_]))),c.push(O)}}return this.i=c.join("&")};function Hi(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function _g(c,f){f&&!c.j&&(_r(c),c.i=null,c.g.forEach(function(g,_){var O=_.toLowerCase();_!=O&&(Pd(this,_),Nd(this,O,g))},c)),c.j=f}function zi(c,f){let g=new ko;if(a.Image){let _=new Image;_.onload=b(wr,g,"TestLoadImage: loaded",!0,f,_),_.onerror=b(wr,g,"TestLoadImage: error",!1,f,_),_.onabort=b(wr,g,"TestLoadImage: abort",!1,f,_),_.ontimeout=b(wr,g,"TestLoadImage: timeout",!1,f,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=c}else f(!1)}function wg(c,f){let g=new ko,_=new AbortController,O=setTimeout(()=>{_.abort(),wr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:_.signal}).then(V=>{clearTimeout(O),V.ok?wr(g,"TestPingServer: ok",!0,f):wr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),wr(g,"TestPingServer: error",!1,f)})}function wr(c,f,g,_,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),_(g)}catch{}}function Od(){this.g=new lg}function Eg(c,f,g){let _=g||"";try{il(c,function(O,V){let z=O;d(O)&&(z=Qc(O)),f.push(_+V+"="+encodeURIComponent(z))})}catch(O){throw f.push(_+"type="+encodeURIComponent("_badmap")),O}}function cn(c){this.l=c.Ub||null,this.j=c.eb||!1}A(cn,Kn),cn.prototype.g=function(){return new Xs(this.l,this.j)},cn.prototype.i=function(c){return function(){return c}}({});function Xs(c,f){vt.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Xs,vt),t=Xs.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Bo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Bo(this)),this.g&&(this.readyState=3,Bo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Yn(this):Bo(this),this.readyState==3&&sl(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Yn(this))},t.Qa=function(c){this.g&&(this.response=c,Yn(this))},t.ga=function(){this.g&&Yn(this)};function Yn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Bo(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=f.next();return c.join(`\r
`)};function Bo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kd(c){let f="";return ae(c,function(g,_){f+=_,f+=":",f+=g,f+=`\r
`}),f}function al(c,f,g){e:{for(_ in g){var _=!1;break e}_=!0}_||(g=kd(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Qe(c,f,g))}function et(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(et,vt);var qi=/^https?$/i,bg=["POST","PUT"];t=et.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,g,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jc.g(),this.v=this.o?ud(this.o):ud(Jc),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(V){Fd(this,V);return}if(c=g||"",g=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var O in _)g.set(O,_[O]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let V of _.keys())g.set(V,_.get(V));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),O=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(bg,f,void 0))||_||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[V,z]of g)this.g.setRequestHeader(V,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ud(this),this.u=!0,this.g.send(c),this.u=!1}catch(V){Fd(this,V)}};function Fd(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,Ld(c),ea(c)}function Ld(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Pt(this,"complete"),Pt(this,"abort"),ea(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ea(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Vd(this):this.bb())},t.bb=function(){Vd(this)};function Vd(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Zn(c)!=4||c.Z()!=2)){if(c.u&&Zn(c)==4)Ut(c.Ea,0,c);else if(Pt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{let z=c.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var _;if(_=z===0){var O=String(c.D).match(Sd)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),_=!qi.test(O?O.toLowerCase():"")}g=_}if(g)Pt(c,"complete"),Pt(c,"success");else{c.m=6;try{var V=2<Zn(c)?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.Z()+"]",Ld(c)}}finally{ea(c)}}}}function ea(c,f){if(c.g){Ud(c);let g=c.g,_=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||Pt(c,"ready");try{g.onreadystatechange=_}catch{}}}function Ud(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),cg(f)}};function jd(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ig(c){let f={};c=(c.g&&2<=Zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<c.length;_++){if(J(c[_]))continue;var g=M(c[_]);let O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let V=f[O]||[];f[O]=V,V.push(g)}x(f,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $o(c,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||f}function Ho(c){this.Aa=0,this.i=[],this.j=new ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$o("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$o("baseRetryDelayMs",5e3,c),this.cb=$o("retryDelaySeedMs",1e4,c),this.Wa=$o("forwardChannelMaxRetries",2,c),this.wa=$o("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ed(c&&c.concurrentRequestLimit),this.Da=new Od,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ho.prototype,t.la=8,t.G=1,t.connect=function(c,f,g,_){Dt(0),this.W=c,this.H=f||{},g&&_!==void 0&&(this.H.OSID=g,this.H.OAID=_),this.F=this.X,this.I=fl(this,null,this.W),ra(this)};function ta(c){if(Bd(c),c.G==3){var f=c.U++,g=xn(c.I);if(Qe(g,"SID",c.K),Qe(g,"RID",f),Qe(g,"TYPE","terminate"),Zr(c,g),f=new An(c,c.j,f),f.L=2,f.v=Js(xn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=pl(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Fo(f)}hl(c)}function na(c){c.g&&(Gi(c),c.g.cancel(),c.g=null)}function Bd(c){na(c),c.u&&(a.clearTimeout(c.u),c.u=null),qo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ra(c){if(!bd(c.h)&&!c.s){c.s=!0;var f=c.Ga;Pi||gn(),Yr||(Pi(),Yr=!0),Mi.add(f,c),c.B=0}}function $d(c,f){return Id(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Oo(y(c.Ga,c,f),dl(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let O=new An(this,this.j,c),V=this.o;if(this.S&&(V?(V=C(V),R(V,this.S)):V=this.S),this.m!==null||this.O||(O.H=V,V=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var _=this.i[g];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=cl(this,O,f),g=xn(this.I),Qe(g,"RID",c),Qe(g,"CVER",22),this.D&&Qe(g,"X-HTTP-Session-Id",this.D),Zr(this,g),V&&(this.O?f="headers="+encodeURIComponent(String(kd(V)))+"&"+f:this.m&&al(g,this.m,V)),rl(this.h,O),this.Ua&&Qe(g,"TYPE","init"),this.P?(Qe(g,"$req",f),Qe(g,"SID","null"),O.T=!0,Xe(O,g,null)):Xe(O,g,f),this.G=2}}else this.G==3&&(c?Hd(this,c):this.i.length==0||bd(this.h)||Hd(this))};function Hd(c,f){var g;f?g=f.l:g=c.U++;let _=xn(c.I);Qe(_,"SID",c.K),Qe(_,"RID",g),Qe(_,"AID",c.T),Zr(c,_),c.m&&c.o&&al(_,c.m,c.o),g=new An(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),f&&(c.i=f.D.concat(c.i)),f=cl(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),rl(c.h,g),Xe(g,_,f)}function Zr(c,f){c.H&&ae(c.H,function(g,_){Qe(f,_,g)}),c.l&&il({},function(g,_){Qe(f,_,g)})}function cl(c,f,g){g=Math.min(c.i.length,g);var _=c.l?y(c.l.Na,c.l,c):null;e:{var O=c.i;let V=-1;for(;;){let z=["count="+g];V==-1?0<g?(V=O[0].g,z.push("ofs="+V)):V=0:z.push("ofs="+V);let $e=!0;for(let Tt=0;Tt<g;Tt++){let Re=O[Tt].g,Mt=O[Tt].map;if(Re-=V,0>Re)V=Math.max(0,O[Tt].g-100),$e=!1;else try{Eg(Mt,z,"req"+Re+"_")}catch{_&&_(Mt)}}if($e){_=z.join("&");break e}}}return c=c.i.splice(0,g),f.D=c,_}function ll(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;Pi||gn(),Yr||(Pi(),Yr=!0),Mi.add(f,c),c.v=0}}function zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Oo(y(c.Fa,c),dl(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,zd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Oo(y(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),na(this),zd(this))};function Gi(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function zd(c){c.g=new An(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=xn(c.qa);Qe(f,"RID","rpc"),Qe(f,"SID",c.K),Qe(f,"AID",c.T),Qe(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(f,"TO",c.ja),Qe(f,"TYPE","xmlhttp"),Zr(c,f),c.m&&c.o&&al(f,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=Js(xn(f)),g.m=null,g.P=!0,vd(g,c)}t.Za=function(){this.C!=null&&(this.C=null,na(this),zo(this),Dt(19))};function qo(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function ul(c,f){var g=null;if(c.g==f){qo(c),Gi(c),c.g=null;var _=2}else if(nl(c.h,f))g=f.D,Cd(c.h,f),_=1;else return;if(c.G!=0){if(f.o)if(_==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var O=c.B;_=Ks(),Pt(_,new md(_,g)),ra(c)}else ll(c);else if(O=f.s,O==3||O==0&&0<f.X||!(_==1&&$d(c,f)||_==2&&zo(c)))switch(g&&0<g.length&&(f=c.h,f.i=f.i.concat(g)),O){case 1:Er(c,5);break;case 4:Er(c,10);break;case 3:Er(c,6);break;default:Er(c,2)}}}function dl(c,f){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*f}function Er(c,f){if(c.j.info("Error code "+f),f==2){var g=y(c.fb,c),_=c.Xa;let O=!_;_=new an(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zs(_,"https"),Js(_),O?zi(_.toString(),g):wg(_.toString(),g)}else Dt(2);c.G=0,c.l&&c.l.sa(f),hl(c),Bd(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function hl(c){if(c.G=0,c.ka=[],c.l){let f=Dd(c.h);(f.length!=0||c.i.length!=0)&&(L(c.ka,f),L(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function fl(c,f,g){var _=g instanceof an?xn(g):new an(g);if(_.g!="")f&&(_.g=f+"."+_.g),Bi(_,_.s);else{var O=a.location;_=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;var V=new an(null);_&&Zs(V,_),f&&(V.g=f),O&&Bi(V,O),g&&(V.l=g),_=V}return g=c.D,f=c.ya,g&&f&&Qe(_,g,f),Qe(_,"VER",c.la),Zr(c,_),_}function pl(c,f,g){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new et(new cn({eb:g})):new et(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ml(){}t=ml.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Go(){}Go.prototype.g=function(c,f){return new yt(c,f)};function yt(c,f){vt.call(this),this.g=new Ho(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!J(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!J(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Wi(this)}A(yt,vt),yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yt.prototype.close=function(){ta(this.g)},yt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=Qc(c),c=g);f.i.push(new wd(f.Ya++,c)),f.G==3&&ra(f)},yt.prototype.N=function(){this.g.l=null,delete this.j,ta(this.g),delete this.g,yt.aa.N.call(this)};function qd(c){Yc.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let g in f){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}A(qd,Yc);function Gd(){Zc.call(this),this.status=1}A(Gd,Zc);function Wi(c){this.g=c}A(Wi,ml),Wi.prototype.ua=function(){Pt(this.g,"a")},Wi.prototype.ta=function(c){Pt(this.g,new qd(c))},Wi.prototype.sa=function(c){Pt(this.g,new Gd)},Wi.prototype.ra=function(){Pt(this.g,"b")},Go.prototype.createWebChannel=Go.prototype.g,yt.prototype.send=yt.prototype.o,yt.prototype.open=yt.prototype.m,yt.prototype.close=yt.prototype.close,l0=Ii.createWebChannelTransport=function(){return new Go},c0=Ii.getStatEventTarget=function(){return Ks()},a0=Ii.Event=Qn,jp=Ii.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qs.NO_ERROR=0,Qs.TIMEOUT=8,Qs.HTTP_ERROR=6,bu=Ii.ErrorCode=Qs,gd.COMPLETE="complete",s0=Ii.EventType=gd,dd.EventType=Mo,Mo.OPEN="a",Mo.CLOSE="b",Mo.ERROR="c",Mo.MESSAGE="d",vt.prototype.listen=vt.prototype.K,lc=Ii.WebChannel=dd,FH=Ii.FetchXmlHttpFactory=cn,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,o0=Ii.XhrIo=et}).apply(typeof Up<"u"?Up:typeof self<"u"?self:typeof window<"u"?window:{});var xx="@firebase/firestore";var kt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");var xc="10.14.0";var Ms=new fo("@firebase/firestore");function Iu(){return Ms.logLevel}function ne(t,...e){if(Ms.logLevel<=Ae.DEBUG){let n=e.map(qE);Ms.debug(`Firestore (${xc}): ${t}`,...n)}}function Di(t,...e){if(Ms.logLevel<=Ae.ERROR){let n=e.map(qE);Ms.error(`Firestore (${xc}): ${t}`,...n)}}function gc(t,...e){if(Ms.logLevel<=Ae.WARN){let n=e.map(qE);Ms.warn(`Firestore (${xc}): ${t}`,...n)}}function qE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function he(t="Unexpected state"){let e=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: `+t;throw Di(e),new Error(e)}function Ge(t,e){t||he()}function me(t,e){return t}var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Z=class extends sn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var dr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var qp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},p0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}},m0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},g0=class{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),o=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new dr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>D(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new dr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new qp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new kt(e)}},v0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},y0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new v0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},w0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ge(this.o===void 0);let r=o=>{o.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,ne("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new _0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function LH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Gp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=LH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Be(t,e){return t<e?-1:t>e?1:0}function vc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ht=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ye=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ht(0,0))}static max(){return new t(new Ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Wp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},at=class t extends Wp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Z(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},VH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tn=class t extends Wp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return VH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Z(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ue=class t{constructor(e){this.path=e}static fromPath(e){return new t(at.fromString(e))}static fromName(e){return new t(at.fromString(e).popFirst(5))}static empty(){return new t(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new at(e.slice()))}};var E0=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};E0.UNKNOWN_ID=-1;function UH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Ht(n+1,0):new Ht(n,r));return new Ns(i,ue.empty(),e)}function jH(t){return new Ns(t.readTime,t.key,-1)}var Ns=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ye.min(),ue.empty(),-1)}static max(){return new t(ye.max(),ue.empty(),-1)}};function BH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}var $H="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",b0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function zu(t){return D(this,null,function*(){if(t.code!==B.FAILED_PRECONDITION||t.message!==$H)throw t;ne("LocalStore","Unexpectedly lost primary lease")})}var H=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let d=l;n(e[d]).next(p=>{s[d]=p,++a,a===o&&r(s)},p=>i(p))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function HH(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qu(t){return t.name==="IndexedDbTransactionError"}var uR=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Cm(t){return t==null}function xu(t){return t===0&&1/t==-1/0}function zH(t){return typeof t=="number"&&Number.isInteger(t)&&!xu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var qH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xJ=[...qH,"documentOverlays"],GH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],WH=GH,KH=[...WH,"indexConfiguration","indexState","indexEntries"];var RJ=[...KH,"globals"];function Rx(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function js(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ht=class t{constructor(e,n){this.comparator=e,this.root=n||Hr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fc(this.root,e,this.comparator,!0)}},fc=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Hr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();let e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}};Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1;Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Hr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Zt=class t{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kp(this.data.getIterator())}getIteratorFrom(e){return new Kp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Kp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Bn=class t{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Zt(Tn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vc(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Qp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Xt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Qp("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Xt.EMPTY_BYTE_STRING=new Xt("");var QH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ti(t){if(Ge(!!t),typeof t=="string"){let e=0,n=QH.exec(t);if(Ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bo(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}function GE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function WE(t){let e=t.mapValue.fields.__previous_value__;return GE(e)?WE(e):e}function Ru(t){let e=Ti(t.mapValue.fields.__local_write_time__.timestampValue);return new Ht(e.seconds,e.nanos)}var I0=class{constructor(e,n,r,i,o,s,a,l,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d}},Yp=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Bp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?GE(t)?4:fR(t)?9007199254740991:hR(t)?10:11:he()}function Gr(t,e){if(t===e)return!0;let n=Os(t);if(n!==Os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ru(t).isEqual(Ru(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ti(i.timestampValue),a=Ti(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return bo(i.bytesValue).isEqual(bo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return it(i.geoPointValue.latitude)===it(o.geoPointValue.latitude)&&it(i.geoPointValue.longitude)===it(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return it(i.integerValue)===it(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=it(i.doubleValue),a=it(o.doubleValue);return s===a?xu(s)===xu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return vc(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Rx(s)!==Rx(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Gr(s[l],a[l])))return!1;return!0}(t,e);default:return he()}}function Pu(t,e){return(t.values||[]).find(n=>Gr(n,e))!==void 0}function yc(t,e){if(t===e)return 0;let n=Os(t),r=Os(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=it(o.integerValue||o.doubleValue),l=it(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Px(t.timestampValue,e.timestampValue);case 4:return Px(Ru(t),Ru(e));case 5:return Be(t.stringValue,e.stringValue);case 6:return function(o,s){let a=bo(o),l=bo(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let d=0;d<a.length&&d<l.length;d++){let p=Be(a[d],l[d]);if(p!==0)return p}return Be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Be(it(o.latitude),it(s.latitude));return a!==0?a:Be(it(o.longitude),it(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Mx(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,d,p;let m=o.fields||{},y=s.fields||{},b=(a=m.value)===null||a===void 0?void 0:a.arrayValue,A=(l=y.value)===null||l===void 0?void 0:l.arrayValue,j=Be(((d=b?.values)===null||d===void 0?void 0:d.length)||0,((p=A?.values)===null||p===void 0?void 0:p.length)||0);return j!==0?j:Mx(b,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Bp.mapValue&&s===Bp.mapValue)return 0;if(o===Bp.mapValue)return 1;if(s===Bp.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),d=s.fields||{},p=Object.keys(d);l.sort(),p.sort();for(let m=0;m<l.length&&m<p.length;++m){let y=Be(l[m],p[m]);if(y!==0)return y;let b=yc(a[l[m]],d[p[m]]);if(b!==0)return b}return Be(l.length,p.length)}(t.mapValue,e.mapValue);default:throw he()}}function Px(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);let n=Ti(t),r=Ti(e),i=Be(n.seconds,r.seconds);return i!==0?i:Be(n.nanos,r.nanos)}function Mx(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=yc(n[i],r[i]);if(o)return o}return Be(n.length,r.length)}function _c(t){return C0(t)}function C0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Ti(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return bo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=C0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${C0(n.fields[s])}`;return i+"}"}(t.mapValue):he()}function Nx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function D0(t){return!!t&&"integerValue"in t}function KE(t){return!!t&&"arrayValue"in t}function Ox(t){return!!t&&"nullValue"in t}function kx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hp(t){return!!t&&"mapValue"in t}function hR(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Du(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Du(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Du(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Dn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Du(n)}setAll(e){let n=Tn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Du(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Hp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){js(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Du(this.value))}};function pR(t){let e=[];return js(t.fields,(n,r)=>{let i=new Tn([n]);if(Hp(r)){let o=pR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Bn(e)}var hr=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ye.min(),ye.min(),ye.min(),Dn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ye.min(),ye.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ye.min(),ye.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var wc=class{constructor(e,n){this.position=e,this.inclusive=n}};function Fx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ue.comparator(ue.fromName(s.referenceValue),n.key):r=yc(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}var Ec=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function YH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Zp=class{},Ct=class t extends Zp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new S0(e,n,r):n==="array-contains"?new R0(e,r):n==="in"?new P0(e,r):n==="not-in"?new M0(e,r):n==="array-contains-any"?new N0(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new A0(e,r):new x0(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yc(n,this.value)):n!==null&&Os(this.value)===Os(n)&&this.matchesComparison(yc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},fr=class t extends Zp{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return mR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function mR(t){return t.op==="and"}function gR(t){return ZH(t)&&mR(t)}function ZH(t){for(let e of t.filters)if(e instanceof fr)return!1;return!0}function T0(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+_c(t.value);if(gR(t))return t.filters.map(e=>T0(e)).join(",");{let e=t.filters.map(n=>T0(n)).join(",");return`${t.op}(${e})`}}function vR(t,e){return t instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&Gr(r.value,i.value)}(t,e):t instanceof fr?function(r,i){return i instanceof fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&vR(s,i.filters[a]),!0):!1}(t,e):void he()}function yR(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${_c(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(yR).join(" ,")+"}"}(t):"Filter"}var S0=class extends Ct{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){let n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}},A0=class extends Ct{constructor(e,n){super(e,"in",n),this.keys=_R("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},x0=class extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=_R("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function _R(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}var R0=class extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return KE(n)&&Pu(n.arrayValue,this.value)}},P0=class extends Ct{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Pu(this.value.arrayValue,n)}},M0=class extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Pu(this.value.arrayValue,n)}},N0=class extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!KE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pu(this.value.arrayValue,r))}};var O0=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function Vx(t,e=null,n=[],r=[],i=null,o=null,s=null){return new O0(t,e,n,r,i,o,s)}function QE(t){let e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>T0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Cm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_c(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_c(r)).join(",")),e.ue=n}return e.ue}function YE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lx(t.startAt,e.startAt)&&Lx(t.endAt,e.endAt)}function k0(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ks=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function JH(t,e,n,r,i,o,s,a){return new ks(t,e,n,r,i,o,s,a)}function Dm(t){return new ks(t)}function Ux(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wR(t){return t.collectionGroup!==null}function Tu(t){let e=me(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Zt(Tn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ec(o,r))}),n.has(Tn.keyField().canonicalString())||e.ce.push(new Ec(Tn.keyField(),r))}return e.ce}function zr(t){let e=me(t);return e.le||(e.le=XH(e,Tu(t))),e.le}function XH(t,e){if(t.limitType==="F")return Vx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ec(i.field,o)});let n=t.endAt?new wc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wc(t.startAt.position,t.startAt.inclusive):null;return Vx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function F0(t,e){let n=t.filters.concat([e]);return new ks(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function L0(t,e,n){return new ks(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tm(t,e){return YE(zr(t),zr(e))&&t.limitType===e.limitType}function ER(t){return`${QE(zr(t))}|lt:${t.limitType}`}function uc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yR(i)).join(", ")}]`),Cm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_c(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_c(i)).join(",")),`Target(${r})`}(zr(t))}; limitType=${t.limitType})`}function Sm(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Tu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){let d=Fx(s,a,l);return s.inclusive?d<=0:d<0}(r.startAt,Tu(r),i)||r.endAt&&!function(s,a,l){let d=Fx(s,a,l);return s.inclusive?d>=0:d>0}(r.endAt,Tu(r),i))}(t,e)}function e4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bR(t){return(e,n)=>{let r=!1;for(let i of Tu(t)){let o=t4(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function t4(t,e,n){let r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(o,s,a){let l=s.data.field(o),d=a.data.field(o);return l!==null&&d!==null?yc(l,d):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}var Io=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return dR(this.inner)}size(){return this.innerSize}};var n4=new ht(ue.comparator);function Si(){return n4}var IR=new ht(ue.comparator);function Cu(...t){let e=IR;for(let n of t)e=e.insert(n.key,n);return e}function CR(t){let e=IR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xs(){return Su()}function DR(){return Su()}function Su(){return new Io(t=>t.toString(),(t,e)=>t.isEqual(e))}var r4=new ht(ue.comparator),i4=new Zt(ue.comparator);function xe(...t){let e=i4;for(let n of t)e=e.add(n);return e}var o4=new Zt(Be);function s4(){return o4}function ZE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xu(e)?"-0":e}}function TR(t){return{integerValue:""+t}}function a4(t,e){return zH(e)?TR(e):ZE(t,e)}var bc=class{constructor(){this._=void 0}};function c4(t,e,n){return t instanceof Ic?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&GE(o)&&(o=WE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Fs?AR(t,e):t instanceof Ls?xR(t,e):function(i,o){let s=SR(i,o),a=jx(s)+jx(i.Pe);return D0(s)&&D0(i.Pe)?TR(a):ZE(i.serializer,a)}(t,e)}function l4(t,e,n){return t instanceof Fs?AR(t,e):t instanceof Ls?xR(t,e):n}function SR(t,e){return t instanceof Cc?function(r){return D0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ic=class extends bc{},Fs=class extends bc{constructor(e){super(),this.elements=e}};function AR(t,e){let n=RR(e);for(let r of t.elements)n.some(i=>Gr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ls=class extends bc{constructor(e){super(),this.elements=e}};function xR(t,e){let n=RR(e);for(let r of t.elements)n=n.filter(i=>!Gr(i,r));return{arrayValue:{values:n}}}var Cc=class extends bc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function jx(t){return it(t.integerValue||t.doubleValue)}function RR(t){return KE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function u4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Fs&&i instanceof Fs||r instanceof Ls&&i instanceof Ls?vc(r.elements,i.elements,Gr):r instanceof Cc&&i instanceof Cc?Gr(r.Pe,i.Pe):r instanceof Ic&&i instanceof Ic}(t.transform,e.transform)}var V0=class{constructor(e,n){this.version=e,this.transformResults=n}},Ci=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function zp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Dc=class{};function PR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jp(t.key,Ci.none()):new Vs(t.key,t.data,Ci.none());{let n=t.data,r=Dn.empty(),i=new Zt(Tn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Wr(t.key,r,new Bn(i.toArray()),Ci.none())}}function d4(t,e,n){t instanceof Vs?function(i,o,s){let a=i.value.clone(),l=$x(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Wr?function(i,o,s){if(!zp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=$x(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(MR(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Au(t,e,n,r){return t instanceof Vs?function(o,s,a,l){if(!zp(o.precondition,s))return a;let d=o.value.clone(),p=Hx(o.fieldTransforms,l,s);return d.setAll(p),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wr?function(o,s,a,l){if(!zp(o.precondition,s))return a;let d=Hx(o.fieldTransforms,l,s),p=s.data;return p.setAll(MR(o)),p.setAll(d),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,s,a){return zp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function h4(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=SR(r.transform,i||null);o!=null&&(n===null&&(n=Dn.empty()),n.set(r.field,o))}return n||null}function Bx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vc(r,i,(o,s)=>u4(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Vs=class extends Dc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Wr=class extends Dc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function MR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function $x(t,e,n){let r=new Map;Ge(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,l4(s,a,n[i]))}return r}function Hx(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,c4(o,s,e))}return r}var Jp=class extends Dc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},U0=class extends Dc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var j0=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&d4(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Au(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Au(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=DR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let l=PR(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&vc(this.mutations,e.mutations,(n,r)=>Bx(n,r))&&vc(this.baseMutations,e.baseMutations,(n,r)=>Bx(n,r))}},B0=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ge(e.mutations.length===r.length);let i=function(){return r4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var $0=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var H0=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var bt,Fe;function f4(t){switch(t){default:return he();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function NR(t){if(t===void 0)return Di("GRPC error has no .code"),B.UNKNOWN;switch(t){case bt.OK:return B.OK;case bt.CANCELLED:return B.CANCELLED;case bt.UNKNOWN:return B.UNKNOWN;case bt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case bt.INTERNAL:return B.INTERNAL;case bt.UNAVAILABLE:return B.UNAVAILABLE;case bt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case bt.NOT_FOUND:return B.NOT_FOUND;case bt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case bt.ABORTED:return B.ABORTED;case bt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case bt.DATA_LOSS:return B.DATA_LOSS;default:return he()}}(Fe=bt||(bt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";var zx=null;function p4(){return new TextEncoder}var m4=new wo([4294967295,4294967295],0);function qx(t){let e=p4().encode(t),n=new i0;return n.update(e),new Uint8Array(n.digest())}function Gx(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wo([n,r],0),new wo([i,o],0)]}var z0=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rs(`Invalid padding: ${n}`);if(r<0)throw new Rs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=wo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(wo.fromNumber(r)));return i.compare(m4)===1&&(i=new wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=qx(e),[r,i]=Gx(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=qx(e),[r,i]=Gx(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Rs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Xp=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ye.min(),i,new ht(Be),Si(),xe())}},Mu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,xe(),xe(),xe())}};var pc=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},em=class{constructor(e,n){this.targetId=e,this.me=n}},tm=class{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},nm=class{constructor(){this.fe=0,this.ge=Kx(),this.pe=Xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new Mu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Kx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},q0=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Si(),this.qe=Wx(),this.Qe=new ht(Be)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(k0(o))if(r===0){let s=new ue(o.path);this.Ue(n,s,hr.newNoDocument(s,ye.min()))}else Ge(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);let d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}zx?.et(function(p,m,y,b,A){var j,L,$,J,X,re;let Ne={localCacheCount:p,existenceFilterCount:m.count,databaseId:y.database,projectId:y.projectId},ae=m.unchangedNames;return ae&&(Ne.bloomFilter={applied:A===0,hashCount:(j=ae?.hashCount)!==null&&j!==void 0?j:0,bitmapLength:(J=($=(L=ae?.bits)===null||L===void 0?void 0:L.bitmap)===null||$===void 0?void 0:$.length)!==null&&J!==void 0?J:0,padding:(re=(X=ae?.bits)===null||X===void 0?void 0:X.padding)!==null&&re!==void 0?re:0,mightContain:x=>{var C;return(C=b?.mightContain(x))!==null&&C!==void 0&&C}}),Ne}(s,e.me,this.Le.tt(),a,l))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=bo(r).toUint8Array()}catch(l){if(l instanceof Qp)return gc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new z0(s,i,o)}catch(l){return gc(l instanceof Rs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&k0(a.target)){let l=new ue(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,hr.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=xe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Xp(e,n,this.Qe,this.ke,r);return this.ke=Si(),this.qe=Wx(),this.Qe=new ht(Be),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new nm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Zt(Be),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new nm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function Wx(){return new ht(ue.comparator)}function Kx(){return new ht(ue.comparator)}var g4={asc:"ASCENDING",desc:"DESCENDING"},v4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y4={and:"AND",or:"OR"},G0=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function W0(t,e){return t.useProto3Json||Cm(e)?e:{value:e}}function rm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _4(t,e){return rm(t,e.toTimestamp())}function qr(t){return Ge(!!t),ye.fromTimestamp(function(n){let r=Ti(n);return new Ht(r.seconds,r.nanos)}(t))}function JE(t,e){return K0(t,e).canonicalString()}function K0(t,e){let n=function(i){return new at(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kR(t){let e=at.fromString(t);return Ge(jR(e)),e}function Q0(t,e){return JE(t.databaseId,e.path)}function u0(t,e){let n=kR(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(LR(n))}function FR(t,e){return JE(t.databaseId,e)}function w4(t){let e=kR(t);return e.length===4?at.emptyPath():LR(e)}function Y0(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LR(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Qx(t,e,n){return{name:Q0(t,e),fields:n.value.mapValue.fields}}function E4(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(Ge(p===void 0||typeof p=="string"),Xt.fromBase64String(p||"")):(Ge(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Xt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){let p=d.code===void 0?B.UNKNOWN:NR(d.code);return new Z(p,d.message||"")}(s);n=new tm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=u0(t,r.document.name),o=qr(r.document.updateTime),s=r.document.createTime?qr(r.document.createTime):ye.min(),a=new Dn({mapValue:{fields:r.document.fields}}),l=hr.newFoundDocument(i,o,s,a),d=r.targetIds||[],p=r.removedTargetIds||[];n=new pc(d,p,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=u0(t,r.document),o=r.readTime?qr(r.readTime):ye.min(),s=hr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new pc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=u0(t,r.document),o=r.removedTargetIds||[];n=new pc([],o,i,null)}else{if(!("filter"in e))return he();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new H0(i,o),a=r.targetId;n=new em(a,s)}}return n}function b4(t,e){let n;if(e instanceof Vs)n={update:Qx(t,e.key,e.value)};else if(e instanceof Jp)n={delete:Q0(t,e.key)};else if(e instanceof Wr)n={update:Qx(t,e.key,e.data),updateMask:P4(e.fieldMask)};else{if(!(e instanceof U0))return he();n={verify:Q0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ic)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Fs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ls)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:_4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:he()}(t,e.precondition)),n}function I4(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?qr(i.updateTime):qr(o);return s.isEqual(ye.min())&&(s=qr(o)),new V0(s,i.transformResults||[])}(n,e))):[]}function C4(t,e){return{documents:[FR(t,e.path)]}}function D4(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FR(t,i);let o=function(d){if(d.length!==0)return UR(fr.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(p=>function(y){return{field:dc(y.field),direction:A4(y.dir)}}(p))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=W0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function T4(t){let e=w4(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ge(r===1);let p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(m){let y=VR(m);return y instanceof fr&&gR(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(y=>function(A){return new Ec(hc(A.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(m){let y;return y=typeof m=="object"?m.value:m,Cm(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(m){let y=!!m.before,b=m.values||[];return new wc(b,y)}(n.startAt));let d=null;return n.endAt&&(d=function(m){let y=!m.before,b=m.values||[];return new wc(b,y)}(n.endAt)),JH(e,i,s,o,a,"F",l,d)}function S4(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=hc(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=hc(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=hc(n.unaryFilter.field);return Ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=hc(n.unaryFilter.field);return Ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(hc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>VR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function A4(t){return g4[t]}function x4(t){return v4[t]}function R4(t){return y4[t]}function dc(t){return{fieldPath:t.canonicalString()}}function hc(t){return Tn.fromServerFormat(t.fieldPath)}function UR(t){return t instanceof Ct?function(n){if(n.op==="=="){if(kx(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NAN"}};if(Ox(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kx(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NOT_NAN"}};if(Ox(n.value))return{unaryFilter:{field:dc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dc(n.field),op:x4(n.op),value:n.value}}}(t):t instanceof fr?function(n){let r=n.getFilters().map(i=>UR(i));return r.length===1?r[0]:{compositeFilter:{op:R4(n.op),filters:r}}}(t):he()}function P4(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Nu=class t{constructor(e,n,r,i,o=ye.min(),s=ye.min(),a=Xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Z0=class{constructor(e){this.ct=e}};function M4(t){let e=T4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?L0(e,e.limit,"L"):e}var im=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(it(e.integerValue));else if("doubleValue"in e){let r=it(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),xu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ti(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(bo(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?fR(e)?this.dt(n,Number.MAX_SAFE_INTEGER):hR(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):he()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(it(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ue.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};im.vt=new im;var J0=class{constructor(){this.un=new X0}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Ns.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}},X0=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zt(at.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zt(at.comparator)).toArray()}};var MJ=new Uint8Array(0);var $r=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};$r.DEFAULT_COLLECTION_PERCENTILE=10,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$r.DEFAULT=new $r(41943040,$r.DEFAULT_COLLECTION_PERCENTILE,$r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$r.DISABLED=new $r(-1,0,0);var Ou=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var eE=class{constructor(){this.changes=new Io(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var tE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var nE=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Au(r.mutation,i,Bn.empty(),Ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){let i=xs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Cu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=xs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Si(),s=Su(),a=function(){return Su()}();return n.forEach((l,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Wr)?o=o.insert(d.key,d):p!==void 0?(s.set(d.key,p.mutation.getFieldMask()),Au(p.mutation,d,p.mutation.getFieldMask(),Ht.now())):s.set(d.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((d,p)=>s.set(d,p)),n.forEach((d,p)=>{var m;return a.set(d,new tE(p,(m=s.get(d))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Su(),i=new ht((s,a)=>s-a),o=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(l=>{let d=n.get(l);if(d===null)return;let p=r.get(l)||Bn.empty();p=a.applyToLocalView(d,p),r.set(l,p);let m=(i.get(a.batchId)||xe()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),d=l.key,p=l.value,m=DR();p.forEach(y=>{if(!o.has(y)){let b=PR(n.get(y),r.get(y));b!==null&&m.set(y,b),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return H.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):H.resolve(xs()),a=-1,l=o;return s.next(d=>H.forEach(d,(p,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(p)?H.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{l=l.insert(p,y)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,l,d,xe())).next(p=>({batchId:a,changes:CR(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=Cu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Cu();return this.indexManager.getCollectionParents(e,o).next(a=>H.forEach(a,l=>{let d=function(m,y){return new ks(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((m,y)=>{s=s.insert(m,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,d)=>{let p=d.getKey();s.get(p)===null&&(s=s.insert(p,hr.newInvalidDocument(p)))});let a=Cu();return s.forEach((l,d)=>{let p=o.get(l);p!==void 0&&Au(p.mutation,d,Bn.empty(),Ht.now()),Sm(n,d)&&(a=a.insert(l,d))}),a})}};var rE=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:M4(i.bundledQuery),readTime:qr(i.readTime)}}(n)),H.resolve()}};var iE=class{constructor(){this.overlays=new ht(ue.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){let r=xs();return H.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),H.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){let i=xs(),o=n.length+1,s=new ue(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ht((d,p)=>d-p),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=xs(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=xs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return H.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new $0(n,r));let o=this.Ir.get(n);o===void 0&&(o=xe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var oE=class{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}};var ku=class{constructor(){this.Tr=new Zt(It.Er),this.dr=new Zt(It.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new It(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new It(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ue(new at([])),r=new It(n,e),i=new It(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ue(new at([])),r=new It(n,e),i=new It(n,e+1),o=xe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new It(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},It=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ue.comparator(e.key,n.key)||Be(e.wr,n.wr)}static Ar(e,n){return Be(e.wr,n.wr)||ue.comparator(e.key,n.key)}};var sE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Zt(It.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new j0(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new It(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(s)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(Be);return n.forEach(i=>{let o=new It(i,0),s=new It(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ue.isDocumentKey(o)||(o=o.child(""));let s=new It(new ue(o),0),a=new Zt(Be);return this.br.forEachWhile(l=>{let d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(l.wr)),!0)},s),H.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ge(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,i=>{let o=new It(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new It(n,0),i=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var aE=class{constructor(e){this.Mr=e,this.docs=function(){return new ht(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(n))}getEntries(e,n){let r=Si();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():hr.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Si(),s=n.path,a=new ue(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:d,value:{document:p}}=l.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||BH(jH(p),r)<=0||(i.has(p.key)||Sm(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,n,r,i){he()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cE(this)}getSize(e){return H.resolve(this.size)}},cE=class extends eE{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var lE=class{constructor(e){this.persistence=e,this.Nr=new Io(n=>QE(n),YE),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ku,this.targetCount=0,this.kr=Ou.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ou(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(o).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}};var uE=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new uR(0),this.Kr=!1,this.Kr=!0,this.$r=new oE,this.referenceDelegate=e(this),this.Ur=new lE(this),this.indexManager=new J0,this.remoteDocumentCache=function(i){return new aE(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Z0(n),this.Gr=new rE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new sE(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);let i=new dE(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},dE=class extends b0{constructor(e){super(),this.currentSequenceNumber=e}},hE=class t{constructor(e){this.persistence=e,this.Jr=new ku,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{let i=ue.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ye.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var fE=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=xe(),i=xe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var pE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var mE=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return VS()?8:HH(Ot())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new pE;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Iu()<=Ae.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",uc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(Iu()<=Ae.DEBUG&&ne("QueryEngine","Query:",uc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Iu()<=Ae.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",uc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):H.resolve())}Yi(e,n){if(Ux(n))return H.resolve(null);let r=zr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=L0(n,null,"F"),r=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=xe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let d=this.ts(n,a);return this.ns(n,d,s,l.readTime)?this.Yi(e,L0(n,null,"F")):this.rs(e,d,n,l)}))})))}Zi(e,n,r,i){return Ux(n)||i.isEqual(ye.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?H.resolve(null):(Iu()<=Ae.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uc(n)),this.rs(e,s,n,UH(i,-1)).next(a=>a))})}ts(e,n){let r=new Zt(bR(e));return n.forEach((i,o)=>{Sm(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Iu()<=Ae.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",uc(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ns.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var gE=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ht(Be),this._s=new Io(o=>QE(o),YE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nE(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function N4(t,e,n,r){return new gE(t,e,n,r)}function BR(t,e){return D(this,null,function*(){let n=me(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=xe();for(let d of i){s.push(d.batchId);for(let p of d.mutations)l=l.add(p.key)}for(let d of o){a.push(d.batchId);for(let p of d.mutations)l=l.add(p.key)}return n.localDocuments.getDocuments(r,l).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:a}))})})})}function O4(t,e){let n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,d,p){let m=d.batch,y=m.keys(),b=H.resolve();return y.forEach(A=>{b=b.next(()=>p.getEntry(l,A)).next(j=>{let L=d.docVersions.get(A);Ge(L!==null),j.version.compareTo(L)<0&&(m.applyToRemoteDocument(j,d),j.isValidDocument()&&(j.setReadTime(d.commitVersion),p.addEntry(j)))})}),b.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xe();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $R(t){let e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function k4(t,e){let n=me(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((p,m)=>{let y=i.get(m);if(!y)return;a.push(n.Ur.removeMatchingKeys(o,p.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(o,p.addedDocuments,m)));let b=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?b=b.withResumeToken(Xt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(m,b),function(j,L,$){return j.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(y,b,p)&&a.push(n.Ur.updateTargetData(o,b))});let l=Si(),d=xe();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),a.push(F4(o,s,e.documentUpdates).next(p=>{l=p.Ps,d=p.Is})),!r.isEqual(ye.min())){let p=n.Ur.getLastRemoteSnapshotVersion(o).next(m=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(p)}return H.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,d)).next(()=>l)}).then(o=>(n.os=i,o))}function F4(t,e,n){let r=xe(),i=xe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Si();return n.forEach((a,l)=>{let d=o.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function L4(t,e){let n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function V4(t,e){let n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,H.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Nu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function vE(t,e,n){return D(this,null,function*(){let r=me(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!qu(s))throw s;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Yx(t,e,n){let r=me(t),i=ye.min(),o=xe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,d,p){let m=me(l),y=m._s.get(p);return y!==void 0?H.resolve(m.os.get(y)):m.Ur.getTargetData(d,p)}(r,s,zr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ye.min(),n?o:xe())).next(a=>(U4(r,e4(e),a),{documents:a,Ts:o})))}function U4(t,e,n){let r=t.us.get(e)||ye.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var om=class{constructor(){this.activeTargetIds=s4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var yE=class{constructor(){this.so=new om,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new om,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var _E=class{_o(e){}shutdown(){}};var sm=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var $p=null;function d0(){return $p===null?$p=function(){return 268435456+Math.round(2147483648*Math.random())}():$p++,"0x"+$p.toString(16)}var j4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var wE=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Yt="WebChannelConnection",EE=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=d0(),l=this.xo(n,r.toUriEncodedString());ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(n,l,d,i).then(p=>(ne("RestConnection",`Received RPC '${n}' ${a}: `,p),p),p=>{throw gc("RestConnection",`RPC '${n}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=j4[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=d0();return new Promise((s,a)=>{let l=new o0;l.setWithCredentials(!0),l.listenOnce(s0.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case bu.NO_ERROR:let p=l.getResponseJson();ne(Yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case bu.TIMEOUT:ne(Yt,`RPC '${e}' ${o} timed out`),a(new Z(B.DEADLINE_EXCEEDED,"Request time out"));break;case bu.HTTP_ERROR:let m=l.getStatus();if(ne(Yt,`RPC '${e}' ${o} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let A=function(L){let $=L.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf($)>=0?$:B.UNKNOWN}(b.status);a(new Z(A,b.message))}else a(new Z(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(B.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ne(Yt,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);ne(Yt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=d0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=l0(),a=c0(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let p=o.join("");ne(Yt,`Creating RPC '${e}' stream ${i}: ${p}`,l);let m=s.createWebChannel(p,l),y=!1,b=!1,A=new wE({Io:L=>{b?ne(Yt,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(y||(ne(Yt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),ne(Yt,`RPC '${e}' stream ${i} sending:`,L),m.send(L))},To:()=>m.close()}),j=(L,$,J)=>{L.listen($,X=>{try{J(X)}catch(re){setTimeout(()=>{throw re},0)}})};return j(m,lc.EventType.OPEN,()=>{b||(ne(Yt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),j(m,lc.EventType.CLOSE,()=>{b||(b=!0,ne(Yt,`RPC '${e}' stream ${i} transport closed`),A.So())}),j(m,lc.EventType.ERROR,L=>{b||(b=!0,gc(Yt,`RPC '${e}' stream ${i} transport errored:`,L),A.So(new Z(B.UNAVAILABLE,"The operation could not be completed")))}),j(m,lc.EventType.MESSAGE,L=>{var $;if(!b){let J=L.data[0];Ge(!!J);let X=J,re=X.error||(($=X[0])===null||$===void 0?void 0:$.error);if(re){ne(Yt,`RPC '${e}' stream ${i} received error:`,re);let Ne=re.status,ae=function(T){let R=bt[T];if(R!==void 0)return NR(R)}(Ne),x=re.message;ae===void 0&&(ae=B.INTERNAL,x="Unknown error status: "+Ne+" with message "+re.message),b=!0,A.So(new Z(ae,x)),m.close()}else ne(Yt,`RPC '${e}' stream ${i} received:`,J),A.bo(J)}}),j(a,a0.STAT_EVENT,L=>{L.stat===jp.PROXY?ne(Yt,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===jp.NOPROXY&&ne(Yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function h0(){return typeof document<"u"?document:null}function Am(t){return new G0(t,!0)}var am=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var cm=class{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new am(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return D(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return D(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return D(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new Z(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>D(this,null,function*(){this.state=0,this.start()}))}I_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},bE=class extends cm{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=E4(this.serializer,e),r=function(o){if(!("targetChange"in o))return ye.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ye.min():s.readTime?qr(s.readTime):ye.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Y0(this.serializer),n.addTarget=function(o,s){let a,l=s.target;if(a=k0(l)?{documents:C4(o,l)}:{query:D4(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=OR(o,s.resumeToken);let d=W0(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(ye.min())>0){a.readTime=rm(o,s.snapshotVersion.toTimestamp());let d=W0(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=S4(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Y0(this.serializer),n.removeTarget=e,this.a_(n)}},IE=class extends cm{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=I4(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Y0(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>b4(this.serializer,r))};this.a_(n)}};var CE=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,K0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(B.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,K0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(B.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},DE=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Di(n),this.D_=!1):ne("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var TE=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>D(this,null,function*(){Bs(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),yield function(l){return D(this,null,function*(){let d=me(l);d.L_.add(4),yield Gu(d),d.q_.set("Unknown"),d.L_.delete(4),yield xm(d)})}(this))}))}),this.q_=new DE(r,i)}};function xm(t){return D(this,null,function*(){if(Bs(t))for(let e of t.B_)yield e(!0)})}function Gu(t){return D(this,null,function*(){for(let e of t.B_)yield e(!1)})}function HR(t,e){let n=me(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),nb(n)?tb(n):Rc(n).r_()&&eb(n,e))}function XE(t,e){let n=me(t),r=Rc(n);n.N_.delete(e),r.r_()&&zR(n,e),n.N_.size===0&&(r.r_()?r.o_():Bs(n)&&n.q_.set("Unknown"))}function eb(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rc(t).A_(e)}function zR(t,e){t.Q_.xe(e),Rc(t).R_(e)}function tb(t){t.Q_=new q0({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Rc(t).start(),t.q_.v_()}function nb(t){return Bs(t)&&!Rc(t).n_()&&t.N_.size>0}function Bs(t){return me(t).L_.size===0}function qR(t){t.Q_=void 0}function B4(t){return D(this,null,function*(){t.q_.set("Online")})}function $4(t){return D(this,null,function*(){t.N_.forEach((e,n)=>{eb(t,e)})})}function H4(t,e){return D(this,null,function*(){qR(t),nb(t)?(t.q_.M_(e),tb(t)):t.q_.set("Unknown")})}function z4(t,e,n){return D(this,null,function*(){if(t.q_.set("Online"),e instanceof tm&&e.state===2&&e.cause)try{yield function(i,o){return D(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lm(t,r)}else if(e instanceof pc?t.Q_.Ke(e):e instanceof em?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ye.min()))try{let r=yield $R(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){let p=o.N_.get(d);p&&o.N_.set(d,p.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,d)=>{let p=o.N_.get(l);if(!p)return;o.N_.set(l,p.withResumeToken(Xt.EMPTY_BYTE_STRING,p.snapshotVersion)),zR(o,l);let m=new Nu(p.target,l,d,p.sequenceNumber);eb(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),yield lm(t,r)}})}function lm(t,e,n){return D(this,null,function*(){if(!qu(e))throw e;t.L_.add(1),yield Gu(t),t.q_.set("Offline"),n||(n=()=>$R(t.localStore)),t.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){ne("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield xm(t)}))})}function GR(t,e){return e().catch(n=>lm(t,n,e))}function Rm(t){return D(this,null,function*(){let e=me(t),n=Co(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;q4(e);)try{let i=yield L4(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,G4(e,i)}catch(i){yield lm(e,i)}WR(e)&&KR(e)})}function q4(t){return Bs(t)&&t.O_.length<10}function G4(t,e){t.O_.push(e);let n=Co(t);n.r_()&&n.V_&&n.m_(e.mutations)}function WR(t){return Bs(t)&&!Co(t).n_()&&t.O_.length>0}function KR(t){Co(t).start()}function W4(t){return D(this,null,function*(){Co(t).p_()})}function K4(t){return D(this,null,function*(){let e=Co(t);for(let n of t.O_)e.m_(n.mutations)})}function Q4(t,e,n){return D(this,null,function*(){let r=t.O_.shift(),i=B0.from(r,e,n);yield GR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Rm(t)})}function Y4(t,e){return D(this,null,function*(){e&&Co(t).V_&&(yield function(r,i){return D(this,null,function*(){if(function(s){return f4(s)&&s!==B.ABORTED}(i.code)){let o=r.O_.shift();Co(r).s_(),yield GR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Rm(r)}})}(t,e)),WR(t)&&KR(t)})}function Zx(t,e){return D(this,null,function*(){let n=me(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");let r=Bs(n);n.L_.add(3),yield Gu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield xm(n)})}function Z4(t,e){return D(this,null,function*(){let n=me(t);e?(n.L_.delete(2),yield xm(n)):e||(n.L_.add(2),yield Gu(n),n.q_.set("Unknown"))})}function Rc(t){return t.K_||(t.K_=function(n,r,i){let o=me(n);return o.w_(),new bE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:B4.bind(null,t),Ro:$4.bind(null,t),mo:H4.bind(null,t),d_:z4.bind(null,t)}),t.B_.push(e=>D(this,null,function*(){e?(t.K_.s_(),nb(t)?tb(t):t.q_.set("Unknown")):(yield t.K_.stop(),qR(t))}))),t.K_}function Co(t){return t.U_||(t.U_=function(n,r,i){let o=me(n);return o.w_(),new IE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:W4.bind(null,t),mo:Y4.bind(null,t),f_:K4.bind(null,t),g_:Q4.bind(null,t)}),t.B_.push(e=>D(this,null,function*(){e?(t.U_.s_(),yield Rm(t)):(yield t.U_.stop(),t.O_.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var SE=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function rb(t,e){if(Di("AsyncQueue",`${e}: ${t}`),qu(t))return new Z(B.UNAVAILABLE,`${e}: ${t}`);throw t}var um=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=Cu(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var dm=class{constructor(){this.W_=new ht(ue.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Tc=class t{constructor(e,n,r,i,o,s,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,um.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var AE=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},xE=class{constructor(){this.queries=Jx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=me(n),o=i.queries;i.queries=Jx(),o.forEach((s,a)=>{for(let l of a.j_)l.onError(r)})})(this,new Z(B.ABORTED,"Firestore shutting down"))}};function Jx(){return new Io(t=>ER(t),Tm)}function ib(t,e){return D(this,null,function*(){let n=me(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new AE,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=rb(s,`Initialization of query '${uc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&sb(n)})}function ob(t,e){return D(this,null,function*(){let n=me(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function J4(t,e){let n=me(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&sb(n)}function X4(t,e,n){let r=me(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function sb(t){t.Y_.forEach(e=>{e.next()})}var RE,Xx;(Xx=RE||(RE={})).ea="default",Xx.Cache="cache";var Fu=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Tc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Tc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==RE.Cache}};var hm=class{constructor(e){this.key=e}},fm=class{constructor(e){this.key=e}},PE=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xe(),this.mutatedKeys=xe(),this.Aa=bR(e),this.Ra=new um(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new dm,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{let y=i.get(p),b=Sm(this.query,m)?m:null,A=!!y&&this.mutatedKeys.has(y.key),j=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations),L=!1;y&&b?y.data.isEqual(b.data)?A!==j&&(r.track({type:3,doc:b}),L=!0):this.ga(y,b)||(r.track({type:2,doc:b}),L=!0,(l&&this.Aa(b,l)>0||d&&this.Aa(b,d)<0)&&(a=!0)):!y&&b?(r.track({type:0,doc:b}),L=!0):y&&!b&&(r.track({type:1,doc:y}),L=!0,(l||d)&&(a=!0)),L&&(b?(s=s.add(b),o=j?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((p,m)=>function(b,A){let j=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return j(b)-j(A)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,d=l!==this.Ea;return this.Ea=l,s.length!==0||d?{snapshot:new Tc(this.query,e.Ra,o,s,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new dm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new fm(r))}),this.da.forEach(r=>{e.has(r)||n.push(new hm(r))}),n}ba(e){this.Ta=e.Ts,this.da=xe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Tc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},ME=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},NE=class{constructor(e){this.key=e,this.va=!1}},OE=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Io(a=>ER(a),Tm),this.Ma=new Map,this.xa=new Set,this.Oa=new ht(ue.comparator),this.Na=new Map,this.La=new ku,this.Ba={},this.ka=new Map,this.qa=Ou.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function e5(t,e,n=!0){return D(this,null,function*(){let r=e1(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield QR(r,e,n,!0),i})}function t5(t,e){return D(this,null,function*(){let n=e1(t);yield QR(n,e,!0,!1)})}function QR(t,e,n,r){return D(this,null,function*(){let i=yield V4(t.localStore,zr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield n5(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&HR(t.remoteStore,i),a})}function n5(t,e,n,r,i){return D(this,null,function*(){t.Ka=(m,y,b)=>function(j,L,$,J){return D(this,null,function*(){let X=L.view.ma($);X.ns&&(X=yield Yx(j.localStore,L.query,!1).then(({documents:x})=>L.view.ma(x,X)));let re=J&&J.targetChanges.get(L.targetId),Ne=J&&J.targetMismatches.get(L.targetId)!=null,ae=L.view.applyChanges(X,j.isPrimaryClient,re,Ne);return tR(j,L.targetId,ae.wa),ae.snapshot})}(t,m,y,b);let o=yield Yx(t.localStore,e,!0),s=new PE(e,o.Ts),a=s.ma(o.documents),l=Mu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=s.applyChanges(a,t.isPrimaryClient,l);tR(t,n,d.wa);let p=new ME(e,n,s);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot})}function r5(t,e,n){return D(this,null,function*(){let r=me(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Tm(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield vE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&XE(r.remoteStore,i.targetId),kE(r,i.targetId)}).catch(zu))):(kE(r,i.targetId),yield vE(r.localStore,i.targetId,!0))})}function i5(t,e){return D(this,null,function*(){let n=me(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),XE(n.remoteStore,r.targetId))})}function o5(t,e,n){return D(this,null,function*(){let r=h5(t);try{let i=yield function(s,a){let l=me(s),d=Ht.now(),p=a.reduce((b,A)=>b.add(A.key),xe()),m,y;return l.persistence.runTransaction("Locally write mutations","readwrite",b=>{let A=Si(),j=xe();return l.cs.getEntries(b,p).next(L=>{A=L,A.forEach(($,J)=>{J.isValidDocument()||(j=j.add($))})}).next(()=>l.localDocuments.getOverlayedDocuments(b,A)).next(L=>{m=L;let $=[];for(let J of a){let X=h4(J,m.get(J.key).overlayedDocument);X!=null&&$.push(new Wr(J.key,X,pR(X.value.mapValue),Ci.exists(!0)))}return l.mutationQueue.addMutationBatch(b,d,$,a)}).next(L=>{y=L;let $=L.applyToLocalDocumentSet(m,j);return l.documentOverlayCache.saveOverlays(b,L.batchId,$)})}).then(()=>({batchId:y.batchId,changes:CR(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let d=s.Ba[s.currentUser.toKey()];d||(d=new ht(Be)),d=d.insert(a,l),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,n),yield Wu(r,i.changes),yield Rm(r.remoteStore)}catch(i){let o=rb(i,"Failed to persist write");n.reject(o)}})}function YR(t,e){return D(this,null,function*(){let n=me(t);try{let r=yield k4(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ge(s.va):i.removedDocuments.size>0&&(Ge(s.va),s.va=!1))}),yield Wu(n,r,e)}catch(r){yield zu(r)}})}function eR(t,e,n){let r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let l=me(s);l.onlineState=a;let d=!1;l.queries.forEach((p,m)=>{for(let y of m.j_)y.Z_(a)&&(d=!0)}),d&&sb(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function s5(t,e,n){return D(this,null,function*(){let r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new ht(ue.comparator);s=s.insert(o,hr.newNoDocument(o,ye.min()));let a=xe().add(o),l=new Xp(ye.min(),new Map,new ht(Be),s,a);yield YR(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),ab(r)}else yield vE(r.localStore,e,!1).then(()=>kE(r,e,n)).catch(zu)})}function a5(t,e){return D(this,null,function*(){let n=me(t),r=e.batch.batchId;try{let i=yield O4(n.localStore,e);JR(n,r,null),ZR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Wu(n,i)}catch(i){yield zu(i)}})}function c5(t,e,n){return D(this,null,function*(){let r=me(t);try{let i=yield function(s,a){let l=me(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return l.mutationQueue.lookupMutationBatch(d,a).next(m=>(Ge(m!==null),p=m.keys(),l.mutationQueue.removeMutationBatch(d,m))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>l.localDocuments.getDocuments(d,p))})}(r.localStore,e);JR(r,e,n),ZR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Wu(r,i)}catch(i){yield zu(i)}})}function ZR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function JR(t,e,n){let r=me(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function kE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||XR(t,r)})}function XR(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(XE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ab(t))}function tR(t,e,n){for(let r of n)r instanceof hm?(t.La.addReference(r.key,e),l5(t,r)):r instanceof fm?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||XR(t,r.key)):he()}function l5(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.xa.add(r),ab(t))}function ab(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new ue(at.fromString(e)),r=t.qa.next();t.Na.set(r,new NE(n)),t.Oa=t.Oa.insert(n,r),HR(t.remoteStore,new Nu(zr(Dm(n.path)),r,"TargetPurposeLimboResolution",uR.oe))}}function Wu(t,e,n){return D(this,null,function*(){let r=me(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){let m=d?!d.fromCache:(p=n?.targetChanges.get(l.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(d){i.push(d);let m=fE.Wi(l.targetId,d);o.push(m)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(l,d){return D(this,null,function*(){let p=me(l);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>H.forEach(d,y=>H.forEach(y.$i,b=>p.persistence.referenceDelegate.addReference(m,y.targetId,b)).next(()=>H.forEach(y.Ui,b=>p.persistence.referenceDelegate.removeReference(m,y.targetId,b)))))}catch(m){if(!qu(m))throw m;ne("LocalStore","Failed to update sequence numbers: "+m)}for(let m of d){let y=m.targetId;if(!m.fromCache){let b=p.os.get(y),A=b.snapshotVersion,j=b.withLastLimboFreeSnapshotVersion(A);p.os=p.os.insert(y,j)}}})}(r.localStore,o))})}function u5(t,e){return D(this,null,function*(){let n=me(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());let r=yield BR(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new Z(B.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wu(n,r.hs)}})}function d5(t,e){let n=me(t),r=n.Na.get(e);if(r&&r.va)return xe().add(r.key);{let i=xe(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function e1(t){let e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s5.bind(null,e),e.Ca.d_=J4.bind(null,e.eventManager),e.Ca.$a=X4.bind(null,e.eventManager),e}function h5(t){let e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c5.bind(null,e),e}var nR=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return D(this,null,function*(){this.serializer=Am(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return N4(this.persistence,new mE,n.initialUser,this.serializer)}Ga(n){return new uE(hE.Zr,this.serializer)}Wa(n){return new yE}terminate(){return D(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var f5=(()=>{class t{initialize(n,r){return D(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>eR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=u5.bind(null,this.syncEngine),yield Z4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new xE}()}createDatastore(n){let r=Am(n.databaseInfo.databaseId),i=function(s){return new EE(s)}(n.databaseInfo);return function(s,a,l,d){return new CE(s,a,l,d)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,l){return new TE(i,o,s,a,l)}(this.localStore,this.datastore,n.asyncQueue,r=>eR(this.syncEngine,r,0),function(){return sm.D()?new sm:new _E}())}createSyncEngine(n,r){return function(o,s,a,l,d,p,m){let y=new OE(o,s,a,l,d,p);return m&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return D(this,null,function*(){var n,r;yield function(o){return D(this,null,function*(){let s=me(o);ne("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Gu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Lu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var FE=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=Gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>D(this,null,function*(){ne("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=rb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function f0(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield BR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function rR(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield p5(t);ne("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Zx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Zx(e.remoteStore,i)),t._onlineComponents=e})}function p5(t){return D(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{yield f0(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;gc("Error using user provided cache. Falling back to memory cache: "+n),yield f0(t,new nR)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),yield f0(t,new nR);return t._offlineComponents})}function t1(t){return D(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),yield rR(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),yield rR(t,new f5))),t._onlineComponents})}function m5(t){return t1(t).then(e=>e.syncEngine)}function pm(t){return D(this,null,function*(){let e=yield t1(t),n=e.eventManager;return n.onListen=e5.bind(null,e.syncEngine),n.onUnlisten=r5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=t5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=i5.bind(null,e.syncEngine),n})}function g5(t,e,n={}){let r=new dr;return t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(o,s,a,l,d){let p=new Lu({next:y=>{p.Za(),s.enqueueAndForget(()=>ob(o,m));let b=y.docs.has(a);!b&&y.fromCache?d.reject(new Z(B.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&l&&l.source==="server"?d.reject(new Z(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new Fu(Dm(a.path),p,{includeMetadataChanges:!0,_a:!0});return ib(o,m)}(yield pm(t),t.asyncQueue,e,n,r)})),r.promise}function v5(t,e,n={}){let r=new dr;return t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(o,s,a,l,d){let p=new Lu({next:y=>{p.Za(),s.enqueueAndForget(()=>ob(o,m)),y.fromCache&&l.source==="server"?d.reject(new Z(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new Fu(a,p,{includeMetadataChanges:!0,_a:!0});return ib(o,m)}(yield pm(t),t.asyncQueue,e,n,r)})),r.promise}function n1(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var iR=new Map;function r1(t,e,n){if(!n)throw new Z(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function y5(t,e,n,r){if(e===!0&&r===!0)throw new Z(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oR(t){if(!ue.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sR(t){if(ue.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Sn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Pm(t);throw new Z(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var mm=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Sc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new p0;switch(r.type){case"firstParty":return new y0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return D(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=iR.get(n);r&&(ne("ComponentProvider","Removing Datastore"),iR.delete(n),r.terminate())}(this),Promise.resolve()}};function i1(t,e,n,r={}){var i;let o=(t=Sn(t,Sc))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&gc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=kt.MOCK_USER;else{a=up(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Z(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kt(d)}t._authCredentials=new m0(new qp(a,l))}}var Us=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Jt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Eo=class t extends Us{constructor(e,n,r){super(e,n,Dm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new ue(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function o1(t,e,...n){if(t=Je(t),r1("collection","path",e),t instanceof Sc){let r=at.fromString(e,...n);return sR(r),new Eo(t,null,r)}{if(!(t instanceof Jt||t instanceof Eo))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(at.fromString(e,...n));return sR(r),new Eo(t.firestore,null,r)}}function cb(t,e,...n){if(t=Je(t),arguments.length===1&&(e=Gp.newId()),r1("doc","path",e),t instanceof Sc){let r=at.fromString(e,...n);return oR(r),new Jt(t,null,new ue(r))}{if(!(t instanceof Jt||t instanceof Eo))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(at.fromString(e,...n));return oR(r),new Jt(t.firestore,t instanceof Eo?t.converter:null,new ue(r))}}var gm=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new am(this,"async_queue_retry"),this.Vu=()=>{let r=h0();r&&ne("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=h0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=h0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new dr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return D(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!qu(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=SE.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&he()}verifyOperationInProgress(){}wu(){return D(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function aR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Kr=class extends Sc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return D(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new gm(e),this._firestoreClient=void 0,yield e}})}};function s1(t,e){let n=typeof t=="object"?t:mo(),r=typeof t=="string"?t:e||"(default)",i=ws(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=lp("firestore");o&&i1(i,...o)}return i}function Mm(t){if(t._terminated)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_5(t),t._firestoreClient}function _5(t){var e,n,r;let i=t._freezeSettings(),o=function(a,l,d,p){return new I0(a,l,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,n1(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new FE(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(t._componentsProvider))}var Vu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Xt.fromBase64String(e))}catch(n){throw new Z(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ac=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Uu=class{constructor(e){this._methodName=e}};var ju=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}};var Bu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var w5=/^__.*__$/,LE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vs(e,this.data,n,this.fieldTransforms)}},vm=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function a1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}var VE=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return _m(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(a1(this.Cu)&&w5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},UE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Am(e)}Qu(e,n,r,i=!1){return new VE({Cu:e,methodName:n,qu:r,path:Tn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Nm(t){let e=t._freezeSettings(),n=Am(t._databaseId);return new UE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function c1(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);lb("Data must be an object, but it was:",s,r);let a=l1(r,s),l,d;if(o.merge)l=new Bn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let p=[];for(let m of o.mergeFields){let y=jE(e,m,n);if(!s.contains(y))throw new Z(B.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);d1(p,y)||p.push(y)}l=new Bn(p),d=s.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,d=s.fieldTransforms;return new LE(new Dn(a),l,d)}var ym=class t extends Uu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function E5(t,e,n,r){let i=t.Qu(1,e,n);lb("Data must be an object, but it was:",i,r);let o=[],s=Dn.empty();js(r,(l,d)=>{let p=ub(e,l,n);d=Je(d);let m=i.Nu(p);if(d instanceof ym)o.push(p);else{let y=Ku(d,m);y!=null&&(o.push(p),s.set(p,y))}});let a=new Bn(o);return new vm(s,a,i.fieldTransforms)}function b5(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[jE(e,r,n)],l=[i];if(o.length%2!=0)throw new Z(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(jE(e,o[y])),l.push(o[y+1]);let d=[],p=Dn.empty();for(let y=a.length-1;y>=0;--y)if(!d1(d,a[y])){let b=a[y],A=l[y];A=Je(A);let j=s.Nu(b);if(A instanceof ym)d.push(b);else{let L=Ku(A,j);L!=null&&(d.push(b),p.set(b,L))}}let m=new Bn(d);return new vm(p,m,s.fieldTransforms)}function I5(t,e,n,r=!1){return Ku(n,t.Qu(r?4:3,e))}function Ku(t,e){if(u1(t=Je(t)))return lb("Unsupported field value:",e,t),l1(t,e);if(t instanceof Uu)return function(r,i){if(!a1(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let l=Ku(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return a4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ht.fromDate(r);return{timestampValue:rm(i.serializer,o)}}if(r instanceof Ht){let o=new Ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rm(i.serializer,o)}}if(r instanceof ju)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vu)return{bytesValue:OR(i.serializer,r._byteString)};if(r instanceof Jt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:JE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Bu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return ZE(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Pm(r)}`)}(t,e)}function l1(t,e){let n={};return dR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(t,(r,i)=>{let o=Ku(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function u1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ht||t instanceof ju||t instanceof Vu||t instanceof Jt||t instanceof Uu||t instanceof Bu)}function lb(t,e,n){if(!u1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Pm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function jE(t,e,n){if((e=Je(e))instanceof Ac)return e._internalPath;if(typeof e=="string")return ub(t,e);throw _m("Field path arguments must be of type string or ",t,!1,void 0,n)}var C5=new RegExp("[~\\*/\\[\\]]");function ub(t,e,n){if(e.search(C5)>=0)throw _m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ac(...e.split("."))._internalPath}catch{throw _m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _m(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Z(B.INVALID_ARGUMENT,a+t+l)}function d1(t,e){return t.some(n=>n.isEqual(e))}var wm=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new BE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(db("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},BE=class extends wm{data(){return super.data()}};function db(t,e){return typeof e=="string"?ub(t,e):e instanceof Ac?e._internalPath:e._delegate._internalPath}function h1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $u=class{},$E=class extends $u{};function f1(t,e,...n){let r=[];e instanceof $u&&r.push(e),r=r.concat(n),function(o){let s=o.filter(l=>l instanceof HE).length,a=o.filter(l=>l instanceof Em).length;if(s>1||s>0&&a>0)throw new Z(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Em=class t extends $E{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return m1(e._query,n),new Us(e.firestore,e.converter,F0(e._query,n))}_parse(e){let n=Nm(e.firestore);return function(o,s,a,l,d,p,m){let y;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Z(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){lR(m,p);let b=[];for(let A of m)b.push(cR(l,o,A));y={arrayValue:{values:b}}}else y=cR(l,o,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||lR(m,p),y=I5(a,s,m,p==="in"||p==="not-in");return Ct.create(d,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function p1(t,e,n){let r=e,i=db("where",t);return Em._create(i,r,n)}var HE=class t extends $u{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let l of a)m1(s,l),s=F0(s,l)}(e._query,n),new Us(e.firestore,e.converter,F0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function cR(t,e,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new Z(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wR(e)&&n.indexOf("/")!==-1)throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(at.fromString(n));if(!ue.isDocumentKey(r))throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nx(t,new ue(r))}if(n instanceof Jt)return Nx(t,n._key);throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pm(n)}.`)}function lR(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function m1(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var zE=class{convertValue(e,n="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return js(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>it(s.doubleValue));return new Bu(o)}convertGeoPoint(e){return new ju(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=WE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ru(e));default:return null}}convertTimestamp(e){let n=Ti(e);return new Ht(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=at.fromString(e);Ge(jR(r));let i=new Yp(r.get(1),r.get(3)),o=new ue(r.popFirst(5));return i.isEqual(n)||Di(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function g1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ps=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},bm=class extends wm{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(db("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},mc=class extends bm{data(e={}){return super.data(e)}},Im=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ps(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mc(this._firestore,this._userDataWriter,r.key,r,new Ps(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new mc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ps(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new mc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ps(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:D5(a.type),doc:l,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function D5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}function v1(t){t=Sn(t,Jt);let e=Sn(t.firestore,Kr);return g5(Mm(e),t._key).then(n=>b1(e,t,n))}var Hu=class extends zE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}};function y1(t){t=Sn(t,Us);let e=Sn(t.firestore,Kr),n=Mm(e),r=new Hu(e);return h1(t._query),v5(n,t._query).then(i=>new Im(e,r,t,i))}function _1(t,e,n){t=Sn(t,Jt);let r=Sn(t.firestore,Kr),i=g1(t.converter,e,n);return fb(r,[c1(Nm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ci.none())])}function w1(t,e,n,...r){t=Sn(t,Jt);let i=Sn(t.firestore,Kr),o=Nm(i),s;return s=typeof(e=Je(e))=="string"||e instanceof Ac?b5(o,"updateDoc",t._key,e,n,r):E5(o,"updateDoc",t._key,e),fb(i,[s.toMutation(t._key,Ci.exists(!0))])}function E1(t,e){let n=Sn(t.firestore,Kr),r=cb(t),i=g1(t.converter,e);return fb(n,[c1(Nm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ci.exists(!1))]).then(()=>r)}function hb(t,...e){var n,r,i;t=Je(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||aR(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(aR(e[s])){let m=e[s];e[s]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[s+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let l,d,p;if(t instanceof Jt)d=Sn(t.firestore,Kr),p=Dm(t._key.path),l={next:m=>{e[s]&&e[s](b1(d,t,m))},error:e[s+1],complete:e[s+2]};else{let m=Sn(t,Us);d=Sn(m.firestore,Kr),p=m._query;let y=new Hu(d);l={next:b=>{e[s]&&e[s](new Im(d,y,m,b))},error:e[s+1],complete:e[s+2]},h1(t._query)}return function(y,b,A,j){let L=new Lu(j),$=new Fu(b,L,A);return y.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return ib(yield pm(y),$)})),()=>{L.Za(),y.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return ob(yield pm(y),$)}))}}(Mm(d),p,a,l)}function fb(t,e){return function(r,i){let o=new dr;return r.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return o5(yield m5(r),i,o)})),o.promise}(Mm(t),e)}function b1(t,e,n){let r=n.docs.get(e._key),i=new Hu(t);return new bm(t,i,e._key,r,new Ps(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){xc=i})(Vr),Lr(new fn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Kr(new g0(r.getProvider("auth-internal")),new w0(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Z(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yp(d.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),rt(xx,"4.7.3",e),rt(xx,"4.7.3","esm2017")})();var Om=function(){return Om=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Om.apply(this,arguments)};var A5={includeMetadataChanges:!1};function I1(t,e){return e===void 0&&(e=A5),new Te(function(n){var r=hb(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function C1(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Om(Om({},r),(n={},n[e.idField]=t.id,n))}function D1(t){return I1(t,{includeMetadataChanges:!0}).pipe(Ee(function(e){return e.docs}))}function T1(t,e){return e===void 0&&(e={}),D1(t).pipe(Ee(function(n){return n.map(function(r){return C1(r,e)})}))}var pr=class{constructor(e){return e}},S1="firestore",pb=class{constructor(){return bs(S1)}};var mb=new te("angularfire2.firestore-instances");function x5(t,e){let n=rc(S1,t,e);return n&&new pr(n)}function R5(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new pr(r)}}var P5={provide:pb,deps:[[new Et,mb]]},M5={provide:pr,useFactory:x5,deps:[[new Et,mb],lr]};function A1(t,...e){return rt("angularfire",gi.full,"fst"),kn([M5,P5,{provide:mb,useFactory:R5(t),multi:!0,deps:[je,Gt,vo,vi,[new Et,As],[new Et,go],...e]}])}var $n=ut(T1,!0);var x1=ut(E1,!0);var pn=ut(o1,!0);var Pc=ut(cb,!0);var Qu=ut(v1,!0);var R1=ut(y1,!0);var P1=ut(s1,!0);var Hn=ut(f1,!0);var km=ut(_1,!0);var M1=ut(w1,!0);var Ft=ut(p1,!0);var Lt=class t{constructor(e,n,r){this.auth=e;this.firestore=n;this.router=r;nx(this.auth,i=>D(this,null,function*(){if(i){this.userActive=i;let o=yield this.obtenerPerfilUsuario(i.uid);o?this.actualUserSubject.next(o):(console.error("Perfil no encontrado en Firestore"),this.actualUserSubject.next(null))}else this.userActive=null,this.actualUserSubject.next(null)}))}msjError=null;userActive;actualUserSubject=new st(null);actualUser$=this.actualUserSubject.asObservable();getUser(){return this.actualUserSubject.value}getCurrentUser(){return this.actualUserSubject.asObservable()}mapUserToUsuario(e){let n="paciente";return n==="paciente"?{nombre:"",apellido:"",edad:0,dni:0,obraSocial:"",email:e.email,password:"",fotoPerfil1:"",fotoPerfil2:"",tipoUsuario:"paciente"}:n==="administrador"?{nombre:"",apellido:"",edad:0,dni:0,password:"",email:e.email||"",fotoPerfil1:"",tipoUsuario:"administrador"}:n==="especialista"?{nombre:"",apellido:"",edad:0,dni:0,email:e.email||"",password:"",fotoPerfil1:"",especialidades:[],tipoUsuario:"especialista",estado:"pendiente"}:{}}login(e,n){return D(this,null,function*(){try{let r=yield ix(this.auth,e,n);if(!r.user.emailVerified)throw this.msjError="Por favor, verifica tu correo electr\xF3nico antes de iniciar sesi\xF3n.",new Error(this.msjError);let i=r.user.uid,o=yield this.obtenerTipoDeUsuario(i);if(o)if(o==="paciente")this.router.navigate(["/home"]);else if(o==="especialista"){if((yield this.obtenerEstadoEspecialista(i))!=="aceptado")throw this.msjError="Su cuenta a\xFAn no ha sido aprobada por el administrador.",new Error(this.msjError);this.router.navigate(["/home"])}else o==="administrador"&&this.router.navigate(["/home"]);else throw this.msjError="Tipo de usuario desconocido.",new Error(this.msjError);return r.user}catch(r){console.error("Error al iniciar sesi\xF3n:",r);let i=r.code?this.mostrarErrorLogin(r.code):"Error de autenticaci\xF3n desconocido. Intente nuevamente";throw new Error(i)}})}obtenerEstadoEspecialista(e){return D(this,null,function*(){try{let n=Pc(this.firestore,`usuarios/${e}`),r=yield Qu(n);return r.exists()&&r.data().estado||null}catch(n){return console.error("Error al obtener el estado del especialista:",n),null}})}mostrarErrorLogin(e){switch(e){case"auth/invalid-email":return"El formato del correo es inv\xE1lido.";case"auth/user-disabled":return"Esta cuenta ha sido deshabilitada. Contacta al soporte.";case"auth/user-not-found":return"No se encontr\xF3 un usuario con este correo.";case"auth/wrong-password":return"La contrase\xF1a es incorrecta.";case"auth/too-many-requests":return"Se ha bloqueado temporalmente la cuenta debido a muchos intentos fallidos. Int\xE9ntalo m\xE1s tarde.";case"auth/network-request-failed":return"Error de conexi\xF3n. Verifica tu red y vuelve a intentarlo.";case"auth/popup-closed-by-user":return"La ventana de inicio de sesi\xF3n se cerr\xF3 antes de finalizar.";case"auth/cancelled-popup-request":return"La solicitud de autenticaci\xF3n fue cancelada.";default:return"Error desconocido: "+e}}obtenerPerfilUsuario(e){return D(this,null,function*(){console.log("Obteniendo perfil de usuario con UID:",e);let n=Pc(this.firestore,`usuarios/${e}`),r=yield Qu(n);return r.exists()?r.data():(console.log("Perfil de usuario no encontrado en Firestore."),null)})}obtenerTipoDeUsuario(e){return D(this,null,function*(){let n=yield this.obtenerPerfilUsuario(e);if(n){let r=n.tipoUsuario;return r==="paciente"||r==="administrador"||r==="especialista"?(console.log("Tipo de usuario:",r),r):(console.log("Tipo de usuario desconocido:",r),null)}else return console.log("No se encontr\xF3 el perfil del usuario."),null})}registrarUsuario(e,n){return D(this,null,function*(){if(console.log("Registrando usuario con email:",e.email),!e.email||e.email.trim()==="")throw new Error("El correo electr\xF3nico es obligatorio");if(!e.email||!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e.email.trim()))throw new Error("El correo electr\xF3nico no tiene un formato v\xE1lido.");try{let r=yield ex(this.auth,e.email,n);console.log("Respuesta de Firebase:",r);let i=Pc(this.firestore,"usuarios",r.user.uid);return e.tipoUsuario==="paciente"?yield km(i,ge(q({},e),{uid:r.user.uid})):e.tipoUsuario==="administrador"?yield km(i,ge(q({},e),{uid:r.user.uid})):e.tipoUsuario==="especialista"&&(yield km(i,ge(q({},e),{uid:r.user.uid}))),yield rx(r.user),console.log("Correo de verificaci\xF3n enviado a:",e.email),r.user}catch(r){console.error("Error al registrar usuario:",r);let i=r?.code||"error-desconocido";throw this.msjError=this.mostrarErrorRegistro(i),new Error(this.msjError)}})}subirImagen(e,n){return D(this,null,function*(){let r=Vp(),i=r0(r,n);try{yield t0(i,e);let o=yield n0(i);return console.log("URL de imagen obtenida:",o),o}catch(o){throw console.error("Error al subir la imagen:",o),new Error("Error al subir la imagen")}})}mostrarErrorRegistro(e){switch(e){case"auth/invalid-email":return"El correo electr\xF3nico tiene un formato inv\xE1lido";case"auth/email-already-in-use":return"El correo electr\xF3nico ya est\xE1 en uso";case"auth/weak-password":return"La contrase\xF1a debe ser de m\xE1s de 6 caracteres";case"auth/missing-password":return"Por favor, introduzca una contrase\xF1a";default:return"Error desconocido: "+e}}logout(){return this.auth.signOut()}logoutEstatico(){this.actualUserSubject.next(null),this.auth.signOut()}isUserVerified(){return D(this,null,function*(){let e=yield this.auth.currentUser;return e?e.emailVerified:!1})}static \u0275fac=function(n){return new(n||t)(le(Ss),le(pr),le(Or))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})};function N5(t,e){if(t&1&&ee(0,"img",13),t&2){let n=Y(2);U("src",n.usuarioLogueado.fotoPerfil1,co)}}function O5(t,e){t&1&&(I(0,"span",14),P(1,"Sin foto"),E())}function k5(t,e){if(t&1&&(I(0,"div",9)(1,"div",10),Q(2,N5,1,1,"img",11)(3,O5,2,0,"span",12),E(),I(4,"h3"),P(5),mT(6,"iconosUsuario"),E()()),t&2){let n=Y();k(2),U("ngIf",n.usuarioLogueado.fotoPerfil1),k(),U("ngIf",!n.usuarioLogueado.fotoPerfil1),k(2),Py("",n.usuarioLogueado.nombre," ",n.usuarioLogueado.apellido," ",gT(6,5,n.usuarioLogueado.tipoUsuario)," ")}}function F5(t,e){if(t&1){let n=Ze();I(0,"li",15),ie("click",function(){Pe(n);let i=Y();return Me(i.NavegarHome())}),I(1,"a",16)(2,"strong"),P(3,"\u{1F3E0} Inicio"),E()()()}}function L5(t,e){if(t&1){let n=Ze();I(0,"li",15),ie("click",function(){Pe(n);let i=Y();return Me(i.NavegarHome())}),I(1,"a",17)(2,"strong"),P(3,"\u{1F3E0} Inicio"),E()()()}}function V5(t,e){t&1&&(I(0,"li",18)(1,"a",19)(2,"strong"),P(3," \u{1F4E4} Ingresar"),E()()())}function U5(t,e){t&1&&(I(0,"li",18)(1,"a",20)(2,"strong"),P(3," \u{1F4DD} Registrarse"),E()()())}function j5(t,e){if(t&1){let n=Ze();I(0,"li",18)(1,"a",21),ie("click",function(){Pe(n);let i=Y();return Me(i.NavegarPerfil())}),I(2,"strong"),P(3," \u{1F9D1} Mi Perfil"),E()()()}}function B5(t,e){if(t&1){let n=Ze();I(0,"li",18)(1,"a",22),ie("click",function(){Pe(n);let i=Y();return Me(i.NavegarPanelPaciente())}),I(2,"strong"),P(3," \u{1F465} Paciente Panel"),E()()()}}function $5(t,e){t&1&&(I(0,"li",18)(1,"a",23)(2,"strong"),P(3," \u{1FA7A} Panel Especialista"),E()()())}function H5(t,e){t&1&&(I(0,"li",18)(1,"a",24)(2,"strong"),P(3," \u{1F4CA} Informes"),E()()())}function z5(t,e){if(t&1){let n=Ze();I(0,"div",25),ie("click",function(){Pe(n);let i=Y();return Me(i.NavegarPanelAdmin())}),I(1,"a",26)(2,"strong"),P(3," \u{1F48E} Admin"),E()()()}}function q5(t,e){if(t&1){let n=Ze();I(0,"li",18)(1,"a",27),ie("click",function(){Pe(n);let i=Y();return Me(i.logout())}),I(2,"strong"),P(3," \u{1F464}\u274C Salir"),E()()()}}var mn=class t{constructor(e,n){this.authService=e;this.router=n}usuarioLogueado=null;isVerified=!1;ngOnInit(){return D(this,null,function*(){this.usuarioLogueado=yield this.authService.getUser(),this.isVerified=yield this.authService.isUserVerified()})}logout(){this.authService.logout().then(()=>{this.usuarioLogueado=null,this.router.navigate(["/home"]),N1.default.fire({title:"\xA1Hasta pronto!",text:"Tu sesi\xF3n ha sido cerrada correctamente. Gracias por visitarnos, esperamos verte nuevamente pronto.",icon:"success",confirmButtonText:"Cerrar",confirmButtonColor:"#38b6ff",background:"#f8f9fa",customClass:{popup:"swal-popup"}})})}isPaciente(e){return e.fotoPerfil1!==void 0}isEspecialista(e){return e.especialidades?.length>0}NavegarPanelAdmin(){this.router.navigate(["/panelAdmin"])}NavegarPanelPaciente(){this.router.navigate(["/panelPaciente"])}NavegarPerfil(){this.router.navigate(["/perfil"])}NavegarHome(){this.router.navigate(["/home"])}static \u0275fac=function(n){return new(n||t)(G(Lt),G(Or))};static \u0275cmp=He({type:t,selectors:[["app-header"]],standalone:!0,features:[Ke],decls:19,vars:11,consts:[[1,"navbar"],["appExpandirHover","","class","d-flex align-items-center",4,"ngIf"],["appExpandirHover","",1,"navbar-logo"],["src","assets/imagenes/logo.jfif","alt","Logo Cl\xEDnica",1,"logo"],[1,"navbar-links"],[1,"navbar-auth"],["appExpandirHover","",3,"click",4,"ngIf"],["appExpandirHover","",4,"ngIf"],["appExpandirHover","","class","game-card",3,"click",4,"ngIf"],["appExpandirHover","",1,"d-flex","align-items-center"],[1,"profile-picture"],["alt","Foto de perfil",3,"src",4,"ngIf"],["class","no-photo",4,"ngIf"],["alt","Foto de perfil",3,"src"],[1,"no-photo"],["appExpandirHover","",3,"click"],["routerLink","/home",1,"btn","inicio"],["href","/home",1,"btn","inicio"],["appExpandirHover",""],["href","/login",1,"btn","login"],["href","/registro",1,"btn","register"],["routerLink","/perfil",1,"btn","perfil",3,"click"],["routerLink","/panelPaciente",1,"btn","paciente",3,"click"],["routerLink","/panelEspecialista",1,"btn","especialista"],["routerLink","/infomes",1,"btn","informes"],["appExpandirHover","",1,"game-card",3,"click"],[1,"btn","admin"],[1,"btn","salir",3,"click"]],template:function(n,r){n&1&&(I(0,"header")(1,"nav",0),Q(2,k5,7,7,"div",1),I(3,"div",2),ee(4,"img",3),I(5,"span"),P(6,"Cl\xEDnica Salud"),E()(),I(7,"ul",4)(8,"div",5),Q(9,F5,4,0,"li",6)(10,L5,4,0,"li",6)(11,V5,4,0,"li",7)(12,U5,4,0,"li",7)(13,j5,4,0,"li",7)(14,B5,4,0,"li",7)(15,$5,4,0,"li",7)(16,H5,4,0,"li",7)(17,z5,4,0,"div",8)(18,q5,4,0,"li",7),E()()()()),n&2&&(k(2),U("ngIf",r.usuarioLogueado),k(7),U("ngIf",r.usuarioLogueado),k(),U("ngIf",!r.usuarioLogueado),k(),U("ngIf",!r.usuarioLogueado),k(),U("ngIf",!r.usuarioLogueado),k(),U("ngIf",r.usuarioLogueado),k(),U("ngIf",r.usuarioLogueado&&(r.usuarioLogueado==null?null:r.usuarioLogueado.tipoUsuario)=="paciente"),k(),U("ngIf",(r.usuarioLogueado==null?null:r.usuarioLogueado.tipoUsuario)==="especialista"),k(),U("ngIf",(r.usuarioLogueado==null?null:r.usuarioLogueado.tipoUsuario)==="administrador"),k(),U("ngIf",(r.usuarioLogueado==null?null:r.usuarioLogueado.tipoUsuario)==="administrador"),k(),U("ngIf",r.usuarioLogueado))},dependencies:[jt,Qt,Xa,sp],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#0d91c1;background:linear-gradient(to bottom,#33bdef 5%,#019ad2);padding:1rem 2rem;color:#f9fafb;box-shadow:0 4px 12px #0000001a;border-radius:5px}.navbar-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-shrink:0}.navbar-logo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:.8rem;border-radius:50%}.navbar-logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#e5e7eb}.navbar-links[_ngcontent-%COMP%]{list-style:none;display:flex;gap:1.5rem}.navbar-auth[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;flex-grow:1;justify-content:flex-end}.btn[_ngcontent-%COMP%]{text-decoration:none;padding:.5rem 1rem;border-radius:20px;font-weight:lighter}.btn.login[_ngcontent-%COMP%], .btn.register[_ngcontent-%COMP%], .btn.inicio[_ngcontent-%COMP%], .btn.salir[_ngcontent-%COMP%], .btn.informes[_ngcontent-%COMP%], .btn.perfil[_ngcontent-%COMP%], .btn.btn.admin[_ngcontent-%COMP%], .btn.btn.paciente[_ngcontent-%COMP%]{background:linear-gradient(135deg,#38b6ff,#43d1af);color:#fff;padding:10px 20px;font-size:1rem;border:none;border-radius:8px;box-shadow:0 6px 12px #0000004d;cursor:pointer}.btn.login[_ngcontent-%COMP%]:hover, .btn.register[_ngcontent-%COMP%]:hover, .btn.inicio[_ngcontent-%COMP%]:hover, .btn.btn.salir[_ngcontent-%COMP%]:hover, .btn.btn.informes[_ngcontent-%COMP%]:hover, .btn.btn.perfil[_ngcontent-%COMP%]:hover, .btn.btn.admin[_ngcontent-%COMP%]:hover, .btn.btn.paciente[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#43d1af,#38b6ff)}.swal-popup[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-align:center;color:#333;padding:20px;border-radius:10px}.profile-picture[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;overflow:hidden;margin-right:.5rem}.profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover;margin-right:.5rem}.no-photo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;border-radius:50%;background-color:#ccc;color:#fff}h3[_ngcontent-%COMP%]{margin:0;color:#000;font-family:Montserrat;font-size:1rem}"]})};var Fm=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=He({type:t,selectors:[["app-home"]],standalone:!0,features:[Ke],decls:39,vars:0,consts:[[1,"home-image-container"],["src","assets/imagenes/home.jpg","alt","imagen fondo",1,"home-image"],[1,"info"],[1,"card"],[1,"fas","fa-clock"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"about-us"],[1,"about-item"],["src","assets/imagenes/somos.jfif","alt","Qui\xE9nes somos"],["src","../../assets/imagenes/calidad.jpg","alt","Atenci\xF3n de Calidad"]],template:function(n,r){n&1&&(ee(0,"app-header"),I(1,"body")(2,"main")(3,"div",0),ee(4,"img",1),I(5,"div",2)(6,"div",3),ee(7,"i",4),I(8,"h2"),P(9,"Horario de atenci\xF3n"),E(),I(10,"p"),P(11,"Lunes a Viernes de 8:00 a 19:00h. S\xE1bados de 8:00 a 14:00h"),E()(),I(12,"div",3),ee(13,"i",5),I(14,"h2"),P(15,"Contacto"),E(),I(16,"p"),P(17,"123-456-7890, 3010-456-8976"),E()(),I(18,"div",3),ee(19,"i",6),I(20,"h2"),P(21,"Ubicaci\xF3n"),E(),I(22,"p"),P(23,"AV Libertador 5478, CABA, Argentina"),E()()()(),I(24,"div",7)(25,"div",8),ee(26,"img",9),I(27,"div")(28,"h2"),P(29,"\xBFQui\xE9nes somos?"),E(),I(30,"p"),P(31," Somos un equipo comprometido de profesionales m\xE9dicos dedicados a proporcionar atenci\xF3n de calidad y personalizada a cada uno de nuestros pacientes. "),E()()(),I(32,"div",8),ee(33,"img",10),I(34,"div")(35,"h2"),P(36,"Atenci\xF3n de Calidad"),E(),I(37,"p"),P(38," Nuestro compromiso es garantizar que cada paciente reciba la mejor atenci\xF3n posible, utilizando tecnolog\xEDa de vanguardia y tratamientos actualizados. "),E()()()()()())},dependencies:[mn],styles:[".info[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;transform:translate(-50%);display:flex;gap:15px;background:#fffc;padding:10px;border-radius:10px}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:200px;padding:10px;background-color:#edf2f4;border-radius:10px;text-align:center;border:1px solid #2b2d42}.card[_ngcontent-%COMP%]:last-child{margin-right:10px}.card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;color:#2b2d42;margin-bottom:5px}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;margin-bottom:5px}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.about-us[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;display:flex;justify-content:center;align-items:center;flex-direction:row;margin-top:40px}.about-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a;margin-left:10px;margin-right:10px}.about-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 12px #00000026}.about-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:350px;height:260px;border-radius:10px}.about-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px;margin-top:20px}.about-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:1.5;word-wrap:break-word;padding-left:15px;padding-right:15px}.home-image-container[_ngcontent-%COMP%]{position:relative;text-align:center}.home-image[_ngcontent-%COMP%]{width:100%;max-height:600px;height:auto;object-fit:cover;object-position:center}.active-link[_ngcontent-%COMP%]{color:red}"]})};var H1=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(G(Ln),G(on))}}static{this.\u0275dir=We({type:t})}}return t})(),Gm=(()=>{class t extends H1{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=li(t)))(i||t)}})()}static{this.\u0275dir=We({type:t,features:[hn]})}}return t})(),Fc=new te("");var G5={provide:Fc,useExisting:bn(()=>Qr),multi:!0};function W5(){let t=di()?di().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var K5=new te(""),Qr=(()=>{class t extends H1{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!W5())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(G(Ln),G(on),G(K5,8))}}static{this.\u0275dir=We({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[sr([G5]),hn]})}}return t})();function To(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function z1(t){return t!=null&&typeof t.length=="number"}var nd=new te(""),Wm=new te(""),Q5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,se=class{static min(e){return Y5(e)}static max(e){return Z5(e)}static required(e){return q1(e)}static requiredTrue(e){return J5(e)}static email(e){return X5(e)}static minLength(e){return ez(e)}static maxLength(e){return tz(e)}static pattern(e){return nz(e)}static nullValidator(e){return Vm(e)}static compose(e){return Z1(e)}static composeAsync(e){return J1(e)}};function Y5(t){return e=>{if(To(e.value)||To(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Z5(t){return e=>{if(To(e.value)||To(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function q1(t){return To(t.value)?{required:!0}:null}function J5(t){return t.value===!0?null:{required:!0}}function X5(t){return To(t.value)||Q5.test(t.value)?null:{email:!0}}function ez(t){return e=>To(e.value)||!z1(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function tz(t){return e=>z1(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function nz(t){if(!t)return Vm;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(To(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Vm(t){return null}function G1(t){return t!=null}function W1(t){return us(t)?nt(t):t}function K1(t){let e={};return t.forEach(n=>{e=n!=null?q(q({},e),n):e}),Object.keys(e).length===0?null:e}function Q1(t,e){return e.map(n=>n(t))}function rz(t){return!t.validate}function Y1(t){return t.map(e=>rz(e)?e:n=>e.validate(n))}function Z1(t){if(!t)return null;let e=t.filter(G1);return e.length==0?null:function(n){return K1(Q1(n,e))}}function bb(t){return t!=null?Z1(Y1(t)):null}function J1(t){if(!t)return null;let e=t.filter(G1);return e.length==0?null:function(n){let r=Q1(n,e).map(W1);return Kg(r).pipe(Ee(K1))}}function Ib(t){return t!=null?J1(Y1(t)):null}function O1(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function X1(t){return t._rawValidators}function eP(t){return t._rawAsyncValidators}function vb(t){return t?Array.isArray(t)?t:[t]:[]}function Um(t,e){return Array.isArray(t)?t.includes(e):t===e}function k1(t,e){let n=vb(e);return vb(t).forEach(i=>{Um(n,i)||n.push(i)}),n}function F1(t,e){return vb(e).filter(n=>!Um(t,n))}var jm=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ib(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ai=class extends jm{get formDirective(){return null}get path(){return null}},$s=class extends jm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Bm=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},iz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Uee=ge(q({},iz),{"[class.ng-submitted]":"isSubmitted"}),Ao=(()=>{class t extends Bm{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(G($s,2))}}static{this.\u0275dir=We({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Mf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[hn]})}}return t})(),xo=(()=>{class t extends Bm{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(G(Ai,10))}}static{this.\u0275dir=We({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Mf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[hn]})}}return t})();var Yu="VALID",Lm="INVALID",Mc="PENDING",Zu="DISABLED",So=class{},$m=class extends So{constructor(e,n){super(),this.value=e,this.source=n}},Xu=class extends So{constructor(e,n){super(),this.pristine=e,this.source=n}},ed=class extends So{constructor(e,n){super(),this.touched=e,this.source=n}},Nc=class extends So{constructor(e,n){super(),this.status=e,this.source=n}},yb=class extends So{constructor(e){super(),this.source=e}},_b=class extends So{constructor(e){super(),this.source=e}};function Cb(t){return(Km(t)?t.validators:t)||null}function oz(t){return Array.isArray(t)?bb(t):t||null}function Db(t,e){return(Km(e)?e.asyncValidators:t)||null}function sz(t){return Array.isArray(t)?Ib(t):t||null}function Km(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function tP(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new ce(1e3,"");if(!r[n])throw new ce(1001,"")}function nP(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new ce(1002,"")})}var Oc=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ba(()=>this.statusReactive()),this.statusReactive=lo(void 0),this._pristine=Ba(()=>this.pristineReactive()),this.pristineReactive=lo(!0),this._touched=Ba(()=>this.touchedReactive()),this.touchedReactive=lo(!1),this._events=new Nt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Mr(this.statusReactive)}set status(e){Mr(()=>this.statusReactive.set(e))}get valid(){return this.status===Yu}get invalid(){return this.status===Lm}get pending(){return this.status==Mc}get disabled(){return this.status===Zu}get enabled(){return this.status!==Zu}get pristine(){return Mr(this.pristineReactive)}set pristine(e){Mr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Mr(this.touchedReactive)}set touched(e){Mr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(k1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(k1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(F1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(F1(e,this._rawAsyncValidators))}hasValidator(e){return Um(this._rawValidators,e)}hasAsyncValidator(e){return Um(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ge(q({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ed(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ed(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ge(q({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Xu(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Xu(!0,r))}markAsPending(e={}){this.status=Mc;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Nc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ge(q({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Zu,this.errors=null,this._forEachChild(i=>{i.disable(ge(q({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $m(this.value,r)),this._events.next(new Nc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ge(q({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Yu,this._forEachChild(r=>{r.enable(ge(q({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ge(q({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yu||this.status===Mc)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $m(this.value,n)),this._events.next(new Nc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ge(q({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zu:Yu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Mc,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=W1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Nc(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ue,this.statusChanges=new Ue}_calculateStatus(){return this._allControlsDisabled()?Zu:this.errors?Lm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mc)?Mc:this._anyControlsHaveStatus(Lm)?Lm:Yu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Xu(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ed(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Km(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=oz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=sz(this._rawAsyncValidators)}},kc=class extends Oc{constructor(e,n,r){super(Cb(n),Db(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){nP(this,!0,e),Object.keys(e).forEach(r=>{tP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var wb=class extends kc{};var rd=new te("CallSetDisabledState",{providedIn:"root",factory:()=>Qm}),Qm="always";function rP(t,e){return[...e.path,t]}function Hm(t,e,n=Qm){Tb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),cz(t,e),uz(t,e),lz(t,e),az(t,e)}function L1(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function zm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function az(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Tb(t,e){let n=X1(t);e.validator!==null?t.setValidators(O1(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=eP(t);e.asyncValidator!==null?t.setAsyncValidators(O1(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();zm(e._rawValidators,i),zm(e._rawAsyncValidators,i)}function qm(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=X1(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=eP(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return zm(e._rawValidators,r),zm(e._rawAsyncValidators,r),n}function cz(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&iP(t,e)})}function lz(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&iP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function iP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function uz(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function oP(t,e){t==null,Tb(t,e)}function dz(t,e){return qm(t,e)}function sP(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function hz(t){return Object.getPrototypeOf(t.constructor)===Gm}function aP(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function cP(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Qr?n=o:hz(o)?r=o:i=o}),i||r||n||null}function fz(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var pz={provide:Ai,useExisting:bn(()=>Sb)},Ju=Promise.resolve(),Sb=(()=>{class t extends Ai{get submitted(){return Mr(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Ba(()=>this.submittedReactive()),this.submittedReactive=lo(!1),this._directives=new Set,this.ngSubmit=new Ue,this.form=new kc({},bb(n),Ib(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ju.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Hm(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ju.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ju.then(()=>{let r=this._findContainer(n.path),i=new kc({});oP(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ju.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ju.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),aP(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(G(nd,10),G(Wm,10),G(rd,8))}}static{this.\u0275dir=We({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[sr([pz]),hn]})}}return t})();function V1(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function U1(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var td=class extends Oc{constructor(e=null,n,r){super(Cb(n),Db(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Km(n)&&(n.nonNullable||n.initialValueIsDefault)&&(U1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){V1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){V1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){U1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var mz=t=>t instanceof td;var gz={provide:$s,useExisting:bn(()=>Ab)},j1=Promise.resolve(),Ab=(()=>{class t extends $s{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new td,this._registered=!1,this.name="",this.update=new Ue,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=cP(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),sP(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Hm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){j1.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Fl(r);j1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?rP(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(G(Ai,9),G(nd,10),G(Wm,10),G(Fc,10),G(hs,8),G(rd,8))}}static{this.\u0275dir=We({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[sr([gz]),hn,ci]})}}return t})(),Ro=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=We({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),vz={provide:Fc,useExisting:bn(()=>Hs),multi:!0},Hs=(()=>{class t extends Gm{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=li(t)))(i||t)}})()}static{this.\u0275dir=We({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ie("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[sr([vz]),hn]})}}return t})();var lP=new te("");var yz={provide:Ai,useExisting:bn(()=>zs)},zs=(()=>{class t extends Ai{get submitted(){return Mr(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Ba(()=>this._submittedReactive()),this._submittedReactive=lo(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ue,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Hm(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){L1(n.control||null,n,!1),fz(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),aP(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new yb(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new _b(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(L1(r||null,n),mz(i)&&(Hm(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);oP(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&dz(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tb(this.form,this),this._oldForm&&qm(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(G(nd,10),G(Wm,10),G(rd,8))}}static{this.\u0275dir=We({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[sr([yz]),hn,ci]})}}return t})();var _z={provide:$s,useExisting:bn(()=>qs)},qs=(()=>{class t extends $s{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Ue,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=cP(this,o)}ngOnChanges(n){this._added||this._setUpControl(),sP(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return rP(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(G(Ai,13),G(nd,10),G(Wm,10),G(Fc,10),G(lP,8))}}static{this.\u0275dir=We({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[sr([_z]),hn,ci]})}}return t})(),wz={provide:Fc,useExisting:bn(()=>Ym),multi:!0};function uP(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Ez(t){return t.split(":")[0]}var Ym=(()=>{class t extends Gm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=uP(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=Ez(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=li(t)))(i||t)}})()}static{this.\u0275dir=We({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ie("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[sr([wz]),hn]})}}return t})(),dP=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(uP(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(G(on),G(Ln),G(Ym,9))}}static{this.\u0275dir=We({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),bz={provide:Fc,useExisting:bn(()=>hP),multi:!0};function B1(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Iz(t){return t.split(":")[0]}var hP=(()=>{class t extends Gm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],d=this._getOptionValue(l.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let d=this._getOptionValue(l.value);i.push(d)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=Iz(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=li(t)))(i||t)}})()}static{this.\u0275dir=We({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ie("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[sr([bz]),hn]})}}return t})(),fP=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(B1(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(B1(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(G(on),G(Ln),G(hP,9))}}static{this.\u0275dir=We({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var Cz=(()=>{class t{constructor(){this._validator=Vm}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Vm,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=We({type:t,features:[ci]})}}return t})();var Dz={provide:nd,useExisting:bn(()=>xi),multi:!0};var xi=(()=>{class t extends Cz{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Fl,this.createValidator=n=>q1}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=li(t)))(i||t)}})()}static{this.\u0275dir=We({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ja("required",i._enabled?"":null)},inputs:{required:"required"},features:[sr([Dz]),hn]})}}return t})();var pP=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ir({type:t})}static{this.\u0275inj=rr({})}}return t})(),Eb=class extends Oc{constructor(e,n,r){super(Cb(n),Db(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){nP(this,!1,e),e.forEach((r,i)=>{tP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function $1(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Lc=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return $1(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new kc(i,o)}record(n,r=null){let i=this._reduceControls(n);return new wb(i,r)}control(n,r,i){let o={};return this.useNonNullable?($1(r)?o=r:(o.validators=r,o.asyncValidators=i),new td(n,ge(q({},o),{nonNullable:!0}))):new td(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Eb(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof td)return n;if(n instanceof Oc)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Po=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:rd,useValue:n.callSetDisabledState??Qm}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ir({type:t})}static{this.\u0275inj=rr({imports:[pP]})}}return t})(),Vc=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:lP,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:rd,useValue:n.callSetDisabledState??Qm}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ir({type:t})}static{this.\u0275inj=rr({imports:[pP]})}}return t})();function Tz(t,e){t&1&&(I(0,"div",8),ee(1,"div",9),E())}function Sz(t,e){if(t&1&&(I(0,"div",17)(1,"p"),P(2),E()()),t&2){let n=Y(2);k(2),Kt(n.msjError)}}function Az(t,e){if(t&1){let n=Ze();I(0,"form",10),ie("ngSubmit",function(){Pe(n);let i=Y();return Me(i.LoginUser())}),I(1,"div",11)(2,"input",12),Ff("ngModelChange",function(i){Pe(n);let o=Y();return My(o.email,i)||(o.email=i),Me(i)}),E()(),I(3,"div",11)(4,"input",13),Ff("ngModelChange",function(i){Pe(n);let o=Y();return My(o.password,i)||(o.password=i),Me(i)}),E()(),I(5,"button",14),P(6,"Iniciar Sesi\xF3n"),E(),I(7,"p"),P(8,"\xBFNo tienes una cuenta? "),I(9,"a",15),P(10,"Reg\xEDstrate"),E()(),Q(11,Sz,3,1,"div",16),E()}if(t&2){let n=Y();k(2),kf("ngModel",n.email),k(2),kf("ngModel",n.password),k(7),U("ngIf",n.flagError)}}function xz(t,e){if(t&1){let n=Ze();I(0,"div",20)(1,"img",21),ie("click",function(){let i=Pe(n).$implicit,o=Y(2);return Me(o.onUserClick(i))}),E()()}if(t&2){let n=e.$implicit;k(),U("src",n.image,co)}}function Rz(t,e){if(t&1&&(I(0,"div",18),Q(1,xz,2,1,"div",19),E()),t&2){let n=Y();k(),U("ngForOf",n.users)}}var Jm=class t{constructor(e,n){this.router=e;this.auth=n}email="";password="";flagError=!1;msjError="";isLoading=!1;userProfileImageUrl="/assets/imagenes/favbutton.png";userListVisible=!1;users=[{id:1,name:"Administrador",role:"administrador",image:"/assets/imagenes/perfiles/administrador-perfil.jpg"},{id:2,name:"Especialista 1",role:"especialista",image:"/assets/imagenes/perfiles/especialista-perfil-1.jpg"},{id:3,name:"Especialista 2",role:"especialista",image:"/assets/imagenes/perfiles/especialista-perfil-2.jpg"},{id:4,name:"Paciente 1",role:"paciente",image:"/assets/imagenes/perfiles/paciente-perfil -1.webp"},{id:5,name:"Paciente 2",role:"paciente",image:"/assets/imagenes/perfiles/paciente-perfil-2.jpg"},{id:6,name:"Paciente 3",role:"paciente",image:"/assets/imagenes/perfiles/paciente-perfil-3.jpg"}];usuario={email:"",password:""};LoginUser(){return D(this,null,function*(){this.isLoading=!0,this.flagError=!1,this.msjError="";try{yield this.auth.login(this.email,this.password);let e=this.auth.userActive;e?(console.log("Usuario autenticado:",e),e.emailVerificado?e.tipoUsuario==="especialista"?e.estado==="aceptado"?this.router.navigate(["/home"]):(this.flagError=!0,this.msjError="Estado pendiente de aprobaci\xF3n por administrador."):e.tipoUsuario==="paciente"?this.router.navigate(["/home"]):e.tipoUsuario==="administrador"?this.router.navigate(["/admin-dashboard"]):(this.flagError=!0,this.msjError="Perfil de usuario no reconocido."):(this.flagError=!0,this.msjError="Error de autenticaci\xF3n desconocido. Intente nuevamente")):(this.flagError=!0,this.msjError="No se pudo obtener la informaci\xF3n del usuario.")}catch(e){console.error("Error de inicio de sesi\xF3n:",e),this.flagError=!0,e.code?this.msjError=this.auth.mostrarErrorLogin(e.code):this.msjError="Error de autenticaci\xF3n desconocido. Intente nuevamente"}finally{this.isLoading=!1}})}toggleUserList(){this.userListVisible=!this.userListVisible}onUserClick(e){this.accesoRapido(e.id),console.log("Usuario seleccionado:",e.name)}accesoRapido(e){switch(e){case 1:this.email="peheso2642@inikale.com",this.password="123456";break;case 2:this.email="foxiwap520@lineacr.com",this.password="123456";break;case 3:this.email="pofexa3710@opposir.com",this.password="123456";break;case 4:this.email="kinok45388@opposir.com",this.password="123456";break;case 5:this.email="wisoxi6398@lineacr.com",this.password="123456";break;case 6:this.email="wetowa4913@operades.com",this.password="123456";break;default:console.log("N\xFAmero de ingreso r\xE1pido no v\xE1lido")}}static \u0275fac=function(n){return new(n||t)(G(Or),G(Lt))};static \u0275cmp=He({type:t,selectors:[["app-login"]],standalone:!0,features:[Ke],decls:14,vars:4,consts:[[1,"login-container"],[1,"login-box"],["class","spinner-container",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"fav-button-container"],[1,"fav-button",3,"click"],["alt","Perfil",1,"fav-button-img",3,"src"],["class","user-list",4,"ngIf"],[1,"spinner-container"],[1,"spinner"],[3,"ngSubmit"],[1,"form-group"],["id","email","name","email","type","email","required","","placeholder","Usuario",3,"ngModelChange","ngModel"],["id","password","name","password","type","password","required","","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],["type","submit",1,"btn"],["href","/registro"],["class","error-message",4,"ngIf"],[1,"error-message"],[1,"user-list"],["class","user-item",4,"ngFor","ngForOf"],[1,"user-item"],["alt","Usuario",1,"user-img",3,"click","src"]],template:function(n,r){n&1&&(ee(0,"app-header"),I(1,"body")(2,"div",0)(3,"div",1)(4,"h1"),P(5,"Login"),E(),I(6,"p"),P(7,"\xA1Ingresa tus credenciales para acceder al sistema!"),E(),Q(8,Tz,2,0,"div",2)(9,Az,12,3,"form",3),E()(),I(10,"div",4)(11,"button",5),ie("click",function(){return r.toggleUserList()}),ee(12,"img",6),E(),Q(13,Rz,2,1,"div",7),E()()),n&2&&(k(8),U("ngIf",r.isLoading),k(),U("ngIf",!r.isLoading),k(3),U("src",r.userProfileImageUrl,co),k(),U("ngIf",r.userListVisible))},dependencies:[Po,Ro,Qr,Ao,xo,xi,Ab,Sb,jt,$a,Qt,mn],styles:["body[_ngcontent-%COMP%]{background-color:#f0f4f8;font-family:Arial,sans-serif;display:flex;justify-content:center;align-items:center;height:100vh;margin:0}.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:20px;border-radius:10px;box-shadow:0 4px 30px #0000001a;background-color:#fff;max-width:400px;width:100%}.login-box[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{text-align:center;color:#333}p[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;transition:border-color .3s}input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-radius:5px;background-color:#007bff;color:#fff;font-size:16px;cursor:pointer;margin:5px 0;transition:background-color .3s}.btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.error-message[_ngcontent-%COMP%]{color:red;text-align:center;margin-top:10px}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px 0}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#007bff;border-radius:50%;width:30px;height:30px;animation:_ngcontent-%COMP%_spin 1s linear infinite}.fav-button-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:9999}.fav-button[_ngcontent-%COMP%]{background-color:#007bff;border:none;border-radius:50%;width:60px;height:60px;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 4px 8px #0003;transition:background-color .3s ease}.fav-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.fav-button-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.user-list[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;gap:10px;position:absolute;bottom:70px;right:0}.user-item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.user-img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;cursor:pointer;transition:transform .3s}.user-img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var Xm=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=He({type:t,selectors:[["app-error"]],standalone:!0,features:[Ke],decls:2,vars:0,template:function(n,r){n&1&&(I(0,"p"),P(1,"error works!"),E())}})};var Uc=class t{constructor(e){this.firestore=e}fecha;usuarioColleccion;usuarios;usuarioLogueadoSubject=new st(null);usuarioLogueado$=this.usuarioLogueadoSubject.asObservable();tiempoExpiracionSesion=30*60*1e3;usuarioLocalStorageKey="usuarioLogueado";getUsuarios(){let e=pn(this.firestore,"usuarios");return $n(e,{idField:"uid"}).pipe(pt(n=>console.log("Datos obtenidos de usuarios:",n)))}getEspecialistasPendientes(){let e=pn(this.firestore,"usuarios"),n=Hn(e,Ft("aceptado","==","pendiente"),Ft("tipoUsuario","==","especialista"));return $n(n,{idField:"id"})}actualizarEstadoEspecialista(e,n){return D(this,null,function*(){let r=Pc(this.firestore,"usuarios",e);try{(yield Qu(r)).exists()?(yield M1(r,{estado:n}),console.log(`Estado del especialista actualizado a: ${n}`)):console.error(`El documento con UID: ${e} no existe`)}catch(i){throw console.error(`Error al actualizar el estado del especialista con UID: ${e}`,i),i}})}getUsuariosPorTipo(e){let n=pn(this.firestore,"usuarios"),r=Hn(n,Ft("tipoUsuario","==",e));return nt(R1(r).then(i=>i.docs.map(o=>o.data())))}getPacientes(){let e=pn(this.firestore,"usuarios"),n=Hn(e,Ft("tipoUsuario","==","paciente"));return $n(n)}static \u0275fac=function(n){return new(n||t)(le(pr))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})};function Pz(t,e){t&1&&(I(0,"div"),P(1,"Este campo es obligatorio."),E())}function Mz(t,e){t&1&&(I(0,"div"),P(1,"El nombre debe tener menos de 20 caracteres."),E())}function Nz(t,e){t&1&&(I(0,"div"),P(1,"El nombre solo debe contener letras."),E())}function Oz(t,e){if(t&1&&(I(0,"div",32),Q(1,Pz,2,0,"div",25)(2,Mz,2,0,"div",25)(3,Nz,2,0,"div",25),E()),t&2){let n,r,i,o=Y(2);k(),U("ngIf",(n=o.registroEspecialistaForm.get("nombre"))==null||n.errors==null?null:n.errors.required),k(),U("ngIf",(r=o.registroEspecialistaForm.get("nombre"))==null||r.errors==null?null:r.errors.maxlength),k(),U("ngIf",(i=o.registroEspecialistaForm.get("nombre"))==null||i.errors==null?null:i.errors.pattern)}}function kz(t,e){t&1&&(I(0,"div"),P(1,"Este campo es obligatorio."),E())}function Fz(t,e){t&1&&(I(0,"div"),P(1,"El nombre debe tener menos de 20 caracteres."),E())}function Lz(t,e){t&1&&(I(0,"div"),P(1,"El nombre solo debe contener letras."),E())}function Vz(t,e){if(t&1&&(I(0,"div",32),Q(1,kz,2,0,"div",25)(2,Fz,2,0,"div",25)(3,Lz,2,0,"div",25),E()),t&2){let n,r,i,o=Y(2);k(),U("ngIf",(n=o.registroEspecialistaForm.get("apellido"))==null||n.errors==null?null:n.errors.required),k(),U("ngIf",(r=o.registroEspecialistaForm.get("apellido"))==null||r.errors==null?null:r.errors.maxlength),k(),U("ngIf",(i=o.registroEspecialistaForm.get("apellido"))==null||i.errors==null?null:i.errors.pattern)}}function Uz(t,e){t&1&&(I(0,"div",32),P(1," Este campo es obligatorio. "),E())}function jz(t,e){t&1&&(I(0,"div",32),P(1," El DNI debe ser un n\xFAmero v\xE1lido de 8 d\xEDgitos. "),E())}function Bz(t,e){t&1&&(I(0,"div",32),P(1," Este campo es obligatorio. "),E())}function $z(t,e){t&1&&(I(0,"div",32),P(1," Debe ser mayor de 18 y menor de 100 a\xF1os. "),E())}function Hz(t,e){if(t&1&&(I(0,"option",33),P(1),E()),t&2){let n=e.$implicit;U("value",n),k(),Vn(" ",n," ")}}function zz(t,e){if(t&1){let n=Ze();I(0,"li",36),P(1),I(2,"button",37),ie("click",function(){let i=Pe(n).index,o=Y(3);return Me(o.removerEspecialidadDelMedico(i))}),P(3," Eliminar "),E()()}if(t&2){let n=e.$implicit;k(),Vn(" ",n," ")}}function qz(t,e){if(t&1&&(I(0,"div")(1,"h3",34),P(2,"Especialidades del m\xE9dico:"),E(),I(3,"ul"),Q(4,zz,4,1,"li",35),E()()),t&2){let n=Y(2);k(4),U("ngForOf",n.especialidadesDelMedico)}}function Gz(t,e){t&1&&(I(0,"div",32),P(1," Debe seleccionar al menos una especialidad. "),E())}function Wz(t,e){t&1&&(I(0,"div",32),P(1," Este campo es obligatorio. "),ee(2,"br"),E())}function Kz(t,e){t&1&&(I(0,"div",32),P(1," Debe ser un email v\xE1lido. "),E())}function Qz(t,e){t&1&&(I(0,"div",32),P(1," Este campo es obligatorio. "),E())}function Yz(t,e){t&1&&(I(0,"div",32),P(1," La contrase\xF1a debe tener al menos 6 caracteres. "),E())}function Zz(t,e){t&1&&(I(0,"div",32),P(1," La imagen de perfil es obligatoria. "),E())}function Jz(t,e){if(t&1&&(I(0,"div",32),P(1),E()),t&2){let n=Y(2);k(),Vn(" ",n.msjError," ")}}function Xz(t,e){if(t&1){let n=Ze();I(0,"form",5),ie("ngSubmit",function(){Pe(n);let i=Y();return Me(i.onSubmit())}),I(1,"h2",6),P(2,"Registro de Especialista"),E(),I(3,"div",7)(4,"div",8)(5,"label",9),P(6,"Nombre:"),E(),ee(7,"input",10),Q(8,Oz,4,3,"div",4),E(),I(9,"div",8)(10,"label",11),P(11,"Apellido:"),E(),ee(12,"input",12),Q(13,Vz,4,3,"div",4),E()(),I(14,"div",7)(15,"div",8)(16,"label",13),P(17,"DNI:"),E(),ee(18,"input",14),Q(19,Uz,2,0,"div",4)(20,jz,2,0,"div",4),E(),I(21,"div",8)(22,"label",15),P(23,"Edad:"),E(),ee(24,"input",16),Q(25,Bz,2,0,"div",4)(26,$z,2,0,"div",4),E()(),I(27,"div",7)(28,"div",8)(29,"label",17),P(30,"Especialidad:"),E(),I(31,"select",18)(32,"option",19),P(33,"Selecciona una especialidad"),E(),Q(34,Hz,2,2,"option",20),E(),I(35,"button",21),ie("click",function(){Pe(n);let i=Y();return Me(i.agregarEspecialidadAlMedico())}),P(36," Agregar especialidad "),E()(),I(37,"div",8)(38,"label",22),P(39,"Nueva especialidad:"),E(),ee(40,"input",23),I(41,"button",24),ie("click",function(){Pe(n);let i=Y();return Me(i.agregarNuevaEspecialidad())}),P(42," A\xF1adir nueva especialidad "),E()()(),Q(43,qz,5,1,"div",25)(44,Gz,2,0,"div",4),I(45,"div",7)(46,"div",8)(47,"label",26),P(48,"Email:"),E(),ee(49,"input",27),Q(50,Wz,3,0,"div",4)(51,Kz,2,0,"div",4),E(),I(52,"div",8)(53,"label",28),P(54,"Contrase\xF1a:"),E(),ee(55,"input",29),Q(56,Qz,2,0,"div",4)(57,Yz,2,0,"div",4),E()(),I(58,"div",8)(59,"label"),P(60,"Imagen de perfil:"),E(),I(61,"input",30),ie("change",function(i){Pe(n);let o=Y();return Me(o.onFileSelect(i,1))}),E(),Q(62,Zz,2,0,"div",4),E(),Q(63,Jz,2,1,"div",4),I(64,"button",31),P(65,"Registrar Especialista"),E()()}if(t&2){let n,r,i,o,s,a,l,d,p,m,y=Y();U("formGroup",y.registroEspecialistaForm),k(8),U("ngIf",((n=y.registroEspecialistaForm.get("nombre"))==null?null:n.invalid)&&(((n=y.registroEspecialistaForm.get("nombre"))==null?null:n.touched)||y.submitted)),k(5),U("ngIf",((r=y.registroEspecialistaForm.get("apellido"))==null?null:r.invalid)&&(((r=y.registroEspecialistaForm.get("apellido"))==null?null:r.touched)||y.submitted)),k(6),U("ngIf",((i=y.registroEspecialistaForm.get("dni"))==null?null:i.invalid)&&(((i=y.registroEspecialistaForm.get("dni"))==null?null:i.touched)||y.submitted)),k(),U("ngIf",(o=y.registroEspecialistaForm.get("dni"))==null?null:o.hasError("pattern")),k(5),U("ngIf",((s=y.registroEspecialistaForm.get("edad"))==null?null:s.invalid)&&(((s=y.registroEspecialistaForm.get("edad"))==null?null:s.touched)||y.submitted)),k(),U("ngIf",((a=y.registroEspecialistaForm.get("edad"))==null?null:a.hasError("min"))||((a=y.registroEspecialistaForm.get("edad"))==null?null:a.hasError("max"))),k(8),U("ngForOf",y.especialidades),k(9),U("ngIf",y.especialidadesDelMedico.length>0),k(),U("ngIf",y.submitted&&y.especialidadesDelMedico.length===0),k(6),U("ngIf",((l=y.registroEspecialistaForm.get("email"))==null?null:l.invalid)&&(((l=y.registroEspecialistaForm.get("email"))==null?null:l.touched)||y.submitted)),k(),U("ngIf",(d=y.registroEspecialistaForm.get("email"))==null?null:d.hasError("email")),k(5),U("ngIf",((p=y.registroEspecialistaForm.get("password"))==null?null:p.invalid)&&(((p=y.registroEspecialistaForm.get("password"))==null?null:p.touched)||y.submitted)),k(),U("ngIf",(m=y.registroEspecialistaForm.get("password"))==null?null:m.hasError("minlength")),k(5),U("ngIf",y.submitted&&!y.imagenPerfil1),k(),U("ngIf",y.msjError)}}function eq(t,e){t&1&&(I(0,"div",38)(1,"div")(2,"p",39),P(3,".... Registrando Especialista ....."),E(),ee(4,"div",40),E()())}function tq(t,e){t&1&&(I(0,"div",41)(1,"p"),P(2,"\u{1F60A} Especialista dado de alta satisfactoriamente. \xA1Carga terminada! \u{1F60A}"),E()())}function nq(t,e){t&1&&(I(0,"p",32),P(1,"Por favor completa todos los campos obligatorios."),E())}var jc=class t{constructor(e,n,r){this.fb=e;this.authService=n;this.usuarioService=r;this.registroEspecialistaForm=this.fb.group({nombre:["",[se.required,se.maxLength(20),se.pattern(/^[a-zA-Z\s]+$/)]],apellido:["",[se.required,se.maxLength(20),se.pattern(/^[a-zA-Z\s]+$/)]],edad:["",[se.required,se.min(18),se.max(100)]],dni:["",[se.required,se.pattern(/^\d{8}$/)]],email:["",[se.required,se.email]],password:["",[se.required,se.minLength(6)]],imagenPerfil1:[null,se.required],especialidadSeleccionada:[null],nuevaEspecialidad:[""],estado:["pendiente"]})}registroEspecialistaForm;especialidades=["Cardiolog\xEDa","Dermatolog\xEDa","Neurolog\xEDa","Pediatr\xEDa","Ginecolog\xEDa","Oncolog\xEDa","Psiquiatr\xEDa","Traumatolog\xEDa","Oftalmolog\xEDa","Endocrinolog\xEDa"];especialidadesDelMedico=[];nuevaEspecialidad="";imagenPerfil1=null;isLoading=!1;completed=!1;submitted=!1;msjError="";especialistasPendientes=[];registrationCompleted=new Ue;ngOnInit(){this.obtenerEspecialistasPendientes()}obtenerEspecialistasPendientes(){this.usuarioService.getEspecialistasPendientes().subscribe(e=>{this.especialistasPendientes=e}),console.log("  obtenerEspecialistasPendientes")}actualizarEstadoEspecialista(e,n){this.usuarioService.actualizarEstadoEspecialista(e,n).then(()=>{this.obtenerEspecialistasPendientes()}).catch(r=>{console.error("Error al actualizar el estado del especialista:",r)}),console.log("funciona actualizarEstadoEspecialista")}agregarEspecialidadAlMedico(){let e=this.registroEspecialistaForm.get("especialidadSeleccionada")?.value;e&&!this.especialidadesDelMedico.includes(e)&&(this.especialidadesDelMedico.push(e),this.registroEspecialistaForm.get("especialidadSeleccionada")?.setValue(null))}agregarNuevaEspecialidad(){let e=this.registroEspecialistaForm.get("nuevaEspecialidad")?.value?.trim();e&&!this.especialidades.includes(e)?(this.especialidades.push(e),this.especialidadesDelMedico.push(e),this.registroEspecialistaForm.get("nuevaEspecialidad")?.setValue("")):e&&alert("La especialidad ya existe o el campo est\xE1 vac\xEDo.")}removerEspecialidadDelMedico(e){this.especialidadesDelMedico.splice(e,1)}onFileSelect(e,n){let r=e.target.files[0];r&&n===1&&(this.imagenPerfil1=r,this.registroEspecialistaForm.patchValue({imagenPerfil1:this.imagenPerfil1}),console.log(`Imagen de perfil ${n} seleccionada:`,r))}onSubmit(){this.submitted=!0,console.log("Formulario v\xE1lido:",this.registroEspecialistaForm.valid),console.log("Imagen de perfil cargada:",this.imagenPerfil1),console.log("Especialidades del m\xE9dico:",this.especialidadesDelMedico),this.registroEspecialistaForm.valid&&this.imagenPerfil1&&this.especialidadesDelMedico.length>0?(this.isLoading=!0,console.log(this.registroEspecialistaForm.value,this.imagenPerfil1),this.authService.subirImagen(this.imagenPerfil1,`perfil/${this.imagenPerfil1.name}`).then(e=>{setTimeout(()=>{let{nombre:n,apellido:r,edad:i,dni:o,email:s,password:a}=this.registroEspecialistaForm.value,l={nombre:n,apellido:r,edad:i,dni:o,email:s,password:a,tipoUsuario:"especialista",especialidades:this.especialidadesDelMedico,fotoPerfil1:e,estado:"pendiente"};this.authService.registrarUsuario(l,a).then(d=>{console.log("Especialista registrado con \xE9xito:",d),this.isLoading=!1,this.completed=!0,this.registrationCompleted.emit(),setTimeout(()=>{this.authService.logout()},2e3)}).catch(d=>{console.error("Error al registrar especialista:",d),this.msjError=d.message,this.isLoading=!1})},2e3)}).catch(e=>{console.error("Error al subir la imagen:",e),this.isLoading=!1})):console.log("Por favor, completa todos los campos.")}resetForm(){this.registroEspecialistaForm.reset(),this.imagenPerfil1=null,this.completed=!1,this.submitted=!1}static \u0275fac=function(n){return new(n||t)(G(Lc),G(Lt),G(Uc))};static \u0275cmp=He({type:t,selectors:[["app-registro-especialista"]],outputs:{registrationCompleted:"registrationCompleted"},standalone:!0,features:[Ke],decls:6,vars:4,consts:[[1,"altas-especialistas-container"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","spinner-container",4,"ngIf"],["class","confirmation-message",4,"ngIf"],["class","error-message",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"registro-especialista"],[1,"form-group-inline"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["for","apellido"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","dni"],["id","dni","type","text","formControlName","dni","required","",1,"form-control"],["for","edad"],["id","edad","type","number","formControlName","edad","required","",1,"form-control"],["for","especialidad"],["id","especialidad","formControlName","especialidadSeleccionada",1,"form-select"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary","btn-small",3,"click"],["for","nuevaEspecialidad"],["id","nuevaEspecialidad","type","text","formControlName","nuevaEspecialidad","placeholder","Ingresa una nueva especialidad",1,"form-control"],["type","button",1,"btn","btn-primary","btn-small","mt-2",3,"click"],[4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["type","file","required","",1,"form-control",3,"change"],["type","submit",1,"submit-btn"],[1,"error-message"],[3,"value"],[1,"titulo-especialidades"],["class","especialidad-item",4,"ngFor","ngForOf"],[1,"especialidad-item"],["type","button",1,"btn","btn-danger","btn-small","btn-compacto",3,"click"],[1,"spinner-container"],[1,"loading-message"],[1,"spinner"],[1,"confirmation-message"]],template:function(n,r){n&1&&(I(0,"body")(1,"div",0),Q(2,Xz,66,16,"form",1)(3,eq,5,0,"div",2)(4,tq,3,0,"div",3)(5,nq,2,0,"p",4),E()()),n&2&&(k(2),U("ngIf",!r.completed),k(),U("ngIf",r.isLoading),k(),U("ngIf",r.completed),k(),U("ngIf",r.submitted&&r.registroEspecialistaForm.invalid))},dependencies:[Vc,Ro,dP,fP,Qr,Hs,Ym,Ao,xo,xi,zs,qs,Po,jt,$a,Qt],styles:["registro[_ngcontent-%COMP%]   especialista[_ngcontent-%COMP%]   css[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Trebuchet MS;color:#54bab9}.registro-especialista[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;color:#54bab9;margin:10px 0;font-family:Arial,sans-serif;font-family:Trebuchet MS;font-weight:700;letter-spacing:.5px;background-color:#f0f0f0;padding:10px;border-radius:5px;box-shadow:0 2px 5px #0000001a}form[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:20px;border:1px solid #007bff;border-radius:8px;background-color:#f0f8ff;box-shadow:0 2px 10px #0003}div[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #007bff;border-radius:4px;background-color:#fff;box-sizing:border-box;transition:border-color .3s}input[type=text][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#28a745;outline:none}button[_ngcontent-%COMP%]{color:#fff;padding:10px;border:none;cursor:pointer;width:100%;transition:background-color .3s;box-shadow:0 1px #f0f7fa;background:linear-gradient(to bottom,#33bdef 5%,#019ad2);background-color:#33bdef;border-radius:6px;border:1px solid #057fd0;text-shadow:1px 2px 0px #5b6178}.btn-small[_ngcontent-%COMP%]{padding:4px 8px;font-size:.875rem;line-height:1.2;width:100%;text-align:center;margin:10px 0;display:block}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:active{background-color:#004494}input[type=file][_ngcontent-%COMP%]{padding:10px}.error-message[_ngcontent-%COMP%]{font-size:14px;color:#e74c3c;margin-top:5px}.error[_ngcontent-%COMP%]{color:red;font-size:.9em;margin-top:5px}.spinner-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffc;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999}.loading-message[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:10px;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out;text-align:center}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(255,255,255,.3);border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-left:6rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.confirmation-message[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#ffffffe6;padding:20px;border-radius:10px;box-shadow:0 4px 20px #0003;font-size:1.5rem;color:#333;text-align:center;z-index:9999}.altas-especialistas-container[_ngcontent-%COMP%]{width:100%;height:100vh;max-width:800px;margin:0 auto;padding:20px}.form-group-inline[_ngcontent-%COMP%]{display:flex;gap:15px}.form-group-inline[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-bottom:10px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}.submit-btn[_ngcontent-%COMP%]{width:40%;padding:10px;font-size:16px;font-weight:700;background-color:#007bff;color:#fff;border:none;cursor:pointer;margin-top:15px}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}*/[_ngcontent-%COMP%]   .close-modal[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:transparent;border:none;font-size:20px;color:#fff;cursor:pointer;z-index:1010}.close-modal[_ngcontent-%COMP%]:hover{color:red}.especialidad-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:2px 8px;font-size:.75em;width:auto;min-width:unset}.especialidad-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 6px;font-size:.9em}.btn-compacto[_ngcontent-%COMP%]{padding:2px 5px;font-size:.75em;width:auto}.titulo-especialidades[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:1.5em;color:#4a90e2;background-color:#f0f8ff;padding:8px 16px;border-radius:8px;text-align:center;border-left:4px solid #4A90E2;box-shadow:0 4px 6px #0000001a;margin-bottom:20px;letter-spacing:1px}"]})};function rq(t,e){t&1&&(I(0,"div"),P(1,"Este campo es obligatorio."),E())}function iq(t,e){t&1&&(I(0,"div"),P(1,"El nombre debe tener menos de 20 caracteres."),E())}function oq(t,e){t&1&&(I(0,"div"),P(1,"El nombre solo debe contener letras."),E())}function sq(t,e){if(t&1&&(I(0,"div",22),Q(1,rq,2,0,"div",23)(2,iq,2,0,"div",23)(3,oq,2,0,"div",23),E()),t&2){let n,r,i,o=Y(2);k(),U("ngIf",(n=o.registroAdministradorForm.get("nombre"))==null||n.errors==null?null:n.errors.required),k(),U("ngIf",(r=o.registroAdministradorForm.get("nombre"))==null||r.errors==null?null:r.errors.maxlength),k(),U("ngIf",(i=o.registroAdministradorForm.get("nombre"))==null||i.errors==null?null:i.errors.pattern)}}function aq(t,e){t&1&&(I(0,"div"),P(1,"Este campo es obligatorio."),E())}function cq(t,e){t&1&&(I(0,"div"),P(1,"El apellido debe tener menos de 20 caracteres."),E())}function lq(t,e){t&1&&(I(0,"div"),P(1,"El apellido solo debe contener letras."),E())}function uq(t,e){if(t&1&&(I(0,"div",22),Q(1,aq,2,0,"div",23)(2,cq,2,0,"div",23)(3,lq,2,0,"div",23),E()),t&2){let n,r,i,o=Y(2);k(),U("ngIf",(n=o.registroAdministradorForm.get("apellido"))==null||n.errors==null?null:n.errors.required),k(),U("ngIf",(r=o.registroAdministradorForm.get("apellido"))==null||r.errors==null?null:r.errors.maxlength),k(),U("ngIf",(i=o.registroAdministradorForm.get("apellido"))==null||i.errors==null?null:i.errors.pattern)}}function dq(t,e){t&1&&(I(0,"div",22),P(1," Este campo es obligatorio. "),E())}function hq(t,e){t&1&&(I(0,"div",22),P(1," Debe ser un email v\xE1lido. "),E())}function fq(t,e){t&1&&(I(0,"div",22),P(1," Este campo es obligatorio. "),E())}function pq(t,e){t&1&&(I(0,"div",22),P(1," Debe ser mayor de 0 y menor de 100 a\xF1os. "),E())}function mq(t,e){t&1&&(I(0,"div",22),P(1," Este campo es obligatorio. "),E())}function gq(t,e){t&1&&(I(0,"div",22),P(1," El DNI debe ser un n\xFAmero v\xE1lido de 8 d\xEDgitos. "),E())}function vq(t,e){t&1&&(I(0,"div",22),P(1," Este campo es obligatorio. "),E())}function yq(t,e){t&1&&(I(0,"div",22),P(1," La contrase\xF1a debe tener al menos 6 caracteres. "),E())}function _q(t,e){t&1&&(I(0,"div",22),P(1," La imagen de perfil 1 es obligatoria. "),E())}function wq(t,e){if(t&1&&(I(0,"div",22),P(1),E()),t&2){let n=Y(2);k(),Vn(" ",n.msjError," ")}}function Eq(t,e){if(t&1){let n=Ze();I(0,"form",4),ie("ngSubmit",function(){Pe(n);let i=Y();return Me(i.onSubmit())}),I(1,"h2",5),P(2,"Registro de Administrador"),E(),I(3,"div",6)(4,"div",7)(5,"label",8),P(6,"Nombre:"),E(),ee(7,"input",9),Q(8,sq,4,3,"div",3),E(),I(9,"div",7)(10,"label",10),P(11,"Apellido:"),E(),ee(12,"input",11),Q(13,uq,4,3,"div",3),E()(),I(14,"div",7)(15,"label",12),P(16,"Email:"),E(),ee(17,"input",13),Q(18,dq,2,0,"div",3)(19,hq,2,0,"div",3),E(),I(20,"div",6)(21,"div",7)(22,"label",14),P(23,"Edad:"),E(),ee(24,"input",15),Q(25,fq,2,0,"div",3)(26,pq,2,0,"div",3),E(),I(27,"div",7)(28,"label",16),P(29,"DNI:"),E(),ee(30,"input",17),Q(31,mq,2,0,"div",3)(32,gq,2,0,"div",3),E()(),I(33,"div",6)(34,"div",7)(35,"label",18),P(36,"Contrase\xF1a:"),E(),ee(37,"input",19),Q(38,vq,2,0,"div",3)(39,yq,2,0,"div",3),E()(),I(40,"div",7)(41,"label"),P(42,"Imagen de perfil 1:"),E(),I(43,"input",20),ie("change",function(i){Pe(n);let o=Y();return Me(o.onFileSelect(i,1))}),E(),Q(44,_q,2,0,"div",3),E(),Q(45,wq,2,1,"div",3),I(46,"button",21),P(47,"Registrar Administrador"),E()()}if(t&2){let n,r,i,o,s,a,l,d,p,m,y=Y();U("formGroup",y.registroAdministradorForm),k(8),U("ngIf",((n=y.registroAdministradorForm.get("nombre"))==null?null:n.invalid)&&(((n=y.registroAdministradorForm.get("nombre"))==null?null:n.touched)||y.submitted)),k(5),U("ngIf",((r=y.registroAdministradorForm.get("apellido"))==null?null:r.invalid)&&(((r=y.registroAdministradorForm.get("apellido"))==null?null:r.touched)||y.submitted)),k(5),U("ngIf",((i=y.registroAdministradorForm.get("email"))==null?null:i.invalid)&&(((i=y.registroAdministradorForm.get("email"))==null?null:i.touched)||y.submitted)),k(),U("ngIf",(o=y.registroAdministradorForm.get("email"))==null?null:o.hasError("email")),k(6),U("ngIf",((s=y.registroAdministradorForm.get("edad"))==null?null:s.invalid)&&(((s=y.registroAdministradorForm.get("edad"))==null?null:s.touched)||y.submitted)),k(),U("ngIf",((a=y.registroAdministradorForm.get("edad"))==null?null:a.hasError("min"))||((a=y.registroAdministradorForm.get("edad"))==null?null:a.hasError("max"))),k(5),U("ngIf",((l=y.registroAdministradorForm.get("dni"))==null?null:l.invalid)&&(((l=y.registroAdministradorForm.get("dni"))==null?null:l.touched)||y.submitted)),k(),U("ngIf",(d=y.registroAdministradorForm.get("dni"))==null?null:d.hasError("pattern")),k(6),U("ngIf",((p=y.registroAdministradorForm.get("password"))==null?null:p.invalid)&&(((p=y.registroAdministradorForm.get("password"))==null?null:p.touched)||y.submitted)),k(),U("ngIf",(m=y.registroAdministradorForm.get("password"))==null?null:m.hasError("minlength")),k(5),U("ngIf",y.submitted&&!y.imagenPerfil1),k(),U("ngIf",y.msjError)}}function bq(t,e){t&1&&(I(0,"div",24)(1,"div")(2,"p",25),P(3,".... Registrando Administrador ....."),E(),ee(4,"div",26),E()())}function Iq(t,e){t&1&&(I(0,"p",22),P(1,"Por favor completa todos los campos obligatorios."),E())}var Bc=class t{constructor(e,n){this.fb=e;this.authService=n;this.registroAdministradorForm=this.fb.group({nombre:["",[se.required,se.maxLength(20),se.pattern(/^[a-zA-Z\s]+$/)]],apellido:["",[se.required,se.maxLength(20),se.pattern(/^[a-zA-Z\s]+$/)]],edad:["",[se.required,se.min(0),se.max(100)]],dni:["",[se.required,se.pattern(/^\d{8}$/)]],email:["",[se.required,se.email]],password:["",[se.required,se.minLength(6)]],imagenPerfil1:[null,se.required]})}mostrarHeader=!0;registroAdministradorForm;imagenPerfil1=null;isLoading=!1;completed=!1;submitted=!1;msjError="";flagError=!1;registrationCompleted=new Ue;ngOnInit(){}onFileSelect(e,n){let r=e.target.files[0];r&&n===1&&(this.imagenPerfil1=r,this.registroAdministradorForm.patchValue({imagenPerfil1:this.imagenPerfil1}),console.log(`Imagen de perfil ${n} seleccionada:`,r))}onSubmit(){this.submitted=!0,console.log("Formulario v\xE1lido:",this.registroAdministradorForm.valid),console.log("Imagen de perfil cargada:",this.imagenPerfil1),this.registroAdministradorForm.valid&&this.imagenPerfil1?(this.isLoading=!0,console.log(this.registroAdministradorForm.value,this.imagenPerfil1),this.authService.subirImagen(this.imagenPerfil1,`perfil/${this.imagenPerfil1.name}`).then(e=>{setTimeout(()=>{let{nombre:n,apellido:r,edad:i,dni:o,email:s,password:a}=this.registroAdministradorForm.value,l={nombre:n,apellido:r,edad:i,dni:o,email:s,password:a,tipoUsuario:"administrador",fotoPerfil1:e};this.authService.registrarUsuario(l,a).then(d=>{console.log("Administrador registrado con \xE9xito:",d),this.isLoading=!1,this.completed=!0,this.registrationCompleted.emit(),setTimeout(()=>{this.authService.logout()},2e3)}).catch(d=>{console.error("Error al registrar administrador:",d),this.msjError=d.message,this.isLoading=!1})},2e3)}).catch(e=>{console.error("Error al subir la imagen:",e),this.isLoading=!1})):console.log("Por favor, completa todos los campos.")}static \u0275fac=function(n){return new(n||t)(G(Lc),G(Lt))};static \u0275cmp=He({type:t,selectors:[["app-registro-administrador"]],inputs:{mostrarHeader:"mostrarHeader"},outputs:{registrationCompleted:"registrationCompleted"},standalone:!0,features:[Ke],decls:4,vars:3,consts:[[1,"altas-administrador-container"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","spinner-container",4,"ngIf"],["class","error-message",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"registro-administrador"],[1,"form-group-inline"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["for","apellido"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","edad"],["id","edad","type","number","formControlName","edad","required","",1,"form-control"],["for","dni"],["id","dni","type","text","formControlName","dni","required","",1,"form-control"],["for","password"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["type","file","required","",1,"form-control",3,"change"],["type","submit",1,"submit-btn"],[1,"error-message"],[4,"ngIf"],[1,"spinner-container"],[1,"loading-message"],[1,"spinner"]],template:function(n,r){n&1&&(I(0,"div",0),Q(1,Eq,48,13,"form",1)(2,bq,5,0,"div",2)(3,Iq,2,0,"p",3),E()),n&2&&(k(),U("ngIf",!r.completed),k(),U("ngIf",r.isLoading),k(),U("ngIf",r.submitted&&r.registroAdministradorForm.invalid))},dependencies:[jt,Qt,Vc,Ro,Qr,Hs,Ao,xo,xi,zs,qs,Po],styles:["h2[_ngcontent-%COMP%]{font-family:Trebuchet MS;color:#54bab9}.registro-administrador[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;color:#54bab9;margin:10px 0;font-family:Arial,sans-serif;font-family:Trebuchet MS;font-weight:700;letter-spacing:.5px;background-color:#f0f0f0;padding:10px;border-radius:5px;box-shadow:0 2px 5px #0000001a}form[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:20px;border:1px solid #007bff;border-radius:8px;background-color:#f0f8ff;box-shadow:0 2px 10px #0003}div[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #007bff;border-radius:4px;background-color:#fff;box-sizing:border-box;transition:border-color .3s}input[type=text][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#28a745;outline:none}button[_ngcontent-%COMP%]{color:#fff;padding:10px;border:none;cursor:pointer;width:60%;transition:background-color .3s;box-shadow:0 1px #f0f7fa;background-color:#33bdef;background:linear-gradient(to bottom,#33bdef 5%,#019ad2);border-radius:6px;border:1px solid #057fd0;text-shadow:1px 2px 0px #5b6178}button[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#019ad2 5%,#33bdef);background-color:#019ad2}button[_ngcontent-%COMP%]:active{background-color:#004494}.error-message[_ngcontent-%COMP%]{font-size:14px;color:red;margin-top:5px}.error[_ngcontent-%COMP%]{color:red;font-size:.9em;margin-top:5px}.spinner-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffc;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999}.loading-message[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:10px;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out;text-align:center;margin-right:10px}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(255,255,255,.3);border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-left:6rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.confirmation-message[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#ffffffe6;padding:20px;border-radius:10px;box-shadow:0 4px 20px #0003;font-size:1.5rem;color:#333;text-align:center;z-index:1200}.altas-administrador-container[_ngcontent-%COMP%]{width:100%;height:100vh;max-width:800px;margin:0 auto;padding:20px}.form-group-inline[_ngcontent-%COMP%]{display:flex;gap:15px}.form-group-inline[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-bottom:10px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}.submit-btn[_ngcontent-%COMP%]{width:30%;padding:10px;font-size:16px;font-weight:700;background-color:#007bff;color:#fff;border:none;cursor:pointer;margin-top:15px}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.close-modal[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:transparent;border:none;font-size:20px;color:#fff;cursor:pointer;z-index:1010}.close-modal[_ngcontent-%COMP%]:hover{color:red}"]})};var Cq=new te("recaptcha-language"),Dq=new te("recaptcha-base-url"),Tq=new te("recaptcha-nonce-tag"),Sq=new te("recaptcha-settings"),Aq=new te("recaptcha-v3-site-key"),xq=new te("recaptcha-loader-options");function Rq(t,e,n,{url:r,lang:i,nonce:o}={}){window.ng2recaptchaloaded=()=>{n(grecaptcha)};let s=document.createElement("script");s.innerHTML="";let{url:a,nonce:l}=e(new URL(r||"https://www.google.com/recaptcha/api.js"));a.searchParams.set("render",t==="explicit"?t:t.key),a.searchParams.set("onload","ng2recaptchaloaded"),a.searchParams.set("trustedtypes","true"),i&&a.searchParams.set("hl",i),s.src=a.href;let d=l||o;d&&s.setAttribute("nonce",d),s.async=!0,s.defer=!0,document.head.appendChild(s)}function Pq({v3SiteKey:t,onBeforeLoad:e,onLoaded:n}){let r=t?{key:t}:"explicit";gP.loadScript(r,e,n)}var gP={loadScript:Rq,newLoadScript:Pq};function Mq(t){return t.asObservable().pipe(un(e=>e!==null))}var vP=(()=>{class t{static{this.ready=null}constructor(n,r,i,o,s,a){this.platformId=n,this.language=r,this.baseUrl=i,this.nonce=o,this.v3SiteKey=s,this.options=a;let l=this.init();this.ready=l?Mq(l):pe()}init(){if(t.ready)return t.ready;if(!LT(this.platformId))return;let n=new st(null);return t.ready=n,gP.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:r=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(r);let i=new URL(this.baseUrl??r);return this.language&&i.searchParams.set("hl",this.language),{url:i,nonce:this.nonce}},onLoaded:r=>{let i=r;this.options?.onLoaded&&(i=this.options.onLoaded(r)),n.next(i)}}),n}static{this.\u0275fac=function(r){return new(r||t)(le(Pr),le(Cq,8),le(Dq,8),le(Tq,8),le(Aq,8),le(xq,8))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac})}}return t})(),Nq=0,yP=(()=>{class t{constructor(n,r,i,o){this.elementRef=n,this.loader=r,this.zone=i,this.id=`ngrecaptcha-${Nq++}`,this.errorMode="default",this.resolved=new Ue,this.error=new Ue,this.errored=new Ue,o&&(this.siteKey=o.siteKey,this.theme=o.theme,this.type=o.type,this.size=o.size,this.badge=o.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(n=>{n!=null&&n.render instanceof Function&&(this.grecaptcha=n,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){this.size==="invisible"&&(this.widget!=null?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){this.widget!=null&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return this.widget!=null?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(n){this.error.emit(n),this.errored.emit(n)}captchaResponseCallback(n){this.resolved.emit(n)}grecaptchaReset(){this.widget!=null&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){let n={badge:this.badge,callback:r=>{this.zone.run(()=>this.captchaResponseCallback(r))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};this.errorMode==="handled"&&(n["error-callback"]=(...r)=>{this.zone.run(()=>this.onError(r))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,n),this.executeRequested===!0&&(this.executeRequested=!1,this.execute())}static{this.\u0275fac=function(r){return new(r||t)(G(on),G(vP),G(je),G(Sq,8))}}static{this.\u0275cmp=He({type:t,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(r,i){r&2&&ja("id",i.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return t})(),Oq=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ir({type:t})}static{this.\u0275inj=rr({})}}return t})(),_P=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ir({type:t})}static{this.\u0275inj=rr({providers:[vP],imports:[Oq]})}}return t})();function Fq(t,e){t&1&&(I(0,"div"),P(1,"Este campo es obligatorio."),E())}function Lq(t,e){t&1&&(I(0,"div"),P(1,"El nombre debe tener menos de 20 caracteres."),E())}function Vq(t,e){t&1&&(I(0,"div"),P(1,"El nombre solo debe contener letras."),E())}function Uq(t,e){if(t&1&&(I(0,"div",26),Q(1,Fq,2,0,"div",22)(2,Lq,2,0,"div",22)(3,Vq,2,0,"div",22),E()),t&2){let n,r,i,o=Y(2);k(),U("ngIf",(n=o.registroPacienteForm.get("nombre"))==null||n.errors==null?null:n.errors.required),k(),U("ngIf",(r=o.registroPacienteForm.get("nombre"))==null||r.errors==null?null:r.errors.maxlength),k(),U("ngIf",(i=o.registroPacienteForm.get("nombre"))==null||i.errors==null?null:i.errors.pattern)}}function jq(t,e){t&1&&(I(0,"div"),P(1,"Este campo es obligatorio."),E())}function Bq(t,e){t&1&&(I(0,"div"),P(1,"El apellido debe tener menos de 20 caracteres."),E())}function $q(t,e){t&1&&(I(0,"div"),P(1,"El apellido solo debe contener letras."),E())}function Hq(t,e){if(t&1&&(I(0,"div",26),Q(1,jq,2,0,"div",22)(2,Bq,2,0,"div",22)(3,$q,2,0,"div",22),E()),t&2){let n,r,i,o=Y(2);k(),U("ngIf",(n=o.registroPacienteForm.get("apellido"))==null||n.errors==null?null:n.errors.required),k(),U("ngIf",(r=o.registroPacienteForm.get("apellido"))==null||r.errors==null?null:r.errors.maxlength),k(),U("ngIf",(i=o.registroPacienteForm.get("apellido"))==null||i.errors==null?null:i.errors.pattern)}}function zq(t,e){t&1&&(I(0,"div",26),P(1," Este campo es obligatorio. "),E())}function qq(t,e){t&1&&(I(0,"div",26),P(1," Debe ser un email v\xE1lido. "),E())}function Gq(t,e){t&1&&(I(0,"div",26),P(1," Este campo es obligatorio. "),E())}function Wq(t,e){t&1&&(I(0,"div",26),P(1," Debe ser mayor de 0 y menor de 100 a\xF1os. "),E())}function Kq(t,e){t&1&&(I(0,"div",26),P(1," Este campo es obligatorio. "),E())}function Qq(t,e){t&1&&(I(0,"div",26),P(1," El DNI debe ser un n\xFAmero v\xE1lido de 8 d\xEDgitos. "),E())}function Yq(t,e){t&1&&(I(0,"div",26),P(1," Este campo es obligatorio. "),E())}function Zq(t,e){t&1&&(I(0,"div",26),P(1," La contrase\xF1a debe tener al menos 6 caracteres. "),E())}function Jq(t,e){t&1&&(I(0,"div",26),P(1," Este campo es obligatorio. "),E())}function Xq(t,e){t&1&&(I(0,"div"),P(1,"La obra social debe tener menos de 20 caracteres."),E())}function e6(t,e){t&1&&(I(0,"div",26),P(1," La imagen de perfil 1 es obligatoria. "),E())}function t6(t,e){t&1&&(I(0,"div",26),P(1," La imagen de perfil 2 es obligatoria. "),E())}function n6(t,e){if(t&1&&(I(0,"div",26),P(1),E()),t&2){let n=Y(2);k(),Vn(" ",n.msjError," ")}}function r6(t,e){if(t&1){let n=Ze();I(0,"form",4),ie("ngSubmit",function(){Pe(n);let i=Y();return Me(i.onSubmit())}),I(1,"h2",5),P(2,"Registro de Paciente"),E(),I(3,"div",6)(4,"div",7)(5,"label",8),P(6,"Nombre:"),E(),ee(7,"input",9),Q(8,Uq,4,3,"div",3),E(),I(9,"div",7)(10,"label",10),P(11,"Apellido:"),E(),ee(12,"input",11),Q(13,Hq,4,3,"div",3),E()(),I(14,"div",7)(15,"label",12),P(16,"Email:"),E(),ee(17,"input",13),Q(18,zq,2,0,"div",3)(19,qq,2,0,"div",3),E(),I(20,"div",6)(21,"div",7)(22,"label",14),P(23,"Edad:"),E(),ee(24,"input",15),Q(25,Gq,2,0,"div",3)(26,Wq,2,0,"div",3),E(),I(27,"div",7)(28,"label",16),P(29,"DNI:"),E(),ee(30,"input",17),Q(31,Kq,2,0,"div",3)(32,Qq,2,0,"div",3),E()(),I(33,"div",6)(34,"div",7)(35,"label",18),P(36,"Contrase\xF1a:"),E(),ee(37,"input",19),Q(38,Yq,2,0,"div",3)(39,Zq,2,0,"div",3),E(),I(40,"div",7)(41,"label",20),P(42,"Obra Social:"),E(),ee(43,"input",21),Q(44,Jq,2,0,"div",3)(45,Xq,2,0,"div",22),E()(),I(46,"div",7)(47,"label"),P(48,"Imagen de perfil 1:"),E(),I(49,"input",23),ie("change",function(i){Pe(n);let o=Y();return Me(o.onFileSelect(i,1))}),E(),Q(50,e6,2,0,"div",3),E(),I(51,"div",7)(52,"label"),P(53,"Imagen de perfil 2:"),E(),I(54,"input",23),ie("change",function(i){Pe(n);let o=Y();return Me(o.onFileSelect(i,2))}),E(),Q(55,t6,2,0,"div",3),E(),Q(56,n6,2,1,"div",3),I(57,"re-captcha",24),ie("resolved",function(i){Pe(n);let o=Y();return Me(o.onCaptchaResolved(i))}),E(),I(58,"button",25),P(59,"Registrar Paciente"),E()()}if(t&2){let n,r,i,o,s,a,l,d,p,m,y,b,A=Y();U("formGroup",A.registroPacienteForm),k(8),U("ngIf",((n=A.registroPacienteForm.get("nombre"))==null?null:n.invalid)&&(((n=A.registroPacienteForm.get("nombre"))==null?null:n.touched)||A.submitted)),k(5),U("ngIf",((r=A.registroPacienteForm.get("apellido"))==null?null:r.invalid)&&(((r=A.registroPacienteForm.get("apellido"))==null?null:r.touched)||A.submitted)),k(5),U("ngIf",((i=A.registroPacienteForm.get("email"))==null?null:i.invalid)&&(((i=A.registroPacienteForm.get("email"))==null?null:i.touched)||A.submitted)),k(),U("ngIf",(o=A.registroPacienteForm.get("email"))==null?null:o.hasError("email")),k(6),U("ngIf",((s=A.registroPacienteForm.get("edad"))==null?null:s.invalid)&&(((s=A.registroPacienteForm.get("edad"))==null?null:s.touched)||A.submitted)),k(),U("ngIf",((a=A.registroPacienteForm.get("edad"))==null?null:a.hasError("min"))||((a=A.registroPacienteForm.get("edad"))==null?null:a.hasError("max"))),k(5),U("ngIf",((l=A.registroPacienteForm.get("dni"))==null?null:l.invalid)&&(((l=A.registroPacienteForm.get("dni"))==null?null:l.touched)||A.submitted)),k(),U("ngIf",(d=A.registroPacienteForm.get("dni"))==null?null:d.hasError("pattern")),k(6),U("ngIf",((p=A.registroPacienteForm.get("password"))==null?null:p.invalid)&&(((p=A.registroPacienteForm.get("password"))==null?null:p.touched)||A.submitted)),k(),U("ngIf",(m=A.registroPacienteForm.get("password"))==null?null:m.hasError("minlength")),k(5),U("ngIf",((y=A.registroPacienteForm.get("obraSocial"))==null?null:y.invalid)&&(((y=A.registroPacienteForm.get("obraSocial"))==null?null:y.touched)||A.submitted)),k(),U("ngIf",(b=A.registroPacienteForm.get("obraSocial"))==null||b.errors==null?null:b.errors.maxlength),k(5),U("ngIf",A.submitted&&!A.imagenPerfil1),k(5),U("ngIf",A.submitted&&!A.imagenPerfil2),k(),U("ngIf",A.msjError),k(),U("siteKey","6LcLYYAqAAAAACyoV42nKfn-mCliBr_R_Jp4t7_m"),k(),U("disabled",!A.captchaResolved())}}function i6(t,e){t&1&&(I(0,"div",27)(1,"div")(2,"p",28),P(3,".... Registrando Paciente ....."),E(),ee(4,"div",29),E()())}function o6(t,e){t&1&&(I(0,"p",26),P(1,"Por favor completa todos los campos obligatorios."),E())}var $c=class t{constructor(e,n){this.fb=e;this.authService=n;this.registroPacienteForm=this.fb.group({nombre:["",[se.required,se.maxLength(20),se.pattern(/^[a-zA-Z\s]+$/)]],apellido:["",[se.required,se.maxLength(20),se.pattern(/^[a-zA-Z\s]+$/)]],edad:["",[se.required,se.min(0),se.max(100)]],dni:["",[se.required,se.pattern(/^\d{8}$/)]],email:["",[se.required,se.email]],password:["",[se.required,se.minLength(6)]],obraSocial:["",[se.required,se.maxLength(20)]],imagenPerfil1:[null,se.required],imagenPerfil2:[null,se.required]})}registroPacienteForm;imagenPerfil1=null;imagenPerfil2=null;isLoading=!1;completed=!1;submitted=!1;msjError="";flagError=!1;captchaResolved=lo(!1);registrationCompleted=new Ue;ngOnInit(){}onCaptchaResolved(e){e?this.captchaResolved.set(!0):this.captchaResolved.set(!1)}onFileSelect(e,n){let r=e.target.files[0];r&&(n===1?(this.imagenPerfil1=r,this.registroPacienteForm.patchValue({imagenPerfil1:this.imagenPerfil1})):n===2&&(this.imagenPerfil2=r,this.registroPacienteForm.patchValue({imagenPerfil2:this.imagenPerfil2})),console.log(`Imagen de perfil ${n} seleccionada:`,r))}onSubmit(){if(this.submitted=!0,!this.captchaResolved()){console.log("Por favor, resuelve el captcha.");return}this.registroPacienteForm.valid&&this.imagenPerfil1&&this.imagenPerfil2?(this.isLoading=!0,console.log(this.registroPacienteForm.value,this.imagenPerfil1,this.imagenPerfil2),Promise.all([this.authService.subirImagen(this.imagenPerfil1,`perfil/${this.imagenPerfil1.name}`),this.authService.subirImagen(this.imagenPerfil2,`perfil/${this.imagenPerfil2.name}`)]).then(([e,n])=>{setTimeout(()=>{let{nombre:r,apellido:i,edad:o,dni:s,email:a,password:l,obraSocial:d}=this.registroPacienteForm.value,p={nombre:r,apellido:i,edad:o,dni:s,email:a,password:l,tipoUsuario:"paciente",obraSocial:d,fotoPerfil1:e,fotoPerfil2:n};this.authService.registrarUsuario(p,l).then(m=>{console.log("Usuario registrado con \xE9xito:",m),this.isLoading=!1,this.completed=!0,console.log("Registro exitoso"),this.registrationCompleted.emit(),setTimeout(()=>{this.authService.logout()},2e3)}).catch(m=>{console.error("Error al registrar usuario:",m),this.msjError=m.message,this.isLoading=!1})},2e3)}).catch(e=>{console.error("Error al subir las im\xE1genes:",e),this.isLoading=!1})):console.log("Por favor, completa todos los campos.")}resetForm(){this.registroPacienteForm.reset(),this.imagenPerfil1=null,this.imagenPerfil2=null,this.completed=!1,this.submitted=!1}static \u0275fac=function(n){return new(n||t)(G(Lc),G(Lt))};static \u0275cmp=He({type:t,selectors:[["app-registro-paciente"]],outputs:{registrationCompleted:"registrationCompleted"},standalone:!0,features:[Ke],decls:4,vars:3,consts:[[1,"altas-pacientes-container"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","spinner-container",4,"ngIf"],["class","error-message",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"registro-paciente"],[1,"form-group-inline"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["for","apellido"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","edad"],["id","edad","type","number","formControlName","edad","required","",1,"form-control"],["for","dni"],["id","dni","type","text","formControlName","dni","required","",1,"form-control"],["for","password"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["for","obraSocial"],["id","obraSocial","type","text","formControlName","obraSocial","required","",1,"form-control"],[4,"ngIf"],["type","file","required","",1,"form-control",3,"change"],[3,"resolved","siteKey"],["type","submit",1,"submit-btn",3,"disabled"],[1,"error-message"],[1,"spinner-container"],[1,"loading-message"],[1,"spinner"]],template:function(n,r){n&1&&(I(0,"div",0),Q(1,r6,60,18,"form",1)(2,i6,5,0,"div",2)(3,o6,2,0,"p",3),E()),n&2&&(k(),U("ngIf",!r.completed),k(),U("ngIf",r.isLoading),k(),U("ngIf",r.submitted&&r.registroPacienteForm.invalid))},dependencies:[jt,Qt,Vc,Ro,Qr,Hs,Ao,xo,xi,zs,qs,Po,_P,yP],styles:["body[_ngcontent-%COMP%]{background-color:#3292ff}h2[_ngcontent-%COMP%]{font-family:Trebuchet MS;color:#54bab9}.registro-paciente[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;color:#54bab9;margin:10px 0;font-family:Arial,sans-serif;font-family:Trebuchet MS;font-weight:700;letter-spacing:.5px;background-color:#f0f0f0;padding:10px;border-radius:5px;box-shadow:0 2px 5px #0000001a}form[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:20px;border:1px solid #007bff;border-radius:8px;background-color:#f0f8ff;box-shadow:0 2px 10px #0003}div[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #007bff;border-radius:4px;background-color:#fff;box-sizing:border-box;transition:border-color .3s}input[type=text][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#28a745;outline:none}button[_ngcontent-%COMP%]{color:#fff;padding:10px;border:none;cursor:pointer;width:60%;transition:background-color .3s;box-shadow:0 1px #f0f7fa;background-color:#33bdef;background:linear-gradient(to bottom,#33bdef 5%,#019ad2);border-radius:6px;border:1px solid #057fd0;text-shadow:1px 2px 0px #5b6178}button[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#019ad2 5%,#33bdef);background-color:#019ad2}button[_ngcontent-%COMP%]:active{background-color:#004494}.error-message[_ngcontent-%COMP%]{font-size:14px;color:red;margin-top:5px}.error[_ngcontent-%COMP%]{color:red;font-size:.9em;margin-top:5px}.spinner-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffc;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999}.loading-message[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:10px;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out;text-align:center;margin-right:10px}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(255,255,255,.3);border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-left:6rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.confirmation-message[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#ffffffe6;padding:20px;border-radius:10px;box-shadow:0 4px 20px #0003;font-size:1.5rem;color:#333;text-align:center;z-index:1200}.altas-pacientes-container[_ngcontent-%COMP%]{width:100%;height:100vh;max-width:800px;margin:0 auto;padding:20px}.form-group-inline[_ngcontent-%COMP%]{display:flex;gap:15px}.form-group-inline[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-bottom:10px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}.submit-btn[_ngcontent-%COMP%]{width:30%;padding:10px;font-size:16px;font-weight:700;background-color:#007bff;color:#fff;border:none;cursor:pointer;margin-top:15px}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.close-modal[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:transparent;border:none;font-size:20px;color:#fff;cursor:pointer;z-index:1010}.close-modal[_ngcontent-%COMP%]:hover{color:red}"]})};function s6(t,e){t&1&&(I(0,"div"),ee(1,"app-header"),E())}function a6(t,e){if(t&1){let n=Ze();I(0,"button",4),ie("click",function(){Pe(n);let i=Y();return Me(i.selectRole("administrador"))}),ee(1,"img",10),E()}}function c6(t,e){if(t&1){let n=Ze();I(0,"div",14)(1,"app-registro-paciente",15),ie("registrationCompleted",function(){Pe(n);let i=Y(2);return Me(i.onCompleted())}),E()()}}function l6(t,e){if(t&1){let n=Ze();I(0,"div",14)(1,"app-registro-especialista",15),ie("registrationCompleted",function(){Pe(n);let i=Y(2);return Me(i.onCompleted())}),E()()}}function u6(t,e){if(t&1){let n=Ze();I(0,"div",14)(1,"app-registro-administrador",15),ie("registrationCompleted",function(){Pe(n);let i=Y(2);return Me(i.onCompleted())}),E()()}}function d6(t,e){if(t&1){let n=Ze();I(0,"div",11)(1,"button",12),ie("click",function(){Pe(n);let i=Y();return Me(i.closeForm())}),P(2,"\u2716"),E(),Q(3,c6,2,0,"div",13)(4,l6,2,0,"div",13)(5,u6,2,0,"div",13),E()}if(t&2){let n=Y();k(3),U("ngIf",n.selectedRole==="paciente"),k(),U("ngIf",n.selectedRole==="especialista"),k(),U("ngIf",n.selectedRole==="administrador")}}function h6(t,e){t&1&&(I(0,"p"),P(1," \u{1F60A} Paciente dado de alta satisfactoriamente. \xA1Carga terminada! \u{1F60A} "),E())}function f6(t,e){t&1&&(I(0,"p"),P(1," \u{1F60A} Especialista registrado satisfactoriamente. \xA1Carga terminada! \u{1F60A} "),E())}function p6(t,e){t&1&&(I(0,"p"),P(1," \u{1F60A} Administrador registrado satisfactoriamente. \xA1Carga terminada! \u{1F60A} "),E())}function m6(t,e){if(t&1&&(I(0,"div",16),Q(1,h6,2,0,"p",0)(2,f6,2,0,"p",0)(3,p6,2,0,"p",0),E()),t&2){let n=Y();k(),U("ngIf",n.userRole==="paciente"),k(),U("ngIf",n.userRole==="especialista"),k(),U("ngIf",n.userRole==="administrador")}}var Hc=class t{constructor(e){this.authService=e}mostrarHeader=!0;selectedRole=null;completed=!1;userRole=null;isAdmin=!1;ngOnInit(){this.checkAdminRole()}checkAdminRole(){let e=this.authService.getUser();e&&e.tipoUsuario==="administrador"&&(this.isAdmin=!0)}selectRole(e){this.selectedRole=e}closeForm(){this.selectedRole=null}onCompleted(){this.completed=!0,this.userRole=this.selectedRole,this.closeForm(),setTimeout(()=>{this.completed=!1,this.userRole=null},3e3)}static \u0275fac=function(n){return new(n||t)(G(Lt))};static \u0275cmp=He({type:t,selectors:[["app-registro"]],inputs:{mostrarHeader:"mostrarHeader"},standalone:!0,features:[Ke],decls:13,vars:4,consts:[[4,"ngIf"],[1,"registro-container"],[1,"registro-titulo"],[1,"role-selection"],[1,"role-button",3,"click"],["src","assets/imagenes/paciente.png","alt","Paciente"],["src","assets/imagenes/especialista.png","alt","Especialista"],["class","role-button",3,"click",4,"ngIf"],["class","form-modal",4,"ngIf"],["class","confirmation-message",4,"ngIf"],["src","assets/imagenes/administrador.png","alt","Administrador"],[1,"form-modal"],[1,"close-button",3,"click"],["class","form-content",4,"ngIf"],[1,"form-content"],[3,"registrationCompleted"],[1,"confirmation-message"]],template:function(n,r){n&1&&(Q(0,s6,2,0,"div",0),I(1,"body")(2,"div",1)(3,"h1",2),P(4,"Registro de usuarios"),E(),I(5,"div",3)(6,"button",4),ie("click",function(){return r.selectRole("paciente")}),ee(7,"img",5),E(),I(8,"button",4),ie("click",function(){return r.selectRole("especialista")}),ee(9,"img",6),E(),Q(10,a6,2,0,"button",7),E(),Q(11,d6,6,3,"div",8)(12,m6,4,3,"div",9),E()()),n&2&&(U("ngIf",r.mostrarHeader),k(10),U("ngIf",r.isAdmin),k(),U("ngIf",r.selectedRole),k(),U("ngIf",r.completed))},dependencies:[jt,Qt,mn,jc,$c,Bc],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.registro-container[_ngcontent-%COMP%]{text-align:center}.registro-titulo[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;color:#333;margin-bottom:20px;font-family:Arial,sans-serif;font-family:Trebuchet MS;color:#54bab9;letter-spacing:1px}.role-selection[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.role-button[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;background-color:#f0f0f0;border:2px solid #ccc;margin:15px 0;padding:10px;display:flex;justify-content:center;align-items:center;cursor:pointer;transition:transform .2s}.role-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:80%;object-fit:contain;border-radius:50%}.role-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#e0e0e0}.form-modal[_ngcontent-%COMP%]{position:fixed;top:-20px;left:0;width:100%;height:100%;background-color:#0009;display:flex;justify-content:center;align-items:center;z-index:999;overflow-y:auto;padding:10px}.form-content[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border-radius:8px;max-width:600px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 5px 15px #0000004d;z-index:1000;position:relative}.close-button[_ngcontent-%COMP%]{position:absolute;margin-bottom:475px;margin-right:660px;width:40px;height:40px;background-color:#54bab9;color:#fff;border:none;border-radius:50%;font-size:1.5rem;display:flex;justify-content:center;align-items:center;cursor:pointer;z-index:9999;font-family:Trebuchet MS}.close-button[_ngcontent-%COMP%]:hover{background-color:#000;color:red}.close-button[_ngcontent-%COMP%]:hover{color:red}.confirmation-message[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#ffffffe6;padding:20px;border-radius:10px;box-shadow:0 4px 20px #0003;font-size:1.5rem;color:#333;text-align:center;z-index:1200}"]})};var eg=class t{constructor(e,n){this.el=e;this.renderer=n}onMouseEnter(){this.resaltar("#b3e1f2")}onMouseLeave(){this.resaltar(null)}resaltar(e){this.renderer.setStyle(this.el.nativeElement,"background-color",e)}static \u0275fac=function(n){return new(n||t)(G(on),G(Ln))};static \u0275dir=We({type:t,selectors:[["","appResaltarFila",""]],hostBindings:function(n,r){n&1&&ie("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},standalone:!0})};function g6(t,e){t&1&&(I(0,"span",22),P(1,"Sin foto"),E())}function v6(t,e){if(t&1&&(I(0,"tr",18)(1,"td")(2,"div",19),ee(3,"img",20),Q(4,g6,2,0,"span",21),E()(),I(5,"td"),P(6),E(),I(7,"td"),P(8),E(),I(9,"td"),P(10),E(),I(11,"td"),P(12),E(),I(13,"td"),P(14),E(),I(15,"td"),P(16),E()()),t&2){let n=e.$implicit;k(3),U("src",n.fotoPerfil1,co),k(),U("ngIf",!n.fotoPerfil1),k(2),Kt(n.tipoUsuario),k(2),Kt(n.nombre),k(2),Kt(n.apellido),k(2),Kt(n.edad),k(2),Kt(n.dni),k(2),Kt(n.email)}}function y6(t,e){if(t&1&&(I(0,"div",13)(1,"div",14)(2,"h2",15),P(3,"Todos los usuarios \u{1F465}"),E()(),I(4,"table",16)(5,"thead")(6,"tr")(7,"th"),P(8,"Foto"),E(),I(9,"th"),P(10,"Tipo de Usuario"),E(),I(11,"th"),P(12,"Nombre"),E(),I(13,"th"),P(14,"Apellido"),E(),I(15,"th"),P(16,"Edad"),E(),I(17,"th"),P(18,"DNI"),E(),I(19,"th"),P(20,"Correo"),E()()(),I(21,"tbody"),Q(22,v6,17,8,"tr",17),E()()()),t&2){let n=Y();k(22),U("ngForOf",n.usuarios)}}function _6(t,e){if(t&1&&ee(0,"img",31),t&2){let n,r=Y(3).$implicit,i=Y(2);U("src",(n=i.isEspecialista(r))==null?null:n.fotoPerfil1,co)}}function w6(t,e){t&1&&(I(0,"span",22),P(1,"Sin foto"),E())}function E6(t,e){if(t&1&&(I(0,"span"),P(1),E()),t&2){let n,r=Y(3).$implicit,i=Y(2);k(),Vn(" ",(n=i.isEspecialista(r))==null?null:n.especialidades," ")}}function b6(t,e){t&1&&P(0,"Sin especialidad")}function I6(t,e){if(t&1){let n=Ze();I(0,"button",32),ie("click",function(){let i;Pe(n);let o=Y(3).$implicit,s=Y(2);return Me(s.actualizarEstadoEspecialista(((i=s.isEspecialista(o))==null||i.uid==null?null:i.uid.toString())||"","aceptado"))}),P(1,"Aceptar"),E()}}function C6(t,e){if(t&1){let n=Ze();I(0,"button",33),ie("click",function(){let i;Pe(n);let o=Y(3).$implicit,s=Y(2);return Me(s.actualizarEstadoEspecialista(((i=s.isEspecialista(o))==null||i.uid==null?null:i.uid.toString())||"","rechazado"))}),P(1,"Rechazar"),E()}}function D6(t,e){if(t&1&&(Nf(0),I(1,"td")(2,"div",26),Q(3,_6,1,1,"img",27)(4,w6,2,0,"span",21),E()(),I(5,"td"),P(6),E(),I(7,"td"),P(8),E(),I(9,"td"),P(10),E(),I(11,"td"),P(12),E(),I(13,"td"),P(14),E(),I(15,"td"),P(16),E(),I(17,"td"),Q(18,E6,2,1,"span",28)(19,b6,1,0,"ng-template",null,0,vT),E(),I(21,"td"),Q(22,I6,2,0,"button",29)(23,C6,2,0,"button",30),E(),Of()),t&2){let n,r,i,o,s,a,l,d,p,m=fT(20),y=Y(2).$implicit,b=Y(2);k(3),U("ngIf",(n=b.isEspecialista(y))==null?null:n.fotoPerfil1),k(),U("ngIf",!((r=b.isEspecialista(y))!=null&&r.fotoPerfil1)),k(2),Kt((i=b.isEspecialista(y))==null?null:i.nombre),k(2),Kt((o=b.isEspecialista(y))==null?null:o.apellido),k(2),Kt((s=b.isEspecialista(y))==null?null:s.email),k(2),Kt((a=b.isEspecialista(y))==null?null:a.dni),k(2),Kt((l=b.isEspecialista(y))==null?null:l.edad),k(2),Kt((d=b.isEspecialista(y))==null?null:d.tipoUsuario),k(2),U("ngIf",(p=b.isEspecialista(y))==null?null:p.especialidades)("ngIfElse",m),k(4),U("ngIf",b.isEspecialista(y)),k(),U("ngIf",b.isEspecialista(y))}}function T6(t,e){if(t&1&&(Nf(0),Q(1,D6,24,12,"ng-container",25),Of()),t&2){let n,r=Y().$implicit,i=Y(2);k(),U("ngIf",((n=i.isEspecialista(r))==null?null:n.estado)==="pendiente")}}function S6(t,e){if(t&1&&(I(0,"tr"),Q(1,T6,2,1,"ng-container",25),E()),t&2){let n=e.$implicit,r=Y(2);k(),U("ngIf",r.isEspecialista(n))}}function A6(t,e){if(t&1&&(I(0,"div",1)(1,"h2",15),P(2,"Aceptar \u2705 /Rechazar \u274C Especialistas"),E(),I(3,"table",23)(4,"thead")(5,"tr")(6,"th"),P(7,"Usuario"),E(),I(8,"th"),P(9,"Nombre"),E(),I(10,"th"),P(11,"Apellido"),E(),I(12,"th"),P(13,"Email"),E(),I(14,"th"),P(15,"Dni"),E(),I(16,"th"),P(17,"Edad"),E(),I(18,"th"),P(19,"Tipo Usuario"),E(),I(20,"th"),P(21,"Especialidad"),E(),I(22,"th"),P(23,"Acciones"),E()()(),I(24,"tbody"),Q(25,S6,2,1,"tr",24),E()()()),t&2){let n=Y();k(25),U("ngForOf",n.usuarios)}}function x6(t,e){t&1&&(I(0,"div",1),ee(1,"app-registro",34),E()),t&2&&(k(),U("mostrarHeader",!1))}var tg=class t{constructor(e,n,r){this.usuariosService=e;this.router=n;this.AuthService=r}usuarios=[];especialistas=[];flagAdmin=!1;mostrarUsuarios=!1;mostrarAceptarEspecialistas=!1;mostrarRegistrarUsuarios=!1;mostrarTurnos=!1;historialClinico=[];usuarioLogueado=null;ngOnInit(){this.cargarUsuarios(),this.AuthService.getCurrentUser().subscribe(e=>{this.usuarioLogueado=e,this.flagAdmin=this.usuarioLogueado?.tipoUsuario==="administrador",console.log("flagAdmin:",this.flagAdmin),this.cargarEspecialistasPendientes()})}cargarUsuarios(){this.usuariosService.getUsuarios().subscribe(e=>{this.usuarios=e.map(n=>ge(q({},n),{uid:n.uid||""})),console.log("Usuarios cargados:",this.usuarios)})}cargarEspecialistasPendientes(){this.usuariosService.getEspecialistasPendientes().subscribe(e=>{this.especialistas=e.filter(n=>n.estado==="pendiente"),console.log("Especialistas pendientes:",this.especialistas)},e=>{console.error("Error al obtener especialistas pendientes:",e)})}isEspecialista(e){if(e.tipoUsuario==="especialista")return e}actualizarEstadoEspecialista(e,n){this.usuariosService.actualizarEstadoEspecialista(e,n).then(()=>{console.log(`Estado del especialista con UID: ${e} actualizado a ${n}`)}).catch(r=>{console.error("Error al actualizar el estado",r)})}NavegarRegistro(){this.router.navigate(["/registro"])}static \u0275fac=function(n){return new(n||t)(G(Uc),G(Or),G(Lt))};static \u0275cmp=He({type:t,selectors:[["app-panel-admin"]],standalone:!0,features:[Ke],decls:31,vars:3,consts:[["sinEspecialidad",""],[1,"container"],[1,"row","custom-row"],[1,"custom-col"],[1,"menu-option-card",3,"click"],[1,"menu-option-content"],[1,"fa-solid","fa-users"],[1,"fa-solid","fa-thumbs-up"],[1,"fa-solid","fa-thumbs-down"],[1,"fa-solid","fa-id-card"],[1,"fa-solid","fa-calendar-days"],["class","mostrar-usuarios",4,"ngIf"],["class","container",4,"ngIf"],[1,"mostrar-usuarios"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[2,"text-align","center"],[1,"table","table-striped"],["appResaltarFila","",4,"ngFor","ngForOf"],["appResaltarFila",""],[1,"profile-picture-list"],["appExpandirHover","usuario.fotoPerfil1","alt","Foto de perfil",1,"profile-image",3,"src"],["class","no-photo",4,"ngIf"],[1,"no-photo"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"profile-picture"],["alt","Foto de perfil","class","profile-img",3,"src",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","btn btn-success","style","height: 35px",3,"click",4,"ngIf"],["class","btn btn-danger","style","height: 35px; margin-left: 5px;",3,"click",4,"ngIf"],["alt","Foto de perfil",1,"profile-img",3,"src"],[1,"btn","btn-success",2,"height","35px",3,"click"],[1,"btn","btn-danger",2,"height","35px","margin-left","5px",3,"click"],[3,"mostrarHeader"]],template:function(n,r){n&1&&(ee(0,"app-header"),I(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),ie("click",function(){return r.mostrarUsuarios=!0,r.mostrarAceptarEspecialistas=!1,r.mostrarRegistrarUsuarios=!1,r.mostrarTurnos=!1}),I(5,"div",5)(6,"h4"),P(7,"Todos los Usuarios"),E(),ee(8,"i",6),E()()(),I(9,"div",3)(10,"div",4),ie("click",function(){return r.mostrarUsuarios=!1,r.mostrarAceptarEspecialistas=!0,r.mostrarRegistrarUsuarios=!1,r.mostrarTurnos=!1}),I(11,"div",5)(12,"h4"),P(13,"Aceptar/Rechazar Especialistas"),E(),ee(14,"i",7)(15,"i",8),E()()(),I(16,"div",3)(17,"div",4),ie("click",function(){return r.mostrarUsuarios=!1,r.mostrarAceptarEspecialistas=!1,r.mostrarRegistrarUsuarios=!0,r.mostrarTurnos=!1}),I(18,"div",5)(19,"h4"),P(20,"Registrar Usuarios"),E(),ee(21,"i",9),E()()(),I(22,"div",3)(23,"div",4),ie("click",function(){return r.mostrarUsuarios=!1,r.mostrarAceptarEspecialistas=!1,r.mostrarRegistrarUsuarios=!1,r.mostrarTurnos=!0}),I(24,"div",5)(25,"h4"),P(26,"Turnos"),E(),ee(27,"i",10),E()()()(),Q(28,y6,23,1,"div",11),E(),Q(29,A6,26,1,"div",12)(30,x6,2,1,"div",12)),n&2&&(k(28),U("ngIf",r.flagAdmin==!0&&r.mostrarUsuarios),k(),U("ngIf",r.flagAdmin==!0&&r.mostrarAceptarEspecialistas==!0&&r.mostrarRegistrarUsuarios==!1&&r.mostrarUsuarios==!1&&r.mostrarTurnos==!1),k(),U("ngIf",r.flagAdmin==!0&&r.mostrarRegistrarUsuarios==!0&&r.mostrarUsuarios==!1&&r.mostrarTurnos==!1&&r.mostrarAceptarEspecialistas==!1))},dependencies:[jt,$a,Qt,mn,Xa,Hc,eg],styles:[".menu-option-card[_ngcontent-%COMP%]{cursor:pointer;background-color:#f8f9fa;border:1px solid #ced4da;margin-bottom:20px;box-shadow:0 2px 8px #0000001a;display:flex;flex-direction:column;align-items:center;justify-content:center;height:180px;transition:background-color .3s ease,transform .2s ease;flex-grow:1;flex-basis:22%;box-sizing:border-box;padding:10px;border:1px solid #ccc;border-radius:5px;text-align:center;background-color:#f9f9f9}.menu-option-card[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff;transform:scale(1.05)}.menu-option-card[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.menu-option-content[_ngcontent-%COMP%]{text-align:center}.menu-option-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#007bff;margin-bottom:10px;transition:color .3s ease}.menu-option-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1.1rem;text-align:center}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.menu-option-card[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000001a;height:180px;padding:15px;flex:1}.profile-picture[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;overflow:hidden}.profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;text-align:center}.profile-img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;object-fit:cover}.no-photo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;border-radius:50%;background-color:#ccc;color:#fff}.profile-picture-list[_ngcontent-%COMP%]{width:60px;height:60px;display:flex;justify-content:center;align-items:center}.profile-picture-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.no-photo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;border-radius:50%;background-color:#ccc;color:#fff;font-size:14px}@keyframes _ngcontent-%COMP%_rotate-center{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.custom-spinner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate-center 1s ease-in-out infinite both;max-width:200px;height:200px;opacity:1}.custom-spinner[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:1011;background-color:#5b5b5b99}.custom-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.custom-col[_ngcontent-%COMP%]{flex:1 1 23%;box-sizing:border-box;margin:5px 0}"]})};var ng=class t{constructor(e){this.firestore=e}getTurnosByEspecialista(e,n){let r=pn(this.firestore,"turnos"),i=Hn(r,Ft("especialistaDni","==",e),Ft("fecha","==",n));return $n(i)}getTurnosPendientesAceptarByEspecialista(e){let n=pn(this.firestore,"turnos"),r=Hn(n,Ft("especialistaDni","==",e),Ft("confirmacionDoctor","==","Pendiente Confirmacion"));return $n(r)}getTurnosAceptadosByEspecialista(e){let n=pn(this.firestore,"turnos"),r=Hn(n,Ft("especialistaDni","==",e),Ft("confirmacionDoctor","in",["Confirmado","Rechazado"]));return $n(r)}getHistoriaClinica(e){let n=pn(this.firestore,"turnos"),r=Hn(n,Ft("pacienteDni","==",e),Ft("atendido","==",!0));return $n(r)}getHistoriaFull(){let e=pn(this.firestore,"turnos"),n=Hn(e,Ft("atendido","==",!0));return $n(n)}getProximosTurnos(e){let n=pn(this.firestore,"turnos"),r=Hn(n,Ft("pacienteDni","==",e),Ft("atendido","==",!1));return $n(r)}getProximosTurnosFull(){let e=pn(this.firestore,"turnos"),n=Hn(e,Ft("atendido","==",!1));return $n(n)}guardarTurno(e){let n=pn(this.firestore,"turnos");return x1(n,e).then(()=>{console.log("Turno guardado con \xE9xito")}).catch(r=>{console.error("Error al guardar el turno: ",r)})}static \u0275fac=function(n){return new(n||t)(le(pr))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})};function P6(t,e){t&1&&(I(0,"h4"),P(1,"Mis Turnos"),E())}function M6(t,e){t&1&&(I(0,"h4"),P(1,"Todos los Turnos"),E())}var rg=class t{constructor(e,n){this.turnosService=e;this.authService=n}doctores=[];fechas=[];arrayHorarios=[];especialidadSeleccionada;fechaSeleccionada;horaSeleccionada;dniDoctorSeleccionado;usuarioLogueado=null;mostrarReservarTurno=!0;mostrarHistorialClinico=!1;mostrarProximosTurnos=!1;historialClinico=[];proximosTurnos=[];especialidadFiltro="";nombreApellidoFiltro="";filtroFull="";pacientes;pacienteSeleccionado;ngOnInit(){this.authService.actualUser$.subscribe(e=>{this.usuarioLogueado=e}),this.cargarPacientes()}cargarHorarios(e,n){if(e!=null&&n!=null){let r=this.doctores.find(i=>i.dni==e);if(console.log("Generando horarios para el doctor ->",r.horariosAtencion),r){let i=r.horariosAtencion;if(i&&i.length>0){this.arrayHorarios=[];let o=[];i.forEach(s=>{let[a,l]=s.split(" a "),[d,p]=a.split(":"),[m,y]=l.split(":"),b=parseInt(d),A=parseInt(p),j=parseInt(m),L=parseInt(y);for(let $=b;$<j;$++)for(let J=A;J<60;J+=30){let X=`${$.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`;o.push(X)}}),o.sort();for(let s of o)this.arrayHorarios.push({horario:s,estado:"disponible"});this.turnosService.getTurnosByEspecialista(e.toString(),n).subscribe(s=>{for(let a of s){let l=a.hora,d=this.arrayHorarios.findIndex(p=>p.horario===l);d!==-1&&(this.arrayHorarios[d].estado="ocupado")}})}else console.log("El doctor seleccionado no tiene disponibilidad.")}else console.log("No se encontr\xF3 el doctor seleccionado.")}else console.log("Primera carga de horarios")}cargarProximosTurnos(){this.usuarioLogueado?.tipoUsuario=="Paciente"?this.turnosService.getProximosTurnos(this.usuarioLogueado.dni.toString()).subscribe(e=>{this.proximosTurnos=e.filter(n=>this.concatenatedFields(n).toLowerCase().includes(this.filtroFull.toLowerCase()))}):this.usuarioLogueado?.tipoUsuario=="Admin"&&this.turnosService.getProximosTurnosFull().subscribe(e=>{this.proximosTurnos=e.filter(n=>this.concatenatedFields(n).toLowerCase().includes(this.filtroFull.toLowerCase()))})}cargarHistorialClinico(){this.usuarioLogueado?.tipoUsuario=="Paciente"?this.turnosService.getHistoriaClinica(this.usuarioLogueado.dni.toString()).subscribe(e=>{this.historialClinico=e.filter(n=>this.concatenatedFields(n).toLowerCase().includes(this.filtroFull.toLowerCase()))}):this.usuarioLogueado?.tipoUsuario=="Admin"&&this.turnosService.getHistoriaFull().subscribe(e=>{this.historialClinico=e.filter(n=>this.concatenatedFields(n).toLowerCase().includes(this.filtroFull.toLowerCase()))})}cargarPacientes(){}concatenatedFields(e){let n=(ae,x="")=>ae??x,r=n(e.apellidoDoctor),i=n(e.apellidoPaciente),o=n(e.atencionDoc?.altura),s=n(e.atencionDoc?.peso),a=n(e.atencionDoc?.presion),l=n(e.atencionDoc?.temperatura),d=n(e.atencionDoc?.datosDinamicos[0].clave),p=n(e.atencionDoc?.datosDinamicos[0].valor),m=n(e.atencionDoc?.datosDinamicos[1].clave),y=n(e.atencionDoc?.datosDinamicos[1].valor),b=n(e.atencionDoc?.datosDinamicos[2].clave),A=n(e.atencionDoc?.datosDinamicos[2].valor),j=n(e.confirmacionDoctor),L=n(e.especialidad),$=n(e.fecha),J=n(e.hora),X=n(e.nombreDoctor),re=n(e.nombrePaciente),Ne=n(e.obraSocialPaciente);return`${X} ${r} ${re} ${i} ${o} ${s} ${a} ${l} ${j} ${L} ${$} ${J} ${re} ${Ne} ${d} ${p} ${m} ${y} ${b} ${A}`}static \u0275fac=function(n){return new(n||t)(G(ng),G(Lt))};static \u0275cmp=He({type:t,selectors:[["app-panel-paciente"]],standalone:!0,features:[Ke],decls:21,vars:2,consts:[[1,"paciente-container",2,"margin-bottom","450px"],[1,"row"],[1,"col-md-4"],[1,"menu-option-card",3,"click"],[1,"menu-option-content"],[1,"fas","fa-calendar-plus"],[1,"fa-solid","fa-business-time"],[4,"ngIf"],[1,"fas","fa-file-medical-alt"]],template:function(n,r){n&1&&(ee(0,"app-header"),I(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),ie("click",function(){return r.mostrarReservarTurno=!0,r.mostrarProximosTurnos=!1,r.mostrarHistorialClinico=!1,r.cargarHorarios(r.dniDoctorSeleccionado,r.fechaSeleccionada)}),I(5,"div",4),ee(6,"i",5),I(7,"h4"),P(8,"Reservar Turno"),E()()()(),I(9,"div",2)(10,"div",3),ie("click",function(){return r.mostrarProximosTurnos=!0,r.mostrarReservarTurno=!1,r.mostrarHistorialClinico=!1,r.cargarProximosTurnos()}),I(11,"div",4),ee(12,"i",6),Q(13,P6,2,0,"h4",7)(14,M6,2,0,"h4",7),E()()(),I(15,"div",2)(16,"div",3),ie("click",function(){return r.mostrarProximosTurnos=!1,r.mostrarHistorialClinico=!0,r.mostrarReservarTurno=!1,r.cargarHistorialClinico()}),I(17,"div",4),ee(18,"i",8),I(19,"h4"),P(20,"Historial Atenciones"),E()()()()()()),n&2&&(k(13),U("ngIf",(r.usuarioLogueado==null?null:r.usuarioLogueado.tipoUsuario)=="paciente"),k(),U("ngIf",(r.usuarioLogueado==null?null:r.usuarioLogueado.tipoUsuario)=="administrador"))},dependencies:[jt,Qt,mn],styles:[".menu-option-card[_ngcontent-%COMP%]{cursor:pointer;background-color:#f8f9fa;border:1px solid #ced4da;border-radius:15px;padding:20px;margin-bottom:20px;transition:background-color .3s ease,transform .2s ease}.menu-option-card[_ngcontent-%COMP%]:hover{background-color:#e9ecef;transform:scale(1.05)}.menu-option-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.menu-option-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#007bff;margin-bottom:10px}"]})};var ig=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=He({type:t,selectors:[["app-perfil"]],standalone:!0,features:[Ke],decls:2,vars:0,template:function(n,r){n&1&&(I(0,"p"),P(1,"perfil works!"),E())}})};var wP=(t,e)=>!0;var og=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=He({type:t,selectors:[["app-gestion-usuarios"]],standalone:!0,features:[Ke],decls:2,vars:0,template:function(n,r){n&1&&(I(0,"p"),P(1,"gestion-usuarios works!"),E())}})};var EP=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"header",component:mn},{path:"home",component:Fm},{path:"login",component:Jm},{path:"registro",component:Hc},{path:"registro/paciente",component:$c},{path:"registro/especialista",component:jc},{path:"registro/administrador",component:Bc},{path:"panelAdmin",component:tg},{path:"panelPaciente",component:rg},{path:"perfil",component:ig},{path:"error",component:Xm},{path:"gestion-usuarios",component:og,canActivate:[wP]}];var id=class{constructor(e){return e}},bP="storage",xb=class{constructor(){return bs(bP)}};var Rb=new te("angularfire2.storage-instances");function N6(t,e){let n=rc(bP,t,e);return n&&new id(n)}function O6(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new id(r)}}var k6={provide:xb,deps:[[new Et,Rb]]},F6={provide:id,useFactory:N6,deps:[[new Et,Rb],lr]};function IP(t,...e){return rt("angularfire",gi.full,"gcs"),kn([F6,k6,{provide:Rb,useFactory:O6(t),multi:!0,deps:[je,Gt,vo,vi,[new Et,As],[new Et,go],...e]}])}var CP=ut(Vp,!0);var DP={production:!1,firebaseConfig:{apiKey:"AIzaSyBJtHg96-UA6lDy6l1xuaVsKf85m4tDXng",authDomain:"clinica-online-b1cba.firebaseapp.com",projectId:"clinica-online-b1cba",storageBucket:"clinica-online-b1cba.appspot.com",messagingSenderId:"594226703420",appId:"1:594226703420:web:5f60bf4382c374aaf06739",measurementId:"G-4VKE4SX4KG"}};var TP={providers:[CT({eventCoalescing:!0}),AS(EP),nA(()=>rA(DP.firebaseConfig)),XA(()=>tx()),A1(()=>P1()),IP(()=>CP())]};var sg=class t{title="clinica-online";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=He({type:t,selectors:[["app-root"]],standalone:!0,features:[Ke],decls:1,vars:0,template:function(n,r){n&1&&ee(0,"router-outlet")},dependencies:[S_]})};qT(sg,TP).catch(t=>console.error(t));

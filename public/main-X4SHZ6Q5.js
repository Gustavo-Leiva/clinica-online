var cA=Object.defineProperty,uA=Object.defineProperties;var lA=Object.getOwnPropertyDescriptors;var P_=Object.getOwnPropertySymbols,dA=Object.getPrototypeOf,hA=Object.prototype.hasOwnProperty,fA=Object.prototype.propertyIsEnumerable,pA=Reflect.get;var O_=(t,e,n)=>e in t?cA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})hA.call(e,n)&&O_(t,n,e[n]);if(P_)for(var n of P_(e))fA.call(e,n)&&O_(t,n,e[n]);return t},re=(t,e)=>uA(t,lA(e));var rr=(t,e,n)=>pA(dA(t),n,e);var E=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(d){i(d)}},o=u=>{try{c(n.throw(u))}catch(d){i(d)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});function k_(t,e){return Object.is(t,e)}var $e=null,yc=!1,vc=1,ir=Symbol("SIGNAL");function pe(t){let e=$e;return $e=t,e}function F_(){return $e}var Ro={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fh(t){if(yc)throw new Error("");if($e===null)return;$e.consumerOnSignalRead(t);let e=$e.nextProducerIndex++;if(Ec($e),e<$e.producerNode.length&&$e.producerNode[e]!==t&&Ao($e)){let n=$e.producerNode[e];wc(n,$e.producerIndexOfThis[e])}$e.producerNode[e]!==t&&($e.producerNode[e]=t,$e.producerIndexOfThis[e]=Ao($e)?j_(t,$e,e):0),$e.producerLastReadVersion[e]=t.version}function gA(){vc++}function L_(t){if(!(Ao(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===vc)){if(!t.producerMustRecompute(t)&&!gh(t)){t.dirty=!1,t.lastCleanEpoch=vc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=vc}}function V_(t){if(t.liveConsumerNode===void 0)return;let e=yc;yc=!0;try{for(let n of t.liveConsumerNode)n.dirty||mA(n)}finally{yc=e}}function U_(){return $e?.consumerAllowSignalWrites!==!1}function mA(t){t.dirty=!0,V_(t),t.consumerMarkedDirty?.(t)}function Ic(t){return t&&(t.nextProducerIndex=0),pe(t)}function ph(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ao(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)wc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function gh(t){Ec(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(L_(n),r!==n.version))return!0}return!1}function mh(t){if(Ec(t),Ao(t))for(let e=0;e<t.producerNode.length;e++)wc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function j_(t,e,n){if(B_(t),t.liveConsumerNode.length===0&&$_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=j_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function wc(t,e){if(B_(t),t.liveConsumerNode.length===1&&$_(t))for(let r=0;r<t.producerNode.length;r++)wc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ec(i),i.producerIndexOfThis[r]=e}}function Ao(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ec(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function B_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function $_(t){return t.producerNode!==void 0}function H_(t){let e=Object.create(yA);e.computation=t;let n=()=>{if(L_(e),fh(e),e.value===_c)throw e.error;return e.value};return n[ir]=e,n}var dh=Symbol("UNSET"),hh=Symbol("COMPUTING"),_c=Symbol("ERRORED"),yA=re(O({},Ro),{value:dh,dirty:!0,error:null,equal:k_,producerMustRecompute(t){return t.value===dh||t.value===hh},producerRecomputeValue(t){if(t.value===hh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=hh;let n=Ic(t),r;try{r=t.computation()}catch(i){r=_c,t.error=i}finally{ph(t,n)}if(e!==dh&&e!==_c&&r!==_c&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function vA(){throw new Error}var q_=vA;function z_(){q_()}function G_(t){q_=t}var _A=null;function W_(t){let e=Object.create(Q_);e.value=t;let n=()=>(fh(e),e.value);return n[ir]=e,n}function yh(t,e){U_()||z_(),t.equal(t.value,e)||(t.value=e,IA(t))}function K_(t,e){U_()||z_(),yh(t,e(t.value))}var Q_=re(O({},Ro),{equal:k_,value:void 0});function IA(t){t.version++,gA(),V_(t),_A?.()}function Y(t){return typeof t=="function"}function Li(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Dc=Li(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function zr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Se=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(s){e=s instanceof Dc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Y_(s)}catch(o){e=e??[],o instanceof Dc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Dc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Y_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&zr(n,e)}remove(e){let{_finalizers:n}=this;n&&zr(n,e),e instanceof t&&e._removeParent(this)}};Se.EMPTY=(()=>{let t=new Se;return t.closed=!0,t})();var vh=Se.EMPTY;function bc(t){return t instanceof Se||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function Y_(t){Y(t)?t():t.unsubscribe()}var $t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vi={setTimeout(t,e,...n){let{delegate:r}=Vi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Vi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Cc(t){Vi.setTimeout(()=>{let{onUnhandledError:e}=$t;if(e)e(t);else throw t})}function Mo(){}var Z_=_h("C",void 0,void 0);function J_(t){return _h("E",void 0,t)}function X_(t){return _h("N",t,void 0)}function _h(t,e,n){return{kind:t,value:e,error:n}}var Gr=null;function Ui(t){if($t.useDeprecatedSynchronousErrorHandling){let e=!Gr;if(e&&(Gr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Gr;if(Gr=null,n)throw r}}else t()}function eI(t){$t.useDeprecatedSynchronousErrorHandling&&Gr&&(Gr.errorThrown=!0,Gr.error=t)}var Wr=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,bc(e)&&e.add(this)):this.destination=DA}static create(e,n,r){return new ji(e,n,r)}next(e){this.isStopped?wh(X_(e),this):this._next(e)}error(e){this.isStopped?wh(J_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wh(Z_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},wA=Function.prototype.bind;function Ih(t,e){return wA.call(t,e)}var Eh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Tc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Tc(r)}else Tc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Tc(n)}}},ji=class extends Wr{constructor(e,n,r){super();let i;if(Y(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&$t.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ih(e.next,s),error:e.error&&Ih(e.error,s),complete:e.complete&&Ih(e.complete,s)}):i=e}this.destination=new Eh(i)}};function Tc(t){$t.useDeprecatedSynchronousErrorHandling?eI(t):Cc(t)}function EA(t){throw t}function wh(t,e){let{onStoppedNotification:n}=$t;n&&Vi.setTimeout(()=>n(t,e))}var DA={closed:!0,next:Mo,error:EA,complete:Mo};var Bi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dt(t){return t}function Dh(...t){return bh(t)}function bh(t){return t.length===0?Dt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=CA(n)?n:new ji(n,r,i);return Ui(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=tI(r),new r((i,s)=>{let o=new ji({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Bi](){return this}pipe(...n){return bh(n)(this)}toPromise(n){return n=tI(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function tI(t){var e;return(e=t??$t.Promise)!==null&&e!==void 0?e:Promise}function bA(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}function CA(t){return t&&t instanceof Wr||bA(t)&&bc(t)}function Ch(t){return Y(t?.lift)}function he(t){return e=>{if(Ch(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(t,e,n,r,i){return new Th(t,e,n,r,i)}var Th=class extends Wr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function $i(){return he((t,e)=>{let n=null;t._refCount++;let r=oe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Hi=class extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ch(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let n=this.getSubject();e.add(this.source.subscribe(oe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return $i()(this)}};var nI=Li(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ze=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Sc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new nI}next(n){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?vh:(this.currentObservers=null,s.push(n),new Se(()=>{this.currentObservers=null,zr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new de;return n.source=this,n}}return t.create=(e,n)=>new Sc(e,n),t})(),Sc=class extends Ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:vh}};var Je=class extends Ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Sh={now(){return(Sh.delegate||Date).now()},delegate:void 0};var Ac=class extends Se{constructor(e,n){super()}schedule(e,n=0){return this}};var No={setInterval(t,e,...n){let{delegate:r}=No;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=No;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var qi=class extends Ac{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return No.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&No.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,zr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var zi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};zi.now=Sh.now;var Gi=class extends zi{constructor(e,n=zi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ah=new Gi(qi);var Rc=class extends qi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Mc=class extends Gi{};var Rh=new Mc(Rc);var bt=new de(t=>t.complete());function rI(t){return t&&Y(t.schedule)}function iI(t){return t[t.length-1]}function Nc(t){return Y(iI(t))?t.pop():void 0}function sr(t){return rI(iI(t))?t.pop():void 0}function Mh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function oI(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{d(r.next(f))}catch(g){o(g)}}function u(f){try{d(r.throw(f))}catch(g){o(g)}}function d(f){f.done?s(f.value):i(f.value).then(c,u)}d((r=r.apply(t,e||[])).next())})}function sI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kr(t){return this instanceof Kr?(this.v=t,this):new Kr(t)}function aI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(S){return Promise.resolve(S).then(I,g)}}function c(I,S){r[I]&&(i[I]=function(N){return new Promise(function(R,F){s.push([I,N,R,F])>1||u(I,N)})},S&&(i[I]=S(i[I])))}function u(I,S){try{d(r[I](S))}catch(N){_(s[0][3],N)}}function d(I){I.value instanceof Kr?Promise.resolve(I.value.v).then(f,g):_(s[0][2],I)}function f(I){u("next",I)}function g(I){u("throw",I)}function _(I,S){I(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function cI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof sI=="function"?sI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},o)}}var xc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Pc(t){return Y(t?.then)}function Oc(t){return Y(t[Bi])}function kc(t){return Symbol.asyncIterator&&Y(t?.[Symbol.asyncIterator])}function Fc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function TA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Lc=TA();function Vc(t){return Y(t?.[Lc])}function Uc(t){return aI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Kr(n.read());if(i)return yield Kr(void 0);yield yield Kr(r)}}finally{n.releaseLock()}})}function jc(t){return Y(t?.getReader)}function Oe(t){if(t instanceof de)return t;if(t!=null){if(Oc(t))return SA(t);if(xc(t))return AA(t);if(Pc(t))return RA(t);if(kc(t))return uI(t);if(Vc(t))return MA(t);if(jc(t))return NA(t)}throw Fc(t)}function SA(t){return new de(e=>{let n=t[Bi]();if(Y(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function AA(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function RA(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Cc)})}function MA(t){return new de(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function uI(t){return new de(e=>{xA(t,e).catch(n=>e.error(n))})}function NA(t){return uI(Uc(t))}function xA(t,e){var n,r,i,s;return oI(this,void 0,void 0,function*(){try{for(n=cI(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function It(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function or(t,e=0){return he((n,r)=>{n.subscribe(oe(r,i=>It(r,t,()=>r.next(i),e),()=>It(r,t,()=>r.complete(),e),i=>It(r,t,()=>r.error(i),e)))})}function ar(t,e=0){return he((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function lI(t,e){return Oe(t).pipe(ar(e),or(e))}function dI(t,e){return Oe(t).pipe(ar(e),or(e))}function hI(t,e){return new de(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function fI(t,e){return new de(n=>{let r;return It(n,e,()=>{r=t[Lc](),It(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Bc(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{It(n,e,()=>{let r=t[Symbol.asyncIterator]();It(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pI(t,e){return Bc(Uc(t),e)}function gI(t,e){if(t!=null){if(Oc(t))return lI(t,e);if(xc(t))return hI(t,e);if(Pc(t))return dI(t,e);if(kc(t))return Bc(t,e);if(Vc(t))return fI(t,e);if(jc(t))return pI(t,e)}throw Fc(t)}function Re(t,e){return e?gI(t,e):Oe(t)}function Z(...t){let e=sr(t);return Re(t,e)}function Wi(t,e){let n=Y(t)?t:()=>t,r=i=>i.error(n());return new de(e?i=>e.schedule(r,0,i):r)}function Nh(t){return!!t&&(t instanceof de||Y(t.lift)&&Y(t.subscribe))}var Sn=Li(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(t,e){return he((n,r)=>{let i=0;n.subscribe(oe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:PA}=Array;function OA(t,e){return PA(e)?t(...e):t(e)}function $c(t){return ie(e=>OA(t,e))}var{isArray:kA}=Array,{getPrototypeOf:FA,prototype:LA,keys:VA}=Object;function Hc(t){if(t.length===1){let e=t[0];if(kA(e))return{args:e,keys:null};if(UA(e)){let n=VA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function UA(t){return t&&typeof t=="object"&&FA(t)===LA}function qc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function zc(...t){let e=sr(t),n=Nc(t),{args:r,keys:i}=Hc(t);if(r.length===0)return Re([],e);let s=new de(jA(r,e,i?o=>qc(i,o):Dt));return n?s.pipe($c(n)):s}function jA(t,e,n=Dt){return r=>{mI(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)mI(e,()=>{let d=Re(t[u],e),f=!1;d.subscribe(oe(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function mI(t,e,n){t?It(n,t,e):e()}function yI(t,e,n,r,i,s,o,c){let u=[],d=0,f=0,g=!1,_=()=>{g&&!u.length&&!d&&e.complete()},I=N=>d<r?S(N):u.push(N),S=N=>{s&&e.next(N),d++;let R=!1;Oe(n(N,f++)).subscribe(oe(e,F=>{i?.(F),s?I(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(d--;u.length&&d<r;){let F=u.shift();o?It(e,o,()=>S(F)):S(F)}_()}catch(F){e.error(F)}}))};return t.subscribe(oe(e,I,()=>{g=!0,_()})),()=>{c?.()}}function He(t,e,n=1/0){return Y(e)?He((r,i)=>ie((s,o)=>e(r,s,i,o))(Oe(t(r,i))),n):(typeof e=="number"&&(n=e),he((r,i)=>yI(r,i,t,n)))}function xh(t=1/0){return He(Dt,t)}function vI(){return xh(1)}function Ki(...t){return vI()(Re(t,sr(t)))}function Gc(t){return new de(e=>{Oe(t()).subscribe(e)})}function Ph(...t){let e=Nc(t),{args:n,keys:r}=Hc(t),i=new de(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,d=o;for(let f=0;f<o;f++){let g=!1;Oe(n[f]).subscribe(oe(s,_=>{g||(g=!0,d--),c[f]=_},()=>u--,void 0,()=>{(!u||!g)&&(d||s.next(r?qc(r,c):c),s.complete())}))}});return e?i.pipe($c(e)):i}function Ht(t,e){return he((n,r)=>{let i=0;n.subscribe(oe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function cr(t){return he((e,n)=>{let r=null,i=!1,s;r=e.subscribe(oe(n,void 0,void 0,o=>{s=Oe(t(o,cr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function _I(t,e,n,r,i){return(s,o)=>{let c=n,u=e,d=0;s.subscribe(oe(o,f=>{let g=d++;u=c?t(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function Qi(t,e){return Y(e)?He(t,e,1):He(t,1)}function ur(t){return he((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function An(t){return t<=0?()=>bt:he((e,n)=>{let r=0;e.subscribe(oe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Oh(t){return ie(()=>t)}function Wc(t=BA){return he((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function BA(){return new Sn}function xo(t){return he((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function en(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ht((i,s)=>t(i,s,r)):Dt,An(1),n?ur(e):Wc(()=>new Sn))}function Yi(t){return t<=0?()=>bt:he((e,n)=>{let r=[];e.subscribe(oe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function kh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ht((i,s)=>t(i,s,r)):Dt,Yi(1),n?ur(e):Wc(()=>new Sn))}function Fh(t,e){return he(_I(t,e,arguments.length>=2,!0))}function Lh(...t){let e=sr(t);return he((n,r)=>{(e?Ki(t,n,e):Ki(t,n)).subscribe(r)})}function qt(t,e){return he((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(oe(r,u=>{i?.unsubscribe();let d=0,f=s++;Oe(t(u,f)).subscribe(i=oe(r,g=>r.next(e?e(u,g,f,d++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Vh(t){return he((e,n)=>{Oe(t).subscribe(oe(n,()=>n.complete(),Mo)),!n.closed&&e.subscribe(n)})}function qe(t,e,n){let r=Y(t)||e||n?{next:t,error:e,complete:n}:t;return r?he((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(oe(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;c=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Dt}var $A="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super($f(e,n)),this.code=e}};function $f(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ho(t){return{toString:t}.toString()}var Kc="__parameters__";function HA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function sw(t,e,n){return Ho(()=>{let r=HA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,d,f){let g=u.hasOwnProperty(Kc)?u[Kc]:Object.defineProperty(u,Kc,{value:[]})[Kc];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function qA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function gt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(gt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function II(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var zA=_e({__forward_ref__:_e});function an(t){return t.__forward_ref__=an,t.toString=function(){return gt(this())},t}function pt(t){return ow(t)?t():t}function ow(t){return typeof t=="function"&&t.hasOwnProperty(zA)&&t.__forward_ref__===an}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function yr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Tu(t){return wI(t,cw)||wI(t,uw)}function aw(t){return Tu(t)!==null}function wI(t,e){return t.hasOwnProperty(e)?t[e]:null}function GA(t){let e=t&&(t[cw]||t[uw]);return e||null}function EI(t){return t&&(t.hasOwnProperty(DI)||t.hasOwnProperty(WA))?t[DI]:null}var cw=_e({\u0275prov:_e}),DI=_e({\u0275inj:_e}),uw=_e({ngInjectableDef:_e}),WA=_e({ngInjectorDef:_e}),U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lw(t){return t&&!!t.\u0275providers}var KA=_e({\u0275cmp:_e}),QA=_e({\u0275dir:_e}),YA=_e({\u0275pipe:_e}),ZA=_e({\u0275mod:_e}),ru=_e({\u0275fac:_e}),ko=_e({__NG_ELEMENT_ID__:_e}),bI=_e({__NG_ENV_ID__:_e});function dw(t){return typeof t=="string"?t:t==null?"":String(t)}function JA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():dw(t)}function XA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,t)}function Hf(t,e){throw new B(-201,!1)}var ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ee||{}),Jh;function hw(){return Jh}function Nt(t){let e=Jh;return Jh=t,e}function fw(t,e,n){let r=Tu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ee.Optional)return null;if(e!==void 0)return e;Hf(t,"Injector")}var eR={},Fo=eR,Xh="__NG_DI_FLAG__",iu="ngTempTokenPath",tR="ngTokenPath",nR=/\n/gm,rR="\u0275",CI="__source",es;function iR(){return es}function lr(t){let e=es;return es=t,e}function sR(t,e=ee.Default){if(es===void 0)throw new B(-203,!1);return es===null?fw(t,void 0,e):es.get(t,e&ee.Optional?null:void 0,e)}function X(t,e=ee.Default){return(hw()||sR)(pt(t),e)}function k(t,e=ee.Default){return X(t,Su(e))}function Su(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ef(t){let e=[];for(let n=0;n<t.length;n++){let r=pt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,s=ee.Default;for(let o=0;o<r.length;o++){let c=r[o],u=oR(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(X(i,s))}else e.push(X(r))}return e}function pw(t,e){return t[Xh]=e,t.prototype[Xh]=e,t}function oR(t){return t[Xh]}function aR(t,e,n,r){let i=t[iu];throw e[CI]&&i.unshift(e[CI]),t.message=cR(`
`+t.message,i,n,r),t[tR]=i,t[iu]=null,t}function cR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==rR?t.slice(2):t;let i=gt(e);if(Array.isArray(e))i=e.map(gt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):gt(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nR,`
  `)}`}var Fe=pw(sw("Optional"),8);var gw=pw(sw("SkipSelf"),4);function ns(t,e){let n=t.hasOwnProperty(ru);return n?t[ru]:null}function qf(t,e){t.forEach(n=>Array.isArray(n)?qf(n,e):e(n))}function mw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function su(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function uR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function lR(t,e,n){let r=qo(t,e);return r>=0?t[r|1]=n:(r=~r,uR(t,r,e,n)),r}function Uh(t,e){let n=qo(t,e);if(n>=0)return t[n|1]}function qo(t,e){return dR(t,e,1)}function dR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var rs={},xt=[],is=new U(""),yw=new U("",-1),vw=new U(""),ou=class{get(e,n=Fo){if(n===Fo){let r=new Error(`NullInjectorError: No provider for ${gt(e)}!`);throw r.name="NullInjectorError",r}return n}},_w=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_w||{}),rn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(rn||{}),fr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(fr||{});function hR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function tf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];pR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function fR(t){return t===3||t===4||t===6}function pR(t){return t.charCodeAt(0)===64}function Lo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?TI(t,n,i,null,e[++r]):TI(t,n,i,null,null))}}return t}function TI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Iw="ng-template";function gR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&hR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(zf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function zf(t){return t.type===4&&t.value!==Iw}function mR(t,e,n){let r=t.type===4&&!n?Iw:t.value;return e===r}function yR(t,e,n){let r=4,i=t.attrs,s=i!==null?IR(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!zt(r)&&!zt(u))return!1;if(o&&zt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!mR(t,u,n)||u===""&&e.length===1){if(zt(r))return!1;o=!0}}else if(r&8){if(i===null||!gR(t,i,u,n)){if(zt(r))return!1;o=!0}}else{let d=e[++c],f=vR(u,i,zf(t),n);if(f===-1){if(zt(r))return!1;o=!0;continue}if(d!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&d!==g){if(zt(r))return!1;o=!0}}}}return zt(r)||o}function zt(t){return(t&1)===0}function vR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return wR(e,t)}function _R(t,e,n=!1){for(let r=0;r<e.length;r++)if(yR(t,e[r],n))return!0;return!1}function IR(t){for(let e=0;e<t.length;e++){let n=t[e];if(fR(n))return e}return t.length}function wR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function SI(t,e){return t?":not("+e.trim()+")":e}function ER(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!zt(o)&&(e+=SI(s,i),i=""),r=o,s=s||!zt(r);n++}return i!==""&&(e+=SI(s,i)),e}function DR(t){return t.map(ER).join(",")}function bR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!zt(i))break;i=s}r++}return{attrs:e,classes:n}}function cn(t){return Ho(()=>{let e=Cw(t),n=re(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_w.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||rn.Emulated,styles:t.styles||xt,_:null,schemas:t.schemas||null,tView:null,id:""});Tw(n);let r=t.dependencies;return n.directiveDefs=RI(r,!1),n.pipeDefs=RI(r,!0),n.id=SR(n),n})}function CR(t){return Yr(t)||ww(t)}function TR(t){return t!==null}function vr(t){return Ho(()=>({type:t.type,bootstrap:t.bootstrap||xt,declarations:t.declarations||xt,imports:t.imports||xt,exports:t.exports||xt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function AI(t,e){if(t==null)return rs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=fr.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==fr.None?[r,c]:r,e[s]=o):n[s]=r}return n}function Le(t){return Ho(()=>{let e=Cw(t);return Tw(e),e})}function Yr(t){return t[KA]||null}function ww(t){return t[QA]||null}function Ew(t){return t[YA]||null}function Dw(t){let e=Yr(t)||ww(t)||Ew(t);return e!==null?e.standalone:!1}function bw(t,e){let n=t[ZA]||null;if(!n&&e===!0)throw new Error(`Type ${gt(t)} does not have '\u0275mod' property.`);return n}function Cw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||rs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||xt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:AI(t.inputs,e),outputs:AI(t.outputs),debugInfo:null}}function Tw(t){t.features?.forEach(e=>e(t))}function RI(t,e){if(!t)return null;let n=e?Ew:CR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(TR)}function SR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ft(t){return{\u0275providers:t}}function AR(...t){return{\u0275providers:Sw(!0,t),\u0275fromNgModule:!0}}function Sw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return qf(e,o=>{let c=o;nf(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Aw(i,s),n}function Aw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Gf(i,s=>{e(s,r)})}}function nf(t,e,n,r){if(t=pt(t),!t)return!1;let i=null,s=EI(t),o=!s&&Yr(t);if(!s&&!o){let u=t.ngModule;if(s=EI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)nf(d,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let d;try{qf(s.imports,f=>{nf(f,e,n,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&Aw(d,e)}if(!c){let d=ns(i)||(()=>new i);e({provide:i,useFactory:d,deps:xt},i),e({provide:vw,useValue:i,multi:!0},i),e({provide:is,useValue:()=>X(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let d=t;Gf(u,f=>{e(f,d)})}}else return!1;return i!==t&&t.providers!==void 0}function Gf(t,e){for(let n of t)lw(n)&&(n=n.\u0275providers),Array.isArray(n)?Gf(n,e):e(n)}var RR=_e({provide:String,useValue:_e});function Rw(t){return t!==null&&typeof t=="object"&&RR in t}function MR(t){return!!(t&&t.useExisting)}function NR(t){return!!(t&&t.useFactory)}function ss(t){return typeof t=="function"}function xR(t){return!!t.useClass}var Au=new U(""),Jc={},PR={},jh;function Wf(){return jh===void 0&&(jh=new ou),jh}var kt=class{},Vo=class extends kt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sf(e,o=>this.processProvider(o)),this.records.set(yw,Zi(void 0,this)),i.has("environment")&&this.records.set(kt,Zi(void 0,this));let s=this.records.get(Au);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(vw,xt,ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=lr(this),r=Nt(void 0),i;try{return e()}finally{lr(n),Nt(r)}}get(e,n=Fo,r=ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(bI))return e[bI](this);r=Su(r);let i,s=lr(this),o=Nt(void 0);try{if(!(r&ee.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=VR(e)&&Tu(e);d&&this.injectableDefInScope(d)?u=Zi(rf(e),Jc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&ee.Self?Wf():this.parent;return n=r&ee.Optional&&n===Fo?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[iu]=c[iu]||[]).unshift(gt(e)),s)throw c;return aR(c,e,"R3InjectorError",this.source)}else throw c}finally{Nt(o),lr(s)}}resolveInjectorInitializers(){let e=pe(null),n=lr(this),r=Nt(void 0),i;try{let s=this.get(is,xt,ee.Self);for(let o of s)o()}finally{lr(n),Nt(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(gt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=pt(e);let n=ss(e)?e:pt(e&&e.provide),r=kR(e);if(!ss(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Zi(void 0,Jc,!0),i.factory=()=>ef(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===Jc&&(n.value=PR,n.value=n.factory()),typeof n.value=="object"&&n.value&&LR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=pt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function rf(t){let e=Tu(t),n=e!==null?e.factory:ns(t);if(n!==null)return n;if(t instanceof U)throw new B(204,!1);if(t instanceof Function)return OR(t);throw new B(204,!1)}function OR(t){if(t.length>0)throw new B(204,!1);let n=GA(t);return n!==null?()=>n.factory(t):()=>new t}function kR(t){if(Rw(t))return Zi(void 0,t.useValue);{let e=Mw(t);return Zi(e,Jc)}}function Mw(t,e,n){let r;if(ss(t)){let i=pt(t);return ns(i)||rf(i)}else if(Rw(t))r=()=>pt(t.useValue);else if(NR(t))r=()=>t.useFactory(...ef(t.deps||[]));else if(MR(t))r=()=>X(pt(t.useExisting));else{let i=pt(t&&(t.useClass||t.provide));if(FR(t))r=()=>new i(...ef(t.deps));else return ns(i)||rf(i)}return r}function Zi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function FR(t){return!!t.deps}function LR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function VR(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function sf(t,e){for(let n of t)Array.isArray(n)?sf(n,e):n&&lw(n)?sf(n.\u0275providers,e):e(n)}function Pn(t,e){t instanceof Vo&&t.assertNotDestroyed();let n,r=lr(t),i=Nt(void 0);try{return e()}finally{lr(r),Nt(i)}}function UR(){return hw()!==void 0||iR()!=null}function jR(t){return typeof t=="function"}var On=0,ae=1,W=2,mt=3,Gt=4,Kt=5,au=6,cu=7,Wt=8,os=9,Rn=10,ct=11,Uo=12,MI=13,ps=14,sn=15,as=16,Ji=17,cs=18,Ru=19,Nw=20,dr=21,Bh=22,Pt=23,pr=25,xw=1;var Zr=7,uu=8,lu=9,Ot=10,du=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(du||{});function hr(t){return Array.isArray(t)&&typeof t[xw]=="object"}function kn(t){return Array.isArray(t)&&t[xw]===!0}function Pw(t){return(t.flags&4)!==0}function Mu(t){return t.componentOffset>-1}function Kf(t){return(t.flags&1)===1}function gr(t){return!!t.template}function of(t){return(t[W]&512)!==0}var af=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ow(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ii(){return kw}function kw(t){return t.type.prototype.ngOnChanges&&(t.setInput=$R),BR}ii.ngInherit=!0;function BR(){let t=Lw(this),e=t?.current;if(e){let n=t.previous;if(n===rs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function $R(t,e,n,r,i){let s=this.declaredInputs[r],o=Lw(t)||HR(t,{previous:rs,current:null}),c=o.current||(o.current={}),u=o.previous,d=u[s];c[s]=new af(d&&d.currentValue,n,u===rs),Ow(t,e,i,n)}var Fw="__ngSimpleChanges__";function Lw(t){return t[Fw]||null}function HR(t,e){return t[Fw]=e}var NI=null;var tn=function(t,e,n){NI?.(t,e,n)},qR="svg",zR="math";function on(t){for(;Array.isArray(t);)t=t[On];return t}function Vw(t,e){return on(e[t])}function Qt(t,e){return on(e[t.index])}function Uw(t,e){return t.data[e]}function _r(t,e){let n=e[t];return hr(n)?n:n[On]}function Qf(t){return(t[W]&128)===128}function GR(t){return kn(t[mt])}function hu(t,e){return e==null?null:t[e]}function jw(t){t[Ji]=0}function Bw(t){t[W]&1024||(t[W]|=1024,Qf(t)&&xu(t))}function WR(t,e){for(;t>0;)e=e[ps],t--;return e}function Nu(t){return!!(t[W]&9216||t[Pt]?.dirty)}function cf(t){t[Rn].changeDetectionScheduler?.notify(8),t[W]&64&&(t[W]|=1024),Nu(t)&&xu(t)}function xu(t){t[Rn].changeDetectionScheduler?.notify(0);let e=Jr(t);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!Qf(e)));)e=Jr(e)}function $w(t,e){if((t[W]&256)===256)throw new B(911,!1);t[dr]===null&&(t[dr]=[]),t[dr].push(e)}function KR(t,e){if(t[dr]===null)return;let n=t[dr].indexOf(e);n!==-1&&t[dr].splice(n,1)}function Jr(t){let e=t[mt];return kn(e)?e[mt]:e}var ce={lFrame:Jw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Hw=!1;function QR(){return ce.lFrame.elementDepthCount}function YR(){ce.lFrame.elementDepthCount++}function ZR(){ce.lFrame.elementDepthCount--}function qw(){return ce.bindingsEnabled}function JR(){return ce.skipHydrationRootTNode!==null}function XR(t){return ce.skipHydrationRootTNode===t}function eM(){ce.skipHydrationRootTNode=null}function Me(){return ce.lFrame.lView}function un(){return ce.lFrame.tView}function Ir(t){return ce.lFrame.contextLView=t,t[Wt]}function wr(t){return ce.lFrame.contextLView=null,t}function Ct(){let t=zw();for(;t!==null&&t.type===64;)t=t.parent;return t}function zw(){return ce.lFrame.currentTNode}function tM(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function zo(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function Gw(){return ce.lFrame.isParent}function nM(){ce.lFrame.isParent=!1}function Ww(){return Hw}function xI(t){Hw=t}function rM(t){return ce.lFrame.bindingIndex=t}function Kw(){return ce.lFrame.bindingIndex++}function iM(t){let e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function sM(){return ce.lFrame.inI18n}function oM(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,uf(e)}function aM(){return ce.lFrame.currentDirectiveIndex}function uf(t){ce.lFrame.currentDirectiveIndex=t}function cM(t){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Qw(t){ce.lFrame.currentQueryIndex=t}function uM(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[Kt]:null}function Yw(t,e,n){if(n&ee.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ee.Host);)if(i=uM(s),i===null||(s=s[ps],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ce.lFrame=Zw();return r.currentTNode=e,r.lView=t,!0}function Yf(t){let e=Zw(),n=t[ae];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Zw(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?Jw(t):e}function Jw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Xw(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var eE=Xw;function Zf(){let t=Xw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lM(t){return(ce.lFrame.contextLView=WR(t,ce.lFrame.contextLView))[Wt]}function gs(){return ce.lFrame.selectedIndex}function Xr(t){ce.lFrame.selectedIndex=t}function dM(){let t=ce.lFrame;return Uw(t.tView,t.selectedIndex)}function hM(){return ce.lFrame.currentNamespace}var tE=!0;function Jf(){return tE}function Xf(t){tE=t}function fM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=kw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function ep(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Xc(t,e,n){nE(t,e,3,n)}function eu(t,e,n,r){(t[W]&3)===n&&nE(t,e,n,r)}function $h(t,e){let n=t[W];(n&3)===e&&(n&=16383,n+=1,t[W]=n)}function nE(t,e,n,r){let i=r!==void 0?t[Ji]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Ji]+=65536),(c<s||s==-1)&&(pM(t,n,e,u),t[Ji]=(t[Ji]&4294901760)+u+2),u++}function PI(t,e){tn(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),tn(5,t,e)}}function pM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[W]>>14<t[Ji]>>16&&(t[W]&3)===e&&(t[W]+=16384,PI(c,s)):PI(c,s)}var ts=-1,ei=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function gM(t){return t instanceof ei}function mM(t){return(t.flags&8)!==0}function yM(t){return(t.flags&16)!==0}var Hh={},lf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Su(r);let i=this.injector.get(e,Hh,r);return i!==Hh||n===Hh?i:this.parentInjector.get(e,n,r)}};function rE(t){return t!==ts}function fu(t){return t&32767}function vM(t){return t>>16}function pu(t,e){let n=vM(t),r=e;for(;n>0;)r=r[ps],n--;return r}var df=!0;function OI(t){let e=df;return df=t,e}var _M=256,iE=_M-1,sE=5,IM=0,nn={};function wM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ko)&&(r=n[ko]),r==null&&(r=n[ko]=IM++);let i=r&iE,s=1<<i;e.data[t+(i>>sE)]|=s}function gu(t,e){let n=oE(t,e);if(n!==-1)return n;let r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,qh(r.data,t),qh(e,null),qh(r.blueprint,null));let i=tp(t,e),s=t.injectorIndex;if(rE(i)){let o=fu(i),c=pu(i,e),u=c[ae].data;for(let d=0;d<8;d++)e[s+d]=c[o+d]|u[o+d]}return e[s+8]=i,s}function qh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function oE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function tp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=dE(i),r===null)return ts;if(n++,i=i[ps],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ts}function hf(t,e,n){wM(t,e,n)}function aE(t,e,n){if(n&ee.Optional||t!==void 0)return t;Hf(e,"NodeInjector")}function cE(t,e,n,r){if(n&ee.Optional&&r===void 0&&(r=null),!(n&(ee.Self|ee.Host))){let i=t[os],s=Nt(void 0);try{return i?i.get(e,r,n&ee.Optional):fw(e,r,n&ee.Optional)}finally{Nt(s)}}return aE(r,e,n)}function uE(t,e,n,r=ee.Default,i){if(t!==null){if(e[W]&2048&&!(r&ee.Self)){let o=TM(t,e,n,r,nn);if(o!==nn)return o}let s=lE(t,e,n,r,nn);if(s!==nn)return s}return cE(e,n,r,i)}function lE(t,e,n,r,i){let s=bM(n);if(typeof s=="function"){if(!Yw(e,t,r))return r&ee.Host?aE(i,n,r):cE(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ee.Optional))Hf(n);else return o}finally{eE()}}else if(typeof s=="number"){let o=null,c=oE(t,e),u=ts,d=r&ee.Host?e[sn][Kt]:null;for((c===-1||r&ee.SkipSelf)&&(u=c===-1?tp(t,e):e[c+8],u===ts||!FI(r,!1)?c=-1:(o=e[ae],c=fu(u),e=pu(u,e)));c!==-1;){let f=e[ae];if(kI(s,c,f.data)){let g=EM(c,e,n,o,r,d);if(g!==nn)return g}u=e[c+8],u!==ts&&FI(r,e[ae].data[c+8]===d)&&kI(s,c,e)?(o=f,c=fu(u),e=pu(u,e)):c=-1}}return i}function EM(t,e,n,r,i,s){let o=e[ae],c=o.data[t+8],u=r==null?Mu(c)&&df:r!=o&&(c.type&3)!==0,d=i&ee.Host&&s===c,f=DM(c,o,n,u,d);return f!==null?us(e,o,f,c):nn}function DM(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,d=t.directiveEnd,f=s>>20,g=r?c:c+f,_=i?c+f:d;for(let I=g;I<_;I++){let S=o[I];if(I<u&&n===S||I>=u&&S.type===n)return I}if(i){let I=o[u];if(I&&gr(I)&&I.type===n)return u}return null}function us(t,e,n,r){let i=t[n],s=e.data;if(gM(i)){let o=i;o.resolving&&XA(JA(s[n]));let c=OI(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?Nt(o.injectImpl):null,f=Yw(t,r,ee.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&fM(n,s[n],e)}finally{d!==null&&Nt(d),OI(c),o.resolving=!1,eE()}}return i}function bM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ko)?t[ko]:void 0;return typeof e=="number"?e>=0?e&iE:CM:e}function kI(t,e,n){let r=1<<t;return!!(n[e+(t>>sE)]&r)}function FI(t,e){return!(t&ee.Self)&&!(t&ee.Host&&e)}var Qr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return uE(this._tNode,this._lView,e,Su(r),n)}};function CM(){return new Qr(Ct(),Me())}function Er(t){return Ho(()=>{let e=t.prototype.constructor,n=e[ru]||ff(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ru]||ff(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ff(t){return ow(t)?()=>{let e=ff(pt(t));return e&&e()}:ns(t)}function TM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[W]&2048&&!(o[W]&512);){let c=lE(s,o,n,r|ee.Self,nn);if(c!==nn)return c;let u=s.parent;if(!u){let d=o[Nw];if(d){let f=d.get(n,nn,r);if(f!==nn)return f}u=dE(o),o=o[ps]}s=u}return i}function dE(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[Kt]:null}function LI(t,e=null,n=null,r){let i=hE(t,e,n,r);return i.resolveInjectorInitializers(),i}function hE(t,e=null,n=null,r,i=new Set){let s=[n||xt,AR(t)];return r=r||(typeof t=="object"?void 0:gt(t)),new Vo(s,e||Wf(),r||null,i)}var Xe=class t{static{this.THROW_IF_NOT_FOUND=Fo}static{this.NULL=new ou}static create(e,n){if(Array.isArray(e))return LI({name:""},n,e,"");{let r=e.name??"";return LI({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=H({token:t,providedIn:"any",factory:()=>X(yw)})}static{this.__NG_ELEMENT_ID__=-1}};var SM=new U("");SM.__NG_ELEMENT_ID__=t=>{let e=Ct();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&ee.Optional)return null;throw new B(204,!1)};var AM="ngOriginalError";function zh(t){return t[AM]}var fE=!0,pE=(()=>{class t{static{this.__NG_ELEMENT_ID__=RM}static{this.__NG_ENV_ID__=n=>n}}return t})(),pf=class extends pE{constructor(e){super(),this._lView=e}onDestroy(e){return $w(this._lView,e),()=>KR(this._lView,e)}};function RM(){return new pf(Me())}var ms=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}}return t})();var gf=class extends Ze{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,UR()&&(this.destroyRef=k(pE,{optional:!0})??void 0,this.pendingTasks=k(ms,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Se&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ke=gf;function mu(...t){}function gE(t){let e,n;function r(){t=mu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function VI(t){return queueMicrotask(()=>t()),()=>{t=mu}}var np="isAngularZone",yu=np+"_ID",MM=0,me=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ke(!1),this.onMicrotaskEmpty=new ke(!1),this.onStable=new ke(!1),this.onError=new ke(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=fE}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,PM(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(np)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,NM,mu,mu);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},NM={};function rp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){gE(()=>{t.callbackScheduled=!1,mf(t),t.isCheckStableRunning=!0,rp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),mf(t)}function PM(t){let e=()=>{xM(t)},n=MM++;t._inner=t._inner.fork({name:"angular",properties:{[np]:!0,[yu]:n,[yu+n]:!0},onInvokeTask:(r,i,s,o,c,u)=>{if(OM(u))return r.invokeTask(s,o,c,u);try{return UI(t),r.invokeTask(s,o,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),jI(t)}},onInvoke:(r,i,s,o,c,u,d)=>{try{return UI(t),r.invoke(s,o,c,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!kM(u)&&e(),jI(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,mf(t),rp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function mf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function UI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jI(t){t._nesting--,rp(t)}var yf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ke,this.onMicrotaskEmpty=new ke,this.onStable=new ke,this.onError=new ke}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function OM(t){return mE(t,"__ignore_ng_zone__")}function kM(t){return mE(t,"__scheduler_tick__")}function mE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Mn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&zh(e);for(;n&&zh(n);)n=zh(n);return n||null}},FM=new U("",{providedIn:"root",factory:()=>{let t=k(me),e=k(Mn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function LM(){return Pu(Ct(),Me())}function Pu(t,e){return new ln(Qt(t,e))}var ln=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=LM}}return t})();function yE(t){return(t.flags&128)===128}var vE=new Map,VM=0;function UM(){return VM++}function jM(t){vE.set(t[Ru],t)}function vf(t){vE.delete(t[Ru])}var BI="__ngContext__";function ti(t,e){hr(e)?(t[BI]=e[Ru],jM(e)):t[BI]=e}function _E(t){return wE(t[Uo])}function IE(t){return wE(t[Gt])}function wE(t){for(;t!==null&&!kn(t);)t=t[Gt];return t}var _f;function EE(t){_f=t}function BM(){if(_f!==void 0)return _f;if(typeof document<"u")return document;throw new B(210,!1)}var ip=new U("",{providedIn:"root",factory:()=>$M}),$M="ng",sp=new U(""),Dr=new U("",{providedIn:"platform",factory:()=>"unknown"});var op=new U("",{providedIn:"root",factory:()=>BM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var HM="h",qM="b";var zM=()=>null;function ap(t,e,n=!1){return zM(t,e,n)}var DE=!1,GM=new U("",{providedIn:"root",factory:()=>DE});var If=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$A})`}};function cp(t){return t instanceof If?t.changingThisBreaksApplicationSecurity:t}function bE(t){return t instanceof Function?t():t}var Nn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Nn||{}),WM;function up(t,e){return WM(t,e)}function Xi(t,e,n,r,i){if(r!=null){let s,o=!1;kn(r)?s=r:hr(r)&&(o=!0,r=r[On]);let c=on(r);t===0&&n!==null?i==null?RE(e,n,c):vu(e,n,c,i||null,!0):t===1&&n!==null?vu(e,n,c,i||null,!0):t===2?cN(e,c,o):t===3&&e.destroyNode(c),s!=null&&lN(e,t,s,n,i)}}function KM(t,e){return t.createText(e)}function QM(t,e,n){t.setValue(e,n)}function CE(t,e,n){return t.createElement(e,n)}function YM(t,e){TE(t,e),e[On]=null,e[Kt]=null}function ZM(t,e,n,r,i,s){r[On]=i,r[Kt]=e,Ou(t,r,n,1,i,s)}function TE(t,e){e[Rn].changeDetectionScheduler?.notify(9),Ou(t,e,e[ct],2,null,null)}function JM(t){let e=t[Uo];if(!e)return Gh(t[ae],t);for(;e;){let n=null;if(hr(e))n=e[Uo];else{let r=e[Ot];r&&(n=r)}if(!n){for(;e&&!e[Gt]&&e!==t;)hr(e)&&Gh(e[ae],e),e=e[mt];e===null&&(e=t),hr(e)&&Gh(e[ae],e),n=e&&e[Gt]}e=n}}function XM(t,e,n,r){let i=Ot+r,s=n.length;r>0&&(n[i-1][Gt]=e),r<s-Ot?(e[Gt]=n[i],mw(n,Ot+r,e)):(n.push(e),e[Gt]=null),e[mt]=n;let o=e[as];o!==null&&n!==o&&SE(o,e);let c=e[cs];c!==null&&c.insertView(t),cf(e),e[W]|=128}function SE(t,e){let n=t[lu],r=e[mt];if(hr(r))t[W]|=du.HasTransplantedViews;else{let i=r[mt][sn];e[sn]!==i&&(t[W]|=du.HasTransplantedViews)}n===null?t[lu]=[e]:n.push(e)}function lp(t,e){let n=t[lu],r=n.indexOf(e);n.splice(r,1)}function wf(t,e){if(t.length<=Ot)return;let n=Ot+e,r=t[n];if(r){let i=r[as];i!==null&&i!==t&&lp(i,r),e>0&&(t[n-1][Gt]=r[Gt]);let s=su(t,Ot+e);YM(r[ae],r);let o=s[cs];o!==null&&o.detachView(s[ae]),r[mt]=null,r[Gt]=null,r[W]&=-129}return r}function AE(t,e){if(!(e[W]&256)){let n=e[ct];n.destroyNode&&Ou(t,e,n,3,null,null),JM(e)}}function Gh(t,e){if(e[W]&256)return;let n=pe(null);try{e[W]&=-129,e[W]|=256,e[Pt]&&mh(e[Pt]),tN(t,e),eN(t,e),e[ae].type===1&&e[ct].destroy();let r=e[as];if(r!==null&&kn(e[mt])){r!==e[mt]&&lp(r,e);let i=e[cs];i!==null&&i.detachView(t)}vf(e)}finally{pe(n)}}function eN(t,e){let n=t.cleanup,r=e[cu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[cu]=null);let i=e[dr];if(i!==null){e[dr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function tN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ei)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];tn(4,c,u);try{u.call(c)}finally{tn(5,c,u)}}else{tn(4,i,s);try{s.call(i)}finally{tn(5,i,s)}}}}}function nN(t,e,n){return rN(t,e.parent,n)}function rN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[On];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===rn.None||s===rn.Emulated)return null}return Qt(r,n)}}function vu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function RE(t,e,n){t.appendChild(e,n)}function $I(t,e,n,r,i){r!==null?vu(t,e,n,r,i):RE(t,e,n)}function ME(t,e){return t.parentNode(e)}function iN(t,e){return t.nextSibling(e)}function sN(t,e,n){return aN(t,e,n)}function oN(t,e,n){return t.type&40?Qt(t,n):null}var aN=oN,HI;function dp(t,e,n,r){let i=nN(t,r,e),s=e[ct],o=r.parent||e[Kt],c=sN(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)$I(s,i,n[u],c,!1);else $I(s,i,n,c,!1);HI!==void 0&&HI(s,r,e,n,i)}function Po(t,e){if(e!==null){let n=e.type;if(n&3)return Qt(e,t);if(n&4)return Ef(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Po(t,r);{let i=t[e.index];return kn(i)?Ef(-1,i):on(i)}}else{if(n&128)return Po(t,e.next);if(n&32)return up(e,t)()||on(t[e.index]);{let r=NE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Jr(t[sn]);return Po(i,r)}else return Po(t,e.next)}}}return null}function NE(t,e){if(e!==null){let r=t[sn][Kt],i=e.projection;return r.projection[i]}return null}function Ef(t,e){let n=Ot+t+1;if(n<e.length){let r=e[n],i=r[ae].firstChild;if(i!==null)return Po(r,i)}return e[Zr]}function cN(t,e,n){t.removeChild(null,e,n)}function hp(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(o&&e===0&&(c&&ti(on(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)hp(t,e,n.child,r,i,s,!1),Xi(e,t,i,c,s);else if(u&32){let d=up(n,r),f;for(;f=d();)Xi(e,t,i,f,s);Xi(e,t,i,c,s)}else u&16?uN(t,e,r,n,i,s):Xi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Ou(t,e,n,r,i,s){hp(n,r,t.firstChild,e,i,s,!1)}function uN(t,e,n,r,i,s){let o=n[sn],u=o[Kt].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];Xi(e,t,i,f,s)}else{let d=u,f=o[mt];yE(r)&&(d.flags|=128),hp(t,e,d,f,i,s,!0)}}function lN(t,e,n,r,i){let s=n[Zr],o=on(n);s!==o&&Xi(e,t,r,s,i);for(let c=Ot;c<n.length;c++){let u=n[c];Ou(u[ae],u,t,e,r,s)}}function dN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Nn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Nn.Important),t.setStyle(n,r,i,s))}}function hN(t,e,n){t.setAttribute(e,"style",n)}function xE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function PE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&tf(t,e,r),i!==null&&xE(t,e,i),s!==null&&hN(t,e,s)}var ys={};function yt(t=1){OE(un(),Me(),gs()+t,!1)}function OE(t,e,n,r){if(!r)if((e[W]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Xc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&eu(e,s,0,n)}Xr(n)}function te(t,e=ee.Default){let n=Me();if(n===null)return X(t,e);let r=Ct();return uE(r,n,pt(t),e)}function kE(t,e,n,r,i,s){let o=pe(null);try{let c=null;i&fr.SignalBased&&(c=e[r][ir]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&fr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):Ow(e,c,r,s)}finally{pe(o)}}function fN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Xr(~i);else{let s=i,o=n[++r],c=n[++r];oM(o,s);let u=e[s];c(2,u)}}}finally{Xr(-1)}}function ku(t,e,n,r,i,s,o,c,u,d,f){let g=e.blueprint.slice();return g[On]=i,g[W]=r|4|128|8|64,(d!==null||t&&t[W]&2048)&&(g[W]|=2048),jw(g),g[mt]=g[ps]=t,g[Wt]=n,g[Rn]=o||t&&t[Rn],g[ct]=c||t&&t[ct],g[os]=u||t&&t[os]||null,g[Kt]=s,g[Ru]=UM(),g[au]=f,g[Nw]=d,g[sn]=e.type==2?t[sn]:g,g}function Fu(t,e,n,r,i){let s=t.data[e];if(s===null)s=pN(t,e,n,r,i),sM()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=tM();s.injectorIndex=o===null?-1:o.injectorIndex}return zo(s,!0),s}function pN(t,e,n,r,i){let s=zw(),o=Gw(),c=o?s:s&&s.parent,u=t.data[e]=_N(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function FE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function LE(t,e,n,r,i){let s=gs(),o=r&2;try{Xr(-1),o&&e.length>pr&&OE(t,e,pr,!1),tn(o?2:0,i),n(r,i)}finally{Xr(s),tn(o?3:1,i)}}function VE(t,e,n){if(Pw(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{pe(r)}}}function UE(t,e,n){qw()&&(TN(t,e,n,Qt(n,e)),(n.flags&64)===64&&qE(t,e,n))}function jE(t,e,n=Qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function BE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=fp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function fp(t,e,n,r,i,s,o,c,u,d,f){let g=pr+r,_=g+i,I=gN(g,_),S=typeof d=="function"?d():d;return I[ae]={type:t,blueprint:I,template:n,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function gN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ys);return n}function mN(t,e,n,r){let s=r.get(GM,DE)||n===rn.ShadowDom,o=t.selectRootElement(e,s);return yN(o),o}function yN(t){vN(t)}var vN=()=>null;function _N(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return JR()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function qI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=fr.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}t===0?zI(r,n,d,c,u):zI(r,n,d,c)}return r}function zI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function IN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,d=null;for(let f=r;f<i;f++){let g=s[f],_=n?n.get(g):null,I=_?_.inputs:null,S=_?_.outputs:null;u=qI(0,g.inputs,f,u,I),d=qI(1,g.outputs,f,d,S);let N=u!==null&&o!==null&&!zf(e)?kN(u,f,o):null;c.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=d}function wN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function EN(t,e,n,r,i,s,o,c){let u=Qt(e,n),d=e.inputs,f;!c&&d!=null&&(f=d[r])?(pp(t,n,f,r,i),Mu(e)&&DN(n,e.index)):e.type&3?(r=wN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function DN(t,e){let n=_r(e,t);n[W]&16||(n[W]|=64)}function $E(t,e,n,r){if(qw()){let i=r===null?null:{"":-1},s=AN(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&HE(t,e,n,o,i,c),i&&RN(n,r,i)}n.mergedAttrs=Lo(n.mergedAttrs,n.attrs)}function HE(t,e,n,r,i,s){for(let d=0;d<r.length;d++)hf(gu(n,e),t,r[d].type);NN(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let f=r[d];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=FE(t,e,r.length,null);for(let d=0;d<r.length;d++){let f=r[d];n.mergedAttrs=Lo(n.mergedAttrs,f.hostAttrs),xN(t,n,e,u,f),MN(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}IN(t,n,s)}function bN(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;CN(o)!=c&&o.push(c),o.push(n,r,s)}}function CN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function TN(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Mu(n)&&PN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||gu(n,e),ti(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],d=us(e,t,c,n);if(ti(d,e),o!==null&&ON(e,c-i,d,u,n,o),gr(u)){let f=_r(n.index,e);f[Wt]=us(e,t,c,n)}}}function qE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=aM();try{Xr(s);for(let c=r;c<i;c++){let u=t.data[c],d=e[c];uf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&SN(u,d)}}finally{Xr(-1),uf(o)}}function SN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function AN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(_R(e,o.selectors,!1))if(r||(r=[]),gr(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Df(t,e,u)}else r.unshift(o),Df(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Df(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function RN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new B(-301,!1);r.push(e[i],s)}}}function MN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gr(e)&&(n[""]=t)}}function NN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function xN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ns(i.type,!0)),o=new ei(s,gr(i),te);t.blueprint[r]=o,n[r]=o,bN(t,e,r,FE(t,n,i.hostVars,ys),i)}function PN(t,e,n){let r=Qt(e,t),i=BE(n),s=t[Rn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=Lu(t,ku(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function ON(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],d=o[c++],f=o[c++],g=o[c++];kE(r,n,u,d,f,g)}}function kN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function zE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function GE(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];Qw(s),c.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function Lu(t,e){return t[Uo]?t[MI][Gt]=e:t[Uo]=e,t[MI]=e,e}function bf(t,e,n){Qw(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function FN(t){return t[cu]??=[]}function LN(t){return t.cleanup??=[]}function WE(t,e){let n=t[os],r=n?n.get(Mn,null):null;r&&r.handleError(e)}function pp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],d=e[o],f=t.data[o];kE(f,d,r,c,u,i)}}function VN(t,e,n){let r=Vw(e,t);QM(t[ct],r,n)}function UN(t,e){let n=_r(e,t),r=n[ae];jN(r,n);let i=n[On];i!==null&&n[au]===null&&(n[au]=ap(i,n[os])),gp(r,n,n[Wt])}function jN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function gp(t,e,n){Yf(e);try{let r=t.viewQuery;r!==null&&bf(1,r,n);let i=t.template;i!==null&&LE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[cs]?.finishViewCreation(t),t.staticContentQueries&&GE(t,e),t.staticViewQueries&&bf(2,t.viewQuery,n);let s=t.components;s!==null&&BN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[W]&=-5,Zf()}}function BN(t,e){for(let n=0;n<e.length;n++)UN(t,e[n])}function $N(t,e,n,r){let i=pe(null);try{let s=e.tView,c=t[W]&4096?4096:16,u=ku(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[as]=d;let f=t[cs];return f!==null&&(u[cs]=f.createEmbeddedView(s)),gp(s,u,n),u}finally{pe(i)}}function GI(t,e){return!e||e.firstChild===null||yE(t)}function HN(t,e,n,r=!0){let i=e[ae];if(XM(i,e,t,n),r){let o=Ef(n,t),c=e[ct],u=ME(c,t[Zr]);u!==null&&ZM(i,t[Kt],c,e,u,o)}let s=e[au];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function _u(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(on(s)),kn(s)&&qN(s,r);let o=n.type;if(o&8)_u(t,e,n.child,r);else if(o&32){let c=up(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=NE(e,n);if(Array.isArray(c))r.push(...c);else{let u=Jr(e[sn]);_u(u[ae],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function qN(t,e){for(let n=Ot;n<t.length;n++){let r=t[n],i=r[ae].firstChild;i!==null&&_u(r[ae],r,i,e)}t[Zr]!==t[On]&&e.push(t[Zr])}var KE=[];function zN(t){return t[Pt]??GN(t)}function GN(t){let e=KE.pop()??Object.create(KN);return e.lView=t,e}function WN(t){t.lView[Pt]!==t&&(t.lView=null,KE.push(t))}var KN=re(O({},Ro),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{xu(t.lView)},consumerOnSignalRead(){this.lView[Pt]=this}});function QN(t){let e=t[Pt]??Object.create(YN);return e.lView=t,e}var YN=re(O({},Ro),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Jr(t.lView);for(;e&&!QE(e[ae]);)e=Jr(e);e&&Bw(e)},consumerOnSignalRead(){this.lView[Pt]=this}});function QE(t){return t.type!==2}var ZN=100;function YE(t,e=!0,n=0){let r=t[Rn],i=r.rendererFactory,s=!1;s||i.begin?.();try{JN(t,n)}catch(o){throw e&&WE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function JN(t,e){let n=Ww();try{xI(!0),Cf(t,e);let r=0;for(;Nu(t);){if(r===ZN)throw new B(103,!1);r++,Cf(t,1)}}finally{xI(n)}}function XN(t,e,n,r){let i=e[W];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Rn].inlineEffectRunner?.flush(),Yf(e);let c=!0,u=null,d=null;s||(QE(t)?(d=zN(e),u=Ic(d)):F_()===null?(c=!1,d=QN(e),u=Ic(d)):e[Pt]&&(mh(e[Pt]),e[Pt]=null));try{jw(e),rM(t.bindingStartIndex),n!==null&&LE(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let I=t.preOrderCheckHooks;I!==null&&Xc(e,I,null)}else{let I=t.preOrderHooks;I!==null&&eu(e,I,0,null),$h(e,0)}if(o||ex(e),ZE(e,0),t.contentQueries!==null&&GE(t,e),!s)if(f){let I=t.contentCheckHooks;I!==null&&Xc(e,I)}else{let I=t.contentHooks;I!==null&&eu(e,I,1),$h(e,1)}fN(t,e);let g=t.components;g!==null&&XE(e,g,0);let _=t.viewQuery;if(_!==null&&bf(2,_,r),!s)if(f){let I=t.viewCheckHooks;I!==null&&Xc(e,I)}else{let I=t.viewHooks;I!==null&&eu(e,I,2),$h(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Bh]){for(let I of e[Bh])I();e[Bh]=null}s||(e[W]&=-73)}catch(f){throw s||xu(e),f}finally{d!==null&&(ph(d,u),c&&WN(d)),Zf()}}function ZE(t,e){for(let n=_E(t);n!==null;n=IE(n))for(let r=Ot;r<n.length;r++){let i=n[r];JE(i,e)}}function ex(t){for(let e=_E(t);e!==null;e=IE(e)){if(!(e[W]&du.HasTransplantedViews))continue;let n=e[lu];for(let r=0;r<n.length;r++){let i=n[r];Bw(i)}}}function tx(t,e,n){let r=_r(e,t);JE(r,n)}function JE(t,e){Qf(t)&&Cf(t,e)}function Cf(t,e){let r=t[ae],i=t[W],s=t[Pt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&gh(s)),o||=!1,s&&(s.dirty=!1),t[W]&=-9217,o)XN(r,t,r.template,t[Wt]);else if(i&8192){ZE(t,1);let c=r.components;c!==null&&XE(t,c,1)}}function XE(t,e,n){for(let r=0;r<e.length;r++)tx(t,e[r],n)}function mp(t,e){let n=Ww()?64:1088;for(t[Rn].changeDetectionScheduler?.notify(e);t;){t[W]|=n;let r=Jr(t);if(of(t)&&!r)return t;t=r}return null}var ni=class{get rootNodes(){let e=this._lView,n=e[ae];return _u(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wt]}set context(e){this._lView[Wt]=e}get destroyed(){return(this._lView[W]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[mt];if(kn(e)){let n=e[uu],r=n?n.indexOf(this):-1;r>-1&&(wf(e,r),su(n,r))}this._attachedToViewContainer=!1}AE(this._lView[ae],this._lView)}onDestroy(e){$w(this._lView,e)}markForCheck(){mp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){cf(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,YE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=of(this._lView),n=this._lView[as];n!==null&&!e&&lp(n,this._lView),TE(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=of(this._lView),r=this._lView[as];r!==null&&!n&&SE(r,this._lView),cf(this._lView)}},Vu=(()=>{class t{static{this.__NG_ELEMENT_ID__=ix}}return t})(),nx=Vu,rx=class extends nx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=$N(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ni(i)}};function ix(){return sx(Ct(),Me())}function sx(t,e){return t.type&4?new rx(e,t,Pu(t,e)):null}var s3=new RegExp(`^(\\d+)*(${qM}|${HM})*(.*)`);var ox=()=>null;function WI(t,e){return ox(t,e)}var ls=class{},Uu=new U("",{providedIn:"root",factory:()=>!1});var eD=new U(""),tD=new U(""),Tf=class{},Iu=class{};function ax(t){let e=Error(`No component factory found for ${gt(t)}.`);return e[cx]=t,e}var cx="ngComponent";var Sf=class{resolveComponentFactory(e){throw ax(e)}},ds=class{static{this.NULL=new Sf}},hs=class{},Fn=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>ux()}}return t})();function ux(){let t=Me(),e=Ct(),n=_r(e.index,t);return(hr(n)?n:t)[ct]}var lx=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>null})}}return t})();function Af(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=II(i,c);else if(s==2){let u=c,d=e[++o];r=II(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var wu=class extends ds{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Yr(e);return new jo(n,this.ngModule)}};function KI(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,c=s?i[1]:fr.None;e?n.push({propName:o,templateName:r,isSignal:(c&fr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function dx(t){let e=t.toLowerCase();return e==="svg"?qR:e==="math"?zR:null}var jo=class extends Iu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=KI(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return KI(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=DR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof kt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new lf(e,o):e,u=c.get(hs,null);if(u===null)throw new B(407,!1);let d=c.get(lx,null),f=c.get(ls,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:f},_=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",S=r?mN(_,r,this.componentDef.encapsulation,c):CE(_,I,dx(I)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let R=null;S!==null&&(R=ap(S,c,!0));let F=fp(0,null,null,1,0,null,null,null,null,null,null),z=ku(null,F,null,N,null,null,g,_,c,null,R);Yf(z);let $,G,Ce=null;try{let se=this.componentDef,D,m=null;se.findHostDirectiveDefs?(D=[],m=new Map,se.findHostDirectiveDefs(se,D,m),D.push(se)):D=[se];let y=hx(z,S);Ce=fx(y,S,se,D,z,g,_),G=Uw(F,pr),S&&mx(_,se,S,r),n!==void 0&&yx(G,this.ngContentSelectors,n),$=gx(Ce,se,D,m,z,[vx]),gp(F,z,null)}catch(se){throw Ce!==null&&vf(Ce),vf(z),se}finally{Zf()}return new Rf(this.componentType,$,Pu(G,z),z,G)}finally{pe(s)}}},Rf=class extends Tf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ni(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;pp(s[ae],s,i,e,n),this.previousInputValues.set(e,n);let o=_r(this._tNode.index,s);mp(o,1)}}get injector(){return new Qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function hx(t,e){let n=t[ae],r=pr;return t[r]=e,Fu(n,r,2,"#host",null)}function fx(t,e,n,r,i,s,o){let c=i[ae];px(r,t,e,o);let u=null;e!==null&&(u=ap(e,i[os]));let d=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=ku(i,BE(n),null,f,i[t.index],t,s,d,null,null,u);return c.firstCreatePass&&Df(c,t,r.length-1),Lu(i,g),i[t.index]=g}function px(t,e,n,r){for(let i of t)e.mergedAttrs=Lo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Af(e,e.mergedAttrs,!0),n!==null&&PE(r,n,e))}function gx(t,e,n,r,i,s){let o=Ct(),c=i[ae],u=Qt(o,i);HE(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let g=o.directiveStart+f,_=us(i,c,g,o);ti(_,i)}qE(c,i,o),u&&ti(u,i);let d=us(i,c,o.directiveStart+o.componentOffset,o);if(t[Wt]=i[Wt]=d,s!==null)for(let f of s)f(d,e);return VE(c,o,i),d}function mx(t,e,n,r){if(r)tf(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:s}=bR(e.selectors[0]);i&&tf(t,n,i),s&&s.length>0&&xE(t,n,s.join(" "))}}function yx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function vx(){let t=Ct();ep(Me()[ae],t)}var vs=(()=>{class t{static{this.__NG_ELEMENT_ID__=_x}}return t})();function _x(){let t=Ct();return wx(t,Me())}var Ix=vs,nD=class extends Ix{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Pu(this._hostTNode,this._hostLView)}get injector(){return new Qr(this._hostTNode,this._hostLView)}get parentInjector(){let e=tp(this._hostTNode,this._hostLView);if(rE(e)){let n=pu(e,this._hostLView),r=fu(e),i=n[ae].data[r+8];return new Qr(i,n)}else return new Qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=QI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ot}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=WI(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,GI(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!jR(e),c;if(o)c=n;else{let S=n||{};c=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new jo(Yr(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?d:this.parentInjector).get(kt,null);N&&(s=N)}let f=Yr(u.componentType??{}),g=WI(this._lContainer,f?.id??null),_=g?.firstChild??null,I=u.create(d,i,_,s);return this.insertImpl(I.hostView,c,GI(this._hostTNode,g)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(GR(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[mt],d=new nD(u,u[Kt],u[mt]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return HN(o,i,s,r),e.attachToViewContainerRef(),mw(Wh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=QI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=wf(this._lContainer,n);r&&(su(Wh(this._lContainer),n),AE(r[ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=wf(this._lContainer,n);return r&&su(Wh(this._lContainer),n)!=null?new ni(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function QI(t){return t[uu]}function Wh(t){return t[uu]||(t[uu]=[])}function wx(t,e){let n,r=e[t.index];return kn(r)?n=r:(n=zE(r,e,null,t),e[t.index]=n,Lu(e,n)),Dx(n,e,t,r),new nD(n,t,e)}function Ex(t,e){let n=t[ct],r=n.createComment(""),i=Qt(e,t),s=ME(n,i);return vu(n,s,r,iN(n,i),!1),r}var Dx=Tx,bx=()=>!1;function Cx(t,e,n){return bx(t,e,n)}function Tx(t,e,n,r){if(t[Zr])return;let i;n.type&8?i=on(r):i=Ex(e,n),t[Zr]=i}var YI=new Set;function Go(t){YI.has(t)||(YI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Wo(t,e){Go("NgSignals");let n=W_(t),r=n[ir];return e?.equal&&(r.equal=e.equal),n.set=i=>yh(r,i),n.update=i=>K_(r,i),n.asReadonly=Sx.bind(n),n}function Sx(){let t=this[ir];if(t.readonlyFn===void 0){let e=()=>this();e[ir]=t,t.readonlyFn=e}return t.readonlyFn}function Ax(t){return Object.getPrototypeOf(t.prototype).constructor}function Lt(t){let e=Ax(t.type),n=!0,r=[t];for(;e;){let i;if(gr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Qc(t.inputs),o.inputTransforms=Qc(t.inputTransforms),o.declaredInputs=Qc(t.declaredInputs),o.outputs=Qc(t.outputs);let c=i.hostBindings;c&&Px(t,c);let u=i.viewQuery,d=i.contentQueries;if(u&&Nx(t,u),d&&xx(t,d),Rx(t,i),qA(t.outputs,i.outputs),gr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===Lt&&(n=!1)}}e=Object.getPrototypeOf(e)}Mx(r)}function Rx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Mx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Lo(i.hostAttrs,n=Lo(n,i.hostAttrs))}}function Qc(t){return t===rs?{}:t===xt?[]:t}function Nx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function xx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Px(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var mr=class{},Bo=class{};var Mf=class extends mr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wu(this);let s=bw(e);this._bootstrapComponents=bE(s.bootstrap),this._r3Injector=hE(e,n,[{provide:mr,useValue:this},{provide:ds,useValue:this.componentFactoryResolver},...r],gt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Nf=class extends Bo{constructor(e){super(),this.moduleType=e}create(e){return new Mf(this.moduleType,e,[])}};var Eu=class extends mr{constructor(e){super(),this.componentFactoryResolver=new wu(this),this.instance=null;let n=new Vo([...e.providers,{provide:mr,useValue:this},{provide:ds,useValue:this.componentFactoryResolver}],e.parent||Wf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function yp(t,e,n=null){return new Eu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function rD(t){return kx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Ox(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function kx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function vp(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Fx(t){return(t.flags&32)===32}function Lx(t,e,n,r,i,s,o,c,u){let d=e.consts,f=Fu(e,t,4,o||null,c||null);$E(e,n,f,hu(d,u)),ep(e,f);let g=f.tView=fp(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function Vx(t,e,n,r,i,s,o,c,u,d){let f=n+pr,g=e.firstCreatePass?Lx(f,e,t,r,i,s,o,c,u):e.data[f];zo(g,!1);let _=Ux(e,t,g,n);Jf()&&dp(e,t,_,g),ti(_,t);let I=zE(_,t,_,g);return t[f]=I,Lu(t,I),Cx(I,g,t),Kf(g)&&UE(e,t,g),u!=null&&jE(t,g,d),g}function Vt(t,e,n,r,i,s,o,c){let u=Me(),d=un(),f=hu(d.consts,s);return Vx(u,d,t,e,n,r,i,f,o,c),Vt}var Ux=jx;function jx(t,e,n,r){return Xf(!0),e[ct].createComment("")}var Oo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Oo||{}),Bx=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}}return t})(),ZI=class t{constructor(){this.ngZone=k(me),this.scheduler=k(ls),this.errorHandler=k(Mn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Oo.EarlyRead,Oo.Write,Oo.MixedReadWrite,Oo.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}};function $x(t,e,n,r){return vp(t,Kw(),n)?e+dw(n)+r:ys}function Yc(t,e){return t<<17|e<<2}function ri(t){return t>>17&32767}function Hx(t){return(t&2)==2}function qx(t,e){return t&131071|e<<17}function xf(t){return t|2}function fs(t){return(t&131068)>>2}function Kh(t,e){return t&-131069|e<<2}function zx(t){return(t&1)===1}function Pf(t){return t|1}function Gx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=ri(o),u=fs(o);t[r]=n;let d=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||qo(g,f)>0)&&(d=!0)}else f=n;if(i)if(u!==0){let _=ri(t[c+1]);t[r+1]=Yc(_,c),_!==0&&(t[_+1]=Kh(t[_+1],r)),t[c+1]=qx(t[c+1],r)}else t[r+1]=Yc(c,0),c!==0&&(t[c+1]=Kh(t[c+1],r)),c=r;else t[r+1]=Yc(u,0),c===0?c=r:t[u+1]=Kh(t[u+1],r),u=r;d&&(t[r+1]=xf(t[r+1])),JI(t,f,r,!0),JI(t,f,r,!1),Wx(e,f,t,r,s),o=Yc(c,u),s?e.classBindings=o:e.styleBindings=o}function Wx(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&qo(s,e)>=0&&(n[r+1]=Pf(n[r+1]))}function JI(t,e,n,r){let i=t[n+1],s=e===null,o=r?ri(i):fs(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],d=t[o+1];Kx(u,e)&&(c=!0,t[o+1]=r?Pf(d):xf(d)),o=r?ri(d):fs(d)}c&&(t[n+1]=r?xf(i):Pf(i))}function Kx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?qo(t,e)>=0:!1}function ze(t,e,n){let r=Me(),i=Kw();if(vp(r,i,e)){let s=un(),o=dM();EN(s,o,r,t,e,r[ct],n,!1)}return ze}function XI(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";pp(t,n,s[o],o,r)}function ju(t,e){return Qx(t,e,null,!0),ju}function Qx(t,e,n,r){let i=Me(),s=un(),o=iM(2);if(s.firstUpdatePass&&Zx(s,t,o,r),e!==ys&&vp(i,o,e)){let c=s.data[gs()];nP(s,c,i,i[ct],t,i[o+1]=rP(e,n),r,o)}}function Yx(t,e){return e>=t.expandoStartIndex}function Zx(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[gs()],o=Yx(t,n);iP(s,r)&&e===null&&!o&&(e=!1),e=Jx(i,s,e,r),Gx(i,s,e,n,o,r)}}function Jx(t,e,n,r){let i=cM(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Qh(null,t,e,n,r),n=$o(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Qh(i,t,e,n,r),s===null){let u=Xx(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Qh(null,t,e,u[1],r),u=$o(u,e.attrs,r),eP(t,e,r,u))}else s=tP(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function Xx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(fs(r)!==0)return t[ri(r)]}function eP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ri(i)]=r}function tP(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=$o(r,o,n)}return $o(r,e.attrs,n)}function Qh(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=$o(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function $o(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),lR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function nP(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,d=u[c+1],f=zx(d)?ew(u,e,n,i,fs(d),o):void 0;if(!Du(f)){Du(s)||Hx(d)&&(s=ew(u,null,n,i,c,o));let g=Vw(gs(),n);dN(r,o,g,i,s)}}function ew(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],d=Array.isArray(u),f=d?u[1]:u,g=f===null,_=n[i+1];_===ys&&(_=g?xt:void 0);let I=g?Uh(_,r):f===r?_:void 0;if(d&&!Du(I)&&(I=Uh(u,r)),Du(I)&&(c=I,o))return c;let S=t[i+1];i=o?ri(S):fs(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=Uh(u,r))}return c}function Du(t){return t!==void 0}function rP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=gt(cp(t)))),t}function iP(t,e){return(t.flags&(e?8:16))!==0}function sP(t,e,n,r,i,s){let o=e.consts,c=hu(o,i),u=Fu(e,t,2,r,c);return $E(e,n,u,hu(o,s)),u.attrs!==null&&Af(u,u.attrs,!1),u.mergedAttrs!==null&&Af(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function V(t,e,n,r){let i=Me(),s=un(),o=pr+t,c=i[ct],u=s.firstCreatePass?sP(o,s,i,e,n,r):s.data[o],d=oP(s,i,u,c,e,t);i[o]=d;let f=Kf(u);return zo(u,!0),PE(c,d,u),!Fx(u)&&Jf()&&dp(s,i,d,u),QR()===0&&ti(d,i),YR(),f&&(UE(s,i,u),VE(s,u,i)),r!==null&&jE(i,u),V}function L(){let t=Ct();Gw()?nM():(t=t.parent,zo(t,!1));let e=t;XR(e)&&eM(),ZR();let n=un();return n.firstCreatePass&&(ep(n,t),Pw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&mM(e)&&XI(n,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&yM(e)&&XI(n,e,Me(),e.stylesWithoutHost,!1),L}function be(t,e,n,r){return V(t,e,n,r),L(),be}var oP=(t,e,n,r,i,s)=>(Xf(!0),CE(r,i,hM()));function Bu(){return Me()}var bu="en-US";var aP=bu;function cP(t){typeof t=="string"&&(aP=t.toLowerCase().replace(/_/g,"-"))}var uP=(t,e,n)=>{};function et(t,e,n,r){let i=Me(),s=un(),o=Ct();return dP(s,i,i[ct],o,t,e,r),et}function lP(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[cu],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function dP(t,e,n,r,i,s,o){let c=Kf(r),d=t.firstCreatePass&&LN(t),f=e[Wt],g=FN(e),_=!0;if(r.type&3||o){let N=Qt(r,e),R=o?o(N):N,F=g.length,z=o?G=>o(on(G[r.index])):r.index,$=null;if(!o&&c&&($=lP(t,e,i,r.index)),$!==null){let G=$.__ngLastListenerFn__||$;G.__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,_=!1}else{s=nw(r,e,f,s),uP(N,i,s);let G=n.listen(R,i,s);g.push(s,G),d&&d.push(i,z,F,F+1)}}else s=nw(r,e,f,s);let I=r.outputs,S;if(_&&I!==null&&(S=I[i])){let N=S.length;if(N)for(let R=0;R<N;R+=2){let F=S[R],z=S[R+1],Ce=e[F][z].subscribe(s),se=g.length;g.push(s,Ce),d&&d.push(i,r.index,se,-(se+1))}}}function tw(t,e,n,r){let i=pe(null);try{return tn(6,e,n),n(r)!==!1}catch(s){return WE(t,s),!1}finally{tn(7,e,n),pe(i)}}function nw(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?_r(t.index,e):e;mp(o,5);let c=tw(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)c=tw(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return c}}function Yt(t=1){return lM(t)}function K(t,e=""){let n=Me(),r=un(),i=t+pr,s=r.firstCreatePass?Fu(r,i,1,e,null):r.data[i],o=hP(r,n,s,e,t);n[i]=o,Jf()&&dp(r,n,o,s),zo(s,!1)}var hP=(t,e,n,r,i)=>(Xf(!0),KM(e[ct],r));function _p(t){return iD("",t,""),_p}function iD(t,e,n){let r=Me(),i=$x(r,t,e,n);return i!==ys&&VN(r,gs(),i),iD}function fP(t,e,n){let r=un();if(r.firstCreatePass){let i=gr(t);Of(n,r.data,r.blueprint,i,!0),Of(e,r.data,r.blueprint,i,!1)}}function Of(t,e,n,r,i){if(t=pt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Of(t[s],e,n,r,i);else{let s=un(),o=Me(),c=Ct(),u=ss(t)?t:pt(t.provide),d=Mw(t),f=c.providerIndexes&1048575,g=c.directiveStart,_=c.providerIndexes>>20;if(ss(t)||!t.multi){let I=new ei(d,i,te),S=Zh(u,e,i?f:f+_,g);S===-1?(hf(gu(c,o),s,u),Yh(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)):(n[S]=I,o[S]=I)}else{let I=Zh(u,e,f+_,g),S=Zh(u,e,f,f+_),N=I>=0&&n[I],R=S>=0&&n[S];if(i&&!R||!i&&!N){hf(gu(c,o),s,u);let F=mP(i?gP:pP,n.length,i,r,d);!i&&R&&(n[S].providerFactory=F),Yh(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=sD(n[i?S:I],d,!i&&r);Yh(s,t,I>-1?I:S,F)}!i&&r&&R&&n[S].componentProviders++}}}function Yh(t,e,n,r){let i=ss(e),s=xR(e);if(i||s){let u=(s?pt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=d.indexOf(n);f===-1?d.push(n,[r,u]):d[f+1].push(r,u)}else d.push(n,u)}}}function sD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Zh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function pP(t,e,n,r){return kf(this.multi,[])}function gP(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=us(n,n[ae],this.providerFactory.index,r);s=c.slice(0,o),kf(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],kf(i,s);return s}function kf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function mP(t,e,n,r,i){let s=new ei(t,n,te);return s.multi=[],s.index=e,s.componentProviders=0,sD(s,i,r&&!n),s}function br(t,e=[]){return n=>{n.providersResolver=(r,i)=>fP(r,i?i(t):t,e)}}var yP=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Sw(!1,n.type),i=r.length>0?yp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:t,providedIn:"environment",factory:()=>new t(X(kt))})}}return t})();function dn(t){Go("NgStandalone"),t.getStandaloneInjector=e=>e.get(yP).getOrCreateStandaloneInjector(t)}var xn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},oD=new xn("18.2.9");var $u=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var aD=new U("");function si(t){return!!t&&typeof t.then=="function"}function cD(t){return!!t&&typeof t.subscribe=="function"}var uD=new U(""),lD=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k(uD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(si(s))n.push(s);else if(cD(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ip=new U("");function vP(){G_(()=>{throw new B(600,!1)})}function _P(t){return t.isBoundToModule}var IP=10;function wP(t,e,n){try{let r=n();return si(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var oi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(FM),this.afterRenderManager=k(Bx),this.zonelessEnabled=k(Uu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ze,this.afterTick=new Ze,this.componentTypes=[],this.components=[],this.isStable=k(ms).hasPendingTasks.pipe(ie(n=>!n)),this._injector=k(kt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Iu;if(!this._injector.get(lD).done){let _=!i&&Dw(n),I=!1;throw new B(405,I)}let o;i?o=n:o=this._injector.get(ds).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=_P(o)?void 0:this._injector.get(mr),u=r||o.selector,d=o.create(Xe.NULL,[],u,c),f=d.location.nativeElement,g=d.injector.get(aD,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),tu(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new B(101,!1);let n=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,pe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(hs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<IP;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)EP(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Nu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;tu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Ip,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>tu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new B(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function tu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function EP(t,e,n,r){if(!n&&!Nu(t))return;YE(t,e,n&&!r?0:1)}var Ff=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},wp=(()=>{class t{compileModuleSync(n){return new Nf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=bw(n),s=bE(i.declarations).reduce((o,c)=>{let u=Yr(c);return u&&o.push(new jo(u)),o},[]);return new Ff(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var DP=(()=>{class t{constructor(){this.zone=k(me),this.changeDetectionScheduler=k(ls),this.applicationRef=k(oi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bP=new U("",{factory:()=>!1});function dD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new me(re(O({},fD()),{scheduleInRootZone:n})),[{provide:me,useFactory:t},{provide:is,multi:!0,useFactory:()=>{let r=k(DP,{optional:!0});return()=>r.initialize()}},{provide:is,multi:!0,useFactory:()=>{let r=k(CP);return()=>{r.initialize()}}},e===!0?{provide:eD,useValue:!0}:[],{provide:tD,useValue:n??fE}]}function hD(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=dD({ngZoneFactory:()=>{let i=fD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Go("NgZone_CoalesceEvent"),new me(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Ft([{provide:bP,useValue:!0},{provide:Uu,useValue:!1},r])}function fD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var CP=(()=>{class t{constructor(){this.subscription=new Se,this.initialized=!1,this.zone=k(me),this.pendingTasks=k(ms)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var TP=(()=>{class t{constructor(){this.appRef=k(oi),this.taskService=k(ms),this.ngZone=k(me),this.zonelessEnabled=k(Uu),this.disableScheduling=k(eD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Se,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(tD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof yf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?VI:gE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,VI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function SP(){return typeof $localize<"u"&&$localize.locale||bu}var Ep=new U("",{providedIn:"root",factory:()=>k(Ep,ee.Optional|ee.SkipSelf)||SP()});var Lf=new U("");function Zc(t){return!t.moduleRef}function AP(t){let e=Zc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(me);return n.run(()=>{Zc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Mn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Zc(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Lf);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Lf);o.add(s),t.moduleRef.onDestroy(()=>{tu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return wP(r,n,()=>{let s=e.get(lD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Ep,bu);if(cP(o||bu),Zc(t)){let c=e.get(oi);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return RP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function RP(t,e){let n=t.injector.get(oi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);e.push(t)}var nu=null;function MP(t=[],e){return Xe.create({name:e,providers:[{provide:Au,useValue:"platform"},{provide:Lf,useValue:new Set([()=>nu=null])},...t]})}function NP(t=[]){if(nu)return nu;let e=MP(t);return nu=e,vP(),xP(e),e}function xP(t){t.get(sp,null)?.forEach(n=>n())}var _s=(()=>{class t{static{this.__NG_ELEMENT_ID__=PP}}return t})();function PP(t){return OP(Ct(),Me(),(t&16)===16)}function OP(t,e,n){if(Mu(t)&&!n){let r=_r(t.index,e);return new ni(r,r)}else if(t.type&175){let r=e[sn];return new ni(r,e)}return null}var Vf=class{constructor(){}supports(e){return rD(e)}create(e){return new Uf(e)}},kP=(t,e)=>e,Uf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<rw(r,i,s)?n:r,c=rw(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let d=c-i,f=u-i;if(d!=f){for(let _=0;_<d;_++){let I=_<s.length?s[_]:s[_]=0,S=I+_;f<=S&&S<d&&(s[_]=I+1)}let g=o.previousIndex;s[g]=f-d}}c!==u&&e(o,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!rD(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,c),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,Ox(e,c=>{o=this._trackByFn(i,c),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,c,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,o,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new jf(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Cu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Cu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},jf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Bf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Cu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Bf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function rw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function iw(){return new Dp([new Vf])}var Dp=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:iw})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||iw()),deps:[[t,new gw,new Fe]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new B(901,!1)}}return t})();function pD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=NP(r),s=[dD({}),{provide:ls,useExisting:TP},...n||[]],o=new Eu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return AP({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Ko(t,e){Go("NgSignals");let n=H_(t);return e?.equal&&(n[ir].equal=e.equal),n}function Ln(t){let e=pe(null);try{return t()}finally{pe(e)}}var ID=null;function Vn(){return ID}function wD(t){ID??=t}var Hu=class{};var Ut=new U(""),ED=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(VP),providedIn:"platform"})}}return t})();var VP=(()=>{class t extends ED{constructor(){super(),this._doc=k(Ut),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vn().getBaseHref(this._doc)}onPopState(n){let r=Vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function DD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function gD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ai(t){return t&&t[0]!=="?"?"?"+t:t}var zu=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(bD),providedIn:"root"})}}return t})(),UP=new U(""),bD=(()=>{class t extends zu{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return DD(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ai(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ai(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ai(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(X(ED),X(UP,8))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Qo=(()=>{class t{constructor(n){this._subject=new ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=$P(gD(mD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ai(r))}normalize(n){return t.stripTrailingSlash(BP(this._basePath,mD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ai(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ai(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=ai}static{this.joinWithSlash=DD}static{this.stripTrailingSlash=gD}static{this.\u0275fac=function(r){return new(r||t)(X(zu))}}static{this.\u0275prov=H({token:t,factory:()=>jP(),providedIn:"root"})}}return t})();function jP(){return new Qo(X(zu))}function BP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function mD(t){return t.replace(/\/index.html$/,"")}function $P(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function CD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var bp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},TD=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new bp(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),yD(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);yD(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(te(vs),te(Vu),te(Dp))}}static{this.\u0275dir=Le({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function yD(t,e){t.context.$implicit=e.item}var SD=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Cp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){vD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){vD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(te(vs),te(Vu))}}static{this.\u0275dir=Le({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Cp=class{constructor(){this.$implicit=null,this.ngIf=null}};function vD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${gt(e)}'.`)}var Yo=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=vr({type:t})}static{this.\u0275inj=yr({})}}return t})(),AD="browser",HP="server";function Tp(t){return t===HP}var qu=class{};var Rp=class extends Hu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Mp=class t extends Rp{static makeCurrent(){wD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=zP();return n==null?null:GP(n)}resetBaseElement(){Zo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return CD(document.cookie,e)}},Zo=null;function zP(){return Zo=Zo||document.querySelector("base"),Zo?Zo.getAttribute("href"):null}function GP(t){return new URL(t,document.baseURI).pathname}var WP=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Np=new U(""),xD=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(X(Np),X(me))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Gu=class{constructor(e){this._doc=e}},Sp="ng-app-id",PD=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Tp(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Sp}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Sp),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Sp,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(X(Ut),X(ip),X(op,8),X(Dr))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Ap={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Pp=/%COMP%/g,OD="%COMP%",KP=`_nghost-${OD}`,QP=`_ngcontent-${OD}`,YP=!0,ZP=new U("",{providedIn:"root",factory:()=>YP});function JP(t){return QP.replace(Pp,t)}function XP(t){return KP.replace(Pp,t)}function kD(t,e){return e.map(n=>n.replace(Pp,t))}var RD=(()=>{class t{constructor(n,r,i,s,o,c,u,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Tp(c),this.defaultRenderer=new Jo(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===rn.ShadowDom&&(r=re(O({},r),{encapsulation:rn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Wu?i.applyToHost(n):i instanceof Xo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case rn.Emulated:s=new Wu(u,d,r,this.appId,f,o,c,g);break;case rn.ShadowDom:return new xp(u,d,n,r,o,c,this.nonce,g);default:s=new Xo(u,d,r,f,o,c,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(X(xD),X(PD),X(ip),X(ZP),X(Ut),X(Dr),X(me),X(op))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Jo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ap[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(MD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(MD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Ap[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ap[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Nn.DashCase|Nn.Important)?e.style.setProperty(n,r,i&Nn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Nn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Vn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function MD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var xp=class extends Jo{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=kD(i.id,i.styles);for(let f of d){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xo=class extends Jo{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?kD(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Wu=class extends Xo{constructor(e,n,r,i,s,o,c,u){let d=i+"-"+r.id;super(e,n,r,s,o,c,u,d),this.contentAttr=JP(d),this.hostAttr=XP(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},eO=(()=>{class t extends Gu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(X(Ut))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),ND=["alt","control","meta","shift"],tO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},rO=(()=>{class t extends Gu{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vn().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),ND.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=tO[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ND.forEach(o=>{if(o!==i){let c=nO[o];c(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(X(Ut))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function FD(t,e){return pD(O({rootComponent:t},iO(e)))}function iO(t){return{appProviders:[...uO,...t?.providers??[]],platformProviders:cO}}function sO(){Mp.makeCurrent()}function oO(){return new Mn}function aO(){return EE(document),document}var cO=[{provide:Dr,useValue:AD},{provide:sp,useValue:sO,multi:!0},{provide:Ut,useFactory:aO,deps:[]}];var uO=[{provide:Au,useValue:"root"},{provide:Mn,useFactory:oO,deps:[]},{provide:Np,useClass:eO,multi:!0,deps:[Ut,me,Dr]},{provide:Np,useClass:rO,multi:!0,deps:[Ut]},RD,PD,xD,{provide:hs,useExisting:RD},{provide:qu,useClass:WP,deps:[]},[]];var LD=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(X(Ut))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var J="primary",ma=Symbol("RouteTitle"),Vp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Cs(t){return new Vp(t)}function hO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function fO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!fn(t[n],e[n]))return!1;return!0}function fn(t,e){let n=t?Up(t):void 0,r=e?Up(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!zD(t[i],e[i]))return!1;return!0}function Up(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function zD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function GD(t){return t.length>0?t[t.length-1]:null}function Cr(t){return Nh(t)?t:si(t)?Re(Promise.resolve(t)):Z(t)}var pO={exact:KD,subset:QD},WD={exact:gO,subset:mO,ignored:()=>!0};function VD(t,e,n){return pO[n.paths](t.root,e.root,n.matrixParams)&&WD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function gO(t,e){return fn(t,e)}function KD(t,e,n){if(!ui(t.segments,e.segments)||!Yu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!KD(t.children[r],e.children[r],n))return!1;return!0}function mO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>zD(t[n],e[n]))}function QD(t,e,n){return YD(t,e,e.segments,n)}function YD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ui(i,n)||e.hasChildren()||!Yu(i,n,r))}else if(t.segments.length===n.length){if(!ui(t.segments,n)||!Yu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!QD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ui(t.segments,i)||!Yu(t.segments,i,r)||!t.children[J]?!1:YD(t.children[J],e,s,r)}}function Yu(t,e,n){return e.every((r,i)=>WD[n](t[i].parameters,r.parameters))}var jn=class{constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Cs(this.queryParams),this._queryParamMap}toString(){return _O.serialize(this)}},ye=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zu(this)}},ci=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Cs(this.parameters),this._parameterMap}toString(){return JD(this)}};function yO(t,e){return ui(t,e)&&t.every((n,r)=>fn(n.parameters,e[r].parameters))}function ui(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function vO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===J&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==J&&(n=n.concat(e(i,r)))}),n}var dg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>new oa,providedIn:"root"})}}return t})(),oa=class{parse(e){let n=new Bp(e);return new jn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ea(e.root,!0)}`,r=EO(e.queryParams),i=typeof e.fragment=="string"?`#${IO(e.fragment)}`:"";return`${n}${r}${i}`}},_O=new oa;function Zu(t){return t.segments.map(e=>JD(e)).join("/")}function ea(t,e){if(!t.hasChildren())return Zu(t);if(e){let n=t.children[J]?ea(t.children[J],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==J&&r.push(`${i}:${ea(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=vO(t,(r,i)=>i===J?[ea(t.children[J],!1)]:[`${i}:${ea(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[J]!=null?`${Zu(t)}/${n[0]}`:`${Zu(t)}/(${n.join("//")})`}}function ZD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ku(t){return ZD(t).replace(/%3B/gi,";")}function IO(t){return encodeURI(t)}function jp(t){return ZD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ju(t){return decodeURIComponent(t)}function UD(t){return Ju(t.replace(/\+/g,"%20"))}function JD(t){return`${jp(t.path)}${wO(t.parameters)}`}function wO(t){return Object.entries(t).map(([e,n])=>`;${jp(e)}=${jp(n)}`).join("")}function EO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ku(n)}=${Ku(i)}`).join("&"):`${Ku(n)}=${Ku(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var DO=/^[^\/()?;#]+/;function Op(t){let e=t.match(DO);return e?e[0]:""}var bO=/^[^\/()?;=#]+/;function CO(t){let e=t.match(bO);return e?e[0]:""}var TO=/^[^=?&#]+/;function SO(t){let e=t.match(TO);return e?e[0]:""}var AO=/^[^&#]+/;function RO(t){let e=t.match(AO);return e?e[0]:""}var Bp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[J]=new ye(e,n)),r}parseSegment(){let e=Op(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new ci(Ju(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=CO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Op(this.remaining);i&&(r=i,this.capture(r))}e[Ju(n)]=Ju(r)}parseQueryParam(e){let n=SO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=RO(this.remaining);o&&(r=o,this.capture(r))}let i=UD(n),s=UD(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Op(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=J);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[J]:new ye([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function XD(t){return t.segments.length>0?new ye([],{[J]:t}):t}function eb(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=eb(i);if(r===J&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ye(t.segments,e);return MO(n)}function MO(t){if(t.numberOfChildren===1&&t.children[J]){let e=t.children[J];return new ye(t.segments.concat(e.segments),e.children)}return t}function aa(t){return t instanceof jn}function NO(t,e,n=null,r=null){let i=tb(t);return nb(i,e,n,r)}function tb(t){let e;function n(s){let o={};for(let u of s.children){let d=n(u);o[u.outlet]=d}let c=new ye(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=XD(r);return e??i}function nb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return kp(i,i,i,n,r);let s=xO(e);if(s.toRoot())return kp(i,i,new ye([],{}),n,r);let o=PO(s,i,t),c=o.processChildren?ra(o.segmentGroup,o.index,s.commands):ib(o.segmentGroup,o.index,s.commands);return kp(i,o.segmentGroup,c,n,r)}function Xu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ca(t){return typeof t=="object"&&t!=null&&t.outlets}function kp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let o;t===e?o=n:o=rb(t,e,n);let c=XD(eb(o));return new jn(c,s,i)}function rb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=rb(s,e,n)}),new ye(t.segments,r)}var el=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Xu(r[0]))throw new B(4003,!1);let i=r.find(ca);if(i&&i!==GD(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new el(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,d])=>{c[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new el(n,e,r)}var Es=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function PO(t,e,n){if(t.isAbsolute)return new Es(e,!0,0);if(!n)return new Es(e,!1,NaN);if(n.parent===null)return new Es(n,!0,0);let r=Xu(t.commands[0])?0:1,i=n.segments.length-1+r;return OO(n,i,t.numberOfDoubleDots)}function OO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Es(r,!1,i-s)}function kO(t){return ca(t[0])?t[0].outlets:{[J]:t}}function ib(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return ra(t,e,n);let r=FO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ye(t.segments.slice(0,r.pathIndex),{});return s.children[J]=new ye(t.segments.slice(r.pathIndex),t.children),ra(s,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?$p(t,e,n):r.match?ra(t,0,i):$p(t,e,n)}function ra(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=kO(n),i={};if(Object.keys(r).some(s=>s!==J)&&t.children[J]&&t.numberOfChildren===1&&t.children[J].segments.length===0){let s=ra(t.children[J],e,n);return new ye(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=ib(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ye(t.segments,i)}}function FO(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(ca(c))break;let u=`${c}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!BD(u,d,o))return s;r+=2}else{if(!BD(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function $p(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ca(s)){let u=LO(s.outlets);return new ye(r,u)}if(i===0&&Xu(n[0])){let u=t.segments[e];r.push(new ci(u.path,jD(n[0]))),i++;continue}let o=ca(s)?s.outlets[J]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&Xu(c)?(r.push(new ci(o,jD(c))),i+=2):(r.push(new ci(o,{})),i++)}return new ye(r,{})}function LO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=$p(new ye([],{}),0,r))}),e}function jD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function BD(t,e,n){return t==n.path&&fn(e,n.parameters)}var ia="imperative",tt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(tt||{}),jt=class{constructor(e,n){this.id=e,this.url=n}},ua=class extends jt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=tt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},li=class extends jt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=tt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(St||{}),Hp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Hp||{}),Un=class extends jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=tt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},di=class extends jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=tt.NavigationSkipped}},la=class extends jt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=tt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tl=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=tt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qp=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=tt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zp=class extends jt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=tt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Gp=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=tt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wp=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=tt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kp=class{constructor(e){this.route=e,this.type=tt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qp=class{constructor(e){this.route=e,this.type=tt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Yp=class{constructor(e){this.snapshot=e,this.type=tt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zp=class{constructor(e){this.snapshot=e,this.type=tt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jp=class{constructor(e){this.snapshot=e,this.type=tt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xp=class{constructor(e){this.snapshot=e,this.type=tt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var da=class{},Ts=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function VO(t,e){return t.providers&&!t._injector&&(t._injector=yp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Zt(t){return t.outlet||J}function UO(t,e){let n=t.filter(r=>Zt(r)===e);return n.push(...t.filter(r=>Zt(r)!==e)),n}function ya(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var eg=class{get injector(){return ya(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new cl(this.rootInjector),this.attachRef=null}},cl=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new eg(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(X(kt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=tg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=tg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ng(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ng(e,this._root).map(n=>n.value)}};function tg(t,e){if(t===e.value)return e;for(let n of e.children){let r=tg(t,n);if(r)return r}return null}function ng(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ng(t,n);if(r.length)return r.unshift(e),r}return[]}var Tt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ws(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var rl=class extends nl{constructor(e,n){super(e),this.snapshot=n,hg(this,e)}toString(){return this.snapshot.toString()}};function sb(t){let e=jO(t),n=new Je([new ci("",{})]),r=new Je({}),i=new Je({}),s=new Je({}),o=new Je(""),c=new Ss(n,r,s,o,i,J,t,e.root);return c.snapshot=e.root,new rl(new Tt(c,[]),e)}function jO(t){let e={},n={},r={},i="",s=new Ds([],e,r,i,n,J,t,null,{});return new sl("",new Tt(s,[]))}var Ss=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(d=>d[ma]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Cs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Cs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function il(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&ab(i)&&(r.resolve[ma]=i.title),r}var Ds=class{get title(){return this.data?.[ma]}constructor(e,n,r,i,s,o,c,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},sl=class extends nl{constructor(e,n){super(n),this.url=e,hg(this,n)}toString(){return ob(this._root)}};function hg(t,e){e.value._routerState=t,e.children.forEach(n=>hg(t,n))}function ob(t){let e=t.children.length>0?` { ${t.children.map(ob).join(", ")} } `:"";return`${t.value}${e}`}function Fp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,fn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),fn(e.params,n.params)||t.paramsSubject.next(n.params),fO(e.url,n.url)||t.urlSubject.next(n.url),fn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function rg(t,e){let n=fn(t.params,e.params)&&yO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||rg(t.parent,e.parent))}function ab(t){return typeof t.title=="string"||t.title===null}var fg=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=J,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=k(cl),this.location=k(vs),this.changeDetector=k(_s),this.inputBinder=k(pg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new ig(n,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Le({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ii]})}}return t})(),ig=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ss?this.route:e===cl?this.childContexts:this.parent.get(e,n)}},pg=new U("");function BO(t,e,n){let r=ha(t,e._root,n?n._root:void 0);return new rl(r,e)}function ha(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=$O(t,e,n);return new Tt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>ha(t,c)),o}}let r=HO(e.value),i=e.children.map(s=>ha(t,s));return new Tt(r,i)}}function $O(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ha(t,r,i);return ha(t,r)})}function HO(t){return new Ss(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var fa=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},cb="ngNavigationCancelingError";function ol(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=aa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ub(!1,St.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function ub(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[cb]=!0,n.cancellationCode=e,n}function qO(t){return lb(t)&&aa(t.url)}function lb(t){return!!t&&t[cb]}var zO=(t,e,n,r)=>ie(i=>(new sg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),sg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Fp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ws(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ws(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ws(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ws(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Xp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Zp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Fp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Fp(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},al=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},bs=class{constructor(e,n){this.component=e,this.route=n}};function GO(t,e,n){let r=t._root,i=e?e._root:null;return ta(r,i,n,[r.value])}function WO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Rs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!aw(t)?t:e.get(t):r}function ta(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ws(e);return t.children.forEach(o=>{KO(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>sa(c,n.getContext(o),i)),i}function KO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=QO(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new al(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ta(t,e,c?c.children:null,r,i):ta(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new bs(c.outlet.component,o))}else o&&sa(e,c,i),i.canActivateChecks.push(new al(r)),s.component?ta(t,null,c?c.children:null,r,i):ta(t,null,n,r,i);return i}function QO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ui(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ui(t.url,e.url)||!fn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rg(t,e)||!fn(t.queryParams,e.queryParams);case"paramsChange":default:return!rg(t,e)}}function sa(t,e,n){let r=ws(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?sa(o,e.children.getContext(s),n):sa(o,null,n):sa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new bs(e.outlet.component,i)):n.canDeactivateChecks.push(new bs(null,i)):n.canDeactivateChecks.push(new bs(null,i))}function va(t){return typeof t=="function"}function YO(t){return typeof t=="boolean"}function ZO(t){return t&&va(t.canLoad)}function JO(t){return t&&va(t.canActivate)}function XO(t){return t&&va(t.canActivateChild)}function ek(t){return t&&va(t.canDeactivate)}function tk(t){return t&&va(t.canMatch)}function db(t){return t instanceof Sn||t?.name==="EmptyError"}var Qu=Symbol("INITIAL_VALUE");function As(){return qt(t=>zc(t.map(e=>e.pipe(An(1),Lh(Qu)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===Qu)return Qu;if(n===!1||nk(n))return n}return!0}),Ht(e=>e!==Qu),An(1)))}function nk(t){return aa(t)||t instanceof fa}function rk(t,e){return He(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Z(re(O({},n),{guardsResult:!0})):ik(o,r,i,t).pipe(He(c=>c&&YO(c)?sk(r,s,t,e):Z(c)),ie(c=>re(O({},n),{guardsResult:c})))})}function ik(t,e,n,r){return Re(t).pipe(He(i=>lk(i.component,i.route,n,e,r)),en(i=>i!==!0,!0))}function sk(t,e,n,r){return Re(e).pipe(Qi(i=>Ki(ak(i.route.parent,r),ok(i.route,r),uk(t,i.path,n),ck(t,i.route,n))),en(i=>i!==!0,!0))}function ok(t,e){return t!==null&&e&&e(new Jp(t)),Z(!0)}function ak(t,e){return t!==null&&e&&e(new Yp(t)),Z(!0)}function ck(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(s=>Gc(()=>{let o=ya(e)??n,c=Rs(s,o),u=JO(c)?c.canActivate(e,t):Pn(o,()=>c(e,t));return Cr(u).pipe(en())}));return Z(i).pipe(As())}function uk(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>WO(o)).filter(o=>o!==null).map(o=>Gc(()=>{let c=o.guards.map(u=>{let d=ya(o.node)??n,f=Rs(u,d),g=XO(f)?f.canActivateChild(r,t):Pn(d,()=>f(r,t));return Cr(g).pipe(en())});return Z(c).pipe(As())}));return Z(s).pipe(As())}function lk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Z(!0);let o=s.map(c=>{let u=ya(e)??i,d=Rs(c,u),f=ek(d)?d.canDeactivate(t,e,n,r):Pn(u,()=>d(t,e,n,r));return Cr(f).pipe(en())});return Z(o).pipe(As())}function dk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let s=i.map(o=>{let c=Rs(o,t),u=ZO(c)?c.canLoad(e,n):Pn(t,()=>c(e,n));return Cr(u)});return Z(s).pipe(As(),hb(r))}function hb(t){return Dh(qe(e=>{if(typeof e!="boolean")throw ol(t,e)}),ie(e=>e===!0))}function hk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let s=i.map(o=>{let c=Rs(o,t),u=tk(c)?c.canMatch(e,n):Pn(t,()=>c(e,n));return Cr(u)});return Z(s).pipe(As(),hb(r))}var pa=class{constructor(e){this.segmentGroup=e||null}},ga=class extends Error{constructor(e){super(),this.urlTree=e}};function Is(t){return Wi(new pa(t))}function fk(t){return Wi(new B(4e3,!1))}function pk(t){return Wi(ub(!1,St.GuardRejected))}var og=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[J])return fk(`${e.redirectTo}`);i=i.children[J]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:u,fragment:d,routeConfig:f,url:g,outlet:_,params:I,data:S,title:N}=i,R=Pn(s,()=>c({params:I,data:S,queryParams:u,fragment:d,routeConfig:f,url:g,outlet:_,title:N}));if(R instanceof jn)throw new ga(R);n=R}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ga(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new jn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new ye(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ag={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gk(t,e,n,r,i){let s=fb(t,e,n);return s.matched?(r=VO(e,r),hk(r,e,n,i).pipe(ie(o=>o===!0?s:O({},ag)))):Z(s)}function fb(t,e,n){if(e.path==="**")return mk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},ag):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||hO)(n,t,e);if(!i)return O({},ag);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function mk(t){return{matched:!0,parameters:t.length>0?GD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function $D(t,e,n,r){return n.length>0&&_k(t,n,r)?{segmentGroup:new ye(e,vk(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&Ik(t,n,r)?{segmentGroup:new ye(t.segments,yk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function yk(t,e,n,r){let i={};for(let s of n)if(ul(t,e,s)&&!r[Zt(s)]){let o=new ye([],{});i[Zt(s)]=o}return O(O({},r),i)}function vk(t,e){let n={};n[J]=e;for(let r of t)if(r.path===""&&Zt(r)!==J){let i=new ye([],{});n[Zt(r)]=i}return n}function _k(t,e,n){return n.some(r=>ul(t,e,r)&&Zt(r)!==J)}function Ik(t,e,n){return n.some(r=>ul(t,e,r))}function ul(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function wk(t,e,n){return e.length===0&&!t.children[n]}var cg=class{};function Ek(t,e,n,r,i,s,o="emptyOnly"){return new ug(t,e,n,r,i,o,s).recognize()}var Dk=31,ug=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new og(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=$D(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:n,rootSnapshot:r})=>{let i=new Tt(r,n),s=new sl("",i),o=NO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Ds([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,J,n).pipe(ie(r=>({children:r,rootSnapshot:n})),cr(r=>{if(r instanceof ga)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof pa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ie(o=>o instanceof Tt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Re(s).pipe(Qi(o=>{let c=r.children[o],u=UO(n,o);return this.processSegmentGroup(e,u,c,o,i)}),Fh((o,c)=>(o.push(...c),o)),ur(null),kh(),He(o=>{if(o===null)return Is(r);let c=pb(o);return bk(c),Z(c)}))}processSegment(e,n,r,i,s,o,c){return Re(n).pipe(Qi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,c).pipe(cr(d=>{if(d instanceof pa)return Z(null);throw d}))),en(u=>!!u),cr(u=>{if(db(u))return wk(r,i,s)?Z(new cg):Is(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,u){return Zt(r)!==o&&(o===J||!ul(i,s,r))?Is(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Is(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:u,parameters:d,consumedSegments:f,positionalParamSegments:g,remainingSegments:_}=fb(n,i,s);if(!u)return Is(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Dk&&(this.allowRedirects=!1));let I=new Ds(s,d,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,HD(i),Zt(i),i.component??i._loadedComponent??null,i,qD(i)),S=il(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(S.params),I.data=Object.freeze(S.data);let N=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,I,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(He(R=>this.processSegment(e,r,n,R.concat(_),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=gk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(qt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(qt(({routes:d})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:I}=u,S=new Ds(_,g,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,HD(r),Zt(r),r.component??r._loadedComponent??null,r,qD(r)),N=il(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(N.params),S.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:F}=$D(n,_,I,d);if(F.length===0&&R.hasChildren())return this.processChildren(f,d,R,S).pipe(ie($=>new Tt(S,$)));if(d.length===0&&F.length===0)return Z(new Tt(S,[]));let z=Zt(r)===s;return this.processSegment(f,d,R,F,z?J:s,!0,S).pipe(ie($=>new Tt(S,$ instanceof Tt?[$]:[])))}))):Is(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):dk(e,n,r,this.urlSerializer).pipe(He(i=>i?this.configLoader.loadChildren(e,n).pipe(qe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):pk(n))):Z({routes:[],injector:e})}};function bk(t){t.sort((e,n)=>e.value.outlet===J?-1:n.value.outlet===J?1:e.value.outlet.localeCompare(n.value.outlet))}function Ck(t){let e=t.value.routeConfig;return e&&e.path===""}function pb(t){let e=[],n=new Set;for(let r of t){if(!Ck(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=pb(r.children);e.push(new Tt(r.value,i))}return e.filter(r=>!n.has(r))}function HD(t){return t.data||{}}function qD(t){return t.resolve||{}}function Tk(t,e,n,r,i,s){return He(o=>Ek(t,e,n,r,o.extractedUrl,i,s).pipe(ie(({state:c,tree:u})=>re(O({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function Sk(t,e){return He(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of gb(u))o.add(d);let c=0;return Re(o).pipe(Qi(u=>s.has(u)?Ak(u,r,t,e):(u.data=il(u,u.parent,t).resolve,Z(void 0))),qe(()=>c++),Yi(1),He(u=>c===o.size?Z(n):bt))})}function gb(t){let e=t.children.map(n=>gb(n)).flat();return[t,...e]}function Ak(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!ab(i)&&(s[ma]=i.title),Rk(s,t,e,r).pipe(ie(o=>(t._resolvedData=o,t.data=il(t,t.parent,n).resolve,null)))}function Rk(t,e,n,r){let i=Up(t);if(i.length===0)return Z({});let s={};return Re(i).pipe(He(o=>Mk(t[o],e,n,r).pipe(en(),qe(c=>{if(c instanceof fa)throw ol(new oa,c);s[o]=c}))),Yi(1),Oh(s),cr(o=>db(o)?bt:Wi(o)))}function Mk(t,e,n,r){let i=ya(e)??r,s=Rs(t,i),o=s.resolve?s.resolve(e,n):Pn(i,()=>s(e,n));return Cr(o)}function Lp(t){return qt(e=>{let n=t(e);return n?Re(n).pipe(ie(()=>e)):Z(e)})}var mb=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===J);return r}getResolvedTitleForRoute(n){return n.data[ma]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(Nk),providedIn:"root"})}}return t})(),Nk=(()=>{class t extends mb{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(X(LD))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),gg=new U("",{providedIn:"root",factory:()=>({})}),xk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=cn({type:t,selectors:[["ng-component"]],standalone:!0,features:[dn],decls:1,vars:0,template:function(r,i){r&1&&be(0,"router-outlet")},dependencies:[fg],encapsulation:2})}}return t})();function mg(t){let e=t.children&&t.children.map(mg),n=e?re(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==J&&(n.component=xk),n}var yg=new U(""),Pk=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(wp)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Cr(n.loadComponent()).pipe(ie(yb),qe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),xo(()=>{this.componentLoaders.delete(n)})),i=new Hi(r,()=>new Ze).pipe($i());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Ok(r,this.compiler,n,this.onLoadEndListener).pipe(xo(()=>{this.childrenLoaders.delete(r)})),o=new Hi(s,()=>new Ze).pipe($i());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ok(t,e,n,r){return Cr(t.loadChildren()).pipe(ie(yb),He(i=>i instanceof Bo||Array.isArray(i)?Z(i):Re(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(yg,[],{optional:!0,self:!0}).flat()),{routes:o.map(mg),injector:s}}))}function kk(t){return t&&typeof t=="object"&&"default"in t}function yb(t){return kk(t)?t.default:t}var vg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(Fk),providedIn:"root"})}}return t})(),Fk=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Lk=new U("");var Vk=new U(""),Uk=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ze,this.transitionAbortSubject=new Ze,this.configLoader=k(Pk),this.environmentInjector=k(kt),this.urlSerializer=k(dg),this.rootContexts=k(cl),this.location=k(Qo),this.inputBindingEnabled=k(pg,{optional:!0})!==null,this.titleStrategy=k(mb),this.options=k(gg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(vg),this.createViewTransition=k(Lk,{optional:!0}),this.navigationErrorHandler=k(Vk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Kp(i)),r=i=>this.events.next(new Qp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(re(O(O({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Je({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ia,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ht(s=>s.id!==0),ie(s=>re(O({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),qt(s=>{let o=!1,c=!1;return Z(s).pipe(qt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",St.SupersededByNewNavigation),bt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?re(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new di(u.id,this.urlSerializer.serialize(u.rawUrl),g,Hp.IgnoredSameUrlNavigation)),u.resolve(!1),bt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Z(u).pipe(qt(g=>{let _=this.transitions?.getValue();return this.events.next(new ua(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?bt:Promise.resolve(g)}),Tk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=re(O({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new tl(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:I,restoredState:S,extras:N}=u,R=new ua(g,this.urlSerializer.serialize(_),I,S);this.events.next(R);let F=sb(this.rootComponentType).snapshot;return this.currentTransition=s=re(O({},u),{targetSnapshot:F,urlAfterRedirects:_,extras:re(O({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,Z(s)}else{let g="";return this.events.next(new di(u.id,this.urlSerializer.serialize(u.extractedUrl),g,Hp.IgnoredByUrlHandlingStrategy)),u.resolve(!1),bt}}),qe(u=>{let d=new qp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ie(u=>(this.currentTransition=s=re(O({},u),{guards:GO(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),rk(this.environmentInjector,u=>this.events.next(u)),qe(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw ol(this.urlSerializer,u.guardsResult);let d=new zp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Ht(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",St.GuardRejected),!1)),Lp(u=>{if(u.guards.canActivateChecks.length)return Z(u).pipe(qe(d=>{let f=new Gp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),qt(d=>{let f=!1;return Z(d).pipe(Sk(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",St.NoDataFromResolver)}}))}),qe(d=>{let f=new Wp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),Lp(u=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(qe(_=>{f.component=_}),ie(()=>{})));for(let _ of f.children)g.push(...d(_));return g};return zc(d(u.targetSnapshot.root)).pipe(ur(null),An(1))}),Lp(()=>this.afterPreactivation()),qt(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?Re(f).pipe(ie(()=>s)):Z(s)}),ie(u=>{let d=BO(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=re(O({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),qe(()=>{this.events.next(new da)}),zO(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),An(1),qe({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new li(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Vh(this.transitionAbortSubject.pipe(qe(u=>{throw u}))),xo(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",St.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),cr(u=>{if(c=!0,lb(u))this.events.next(new Un(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),qO(u)?this.events.next(new Ts(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let d=new la(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let f=Pn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof fa){let{message:g,cancellationCode:_}=ol(this.urlSerializer,f);this.events.next(new Un(s.id,this.urlSerializer.serialize(s.extractedUrl),g,_)),this.events.next(new Ts(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let g=n.errorHandler(u);s.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return bt}))}))}cancelNavigationTransition(n,r,i){let s=new Un(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function jk(t){return t!==ia}var Bk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k($k),providedIn:"root"})}}return t})(),lg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},$k=(()=>{class t extends lg{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Er(t)))(i||t)}})()}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>k(Hk),providedIn:"root"})}}return t})(),Hk=(()=>{class t extends vb{constructor(){super(...arguments),this.location=k(Qo),this.urlSerializer=k(dg),this.options=k(gg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(vg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new jn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=sb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ua)this.stateMemento=this.createStateMemento();else if(n instanceof di)this.rawUrlTree=r.initialUrl;else if(n instanceof tl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof da?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Un&&(n.code===St.GuardRejected||n.code===St.NoDataFromResolver)?this.restoreHistory(r):n instanceof la?this.restoreHistory(r,!0):n instanceof li&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof jn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=O(O({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=O(O({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Er(t)))(i||t)}})()}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),na=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(na||{});function qk(t,e){t.events.pipe(Ht(n=>n instanceof li||n instanceof Un||n instanceof la||n instanceof di),ie(n=>n instanceof li||n instanceof di?na.COMPLETE:(n instanceof Un?n.code===St.Redirect||n.code===St.SupersededByNewNavigation:!1)?na.REDIRECTING:na.FAILED),Ht(n=>n!==na.REDIRECTING),An(1)).subscribe(()=>{e()})}function zk(t){throw t}var Gk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_b=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k($u),this.stateManager=k(vb),this.options=k(gg,{optional:!0})||{},this.pendingTasks=k(ms),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Uk),this.urlSerializer=k(dg),this.location=k(Qo),this.urlHandlingStrategy=k(vg),this._events=new Ze,this.errorHandler=this.options.errorHandler||zk,this.navigated=!1,this.routeReuseStrategy=k(Bk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(yg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(pg,{optional:!0}),this.eventsSubscription=new Se,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Un&&r.code!==St.Redirect&&r.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof li)this.navigated=!0;else if(r instanceof Ts){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||jk(i.source)},o);this.scheduleNavigation(c,ia,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Qk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ia,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(mg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=O(O({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=tb(_)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),g=this.currentUrlTree.root}return nb(g,n,f,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=aa(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ia,null,r)}navigate(n,r={skipLocationChange:!1}){return Kk(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=O({},Gk):r===!1?i=O({},Wk):i=r,aa(n))return VD(this.currentUrlTree,n,i);let s=this.parseUrl(n);return VD(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,d;o?(c=o.resolve,u=o.reject,d=o.promise):d=new Promise((g,_)=>{c=g,u=_});let f=this.pendingTasks.add();return qk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Kk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function Qk(t){return!(t instanceof da)&&!(t instanceof Ts)}var Yk=new U("");function Ib(t,...e){return Ft([{provide:yg,multi:!0,useValue:t},[],{provide:Ss,useFactory:Zk,deps:[_b]},{provide:Ip,multi:!0,useFactory:Jk},e.map(n=>n.\u0275providers)])}function Zk(t){return t.routerState.root}function Jk(){let t=k(Xe);return e=>{let n=t.get(oi);if(e!==n.components[0])return;let r=t.get(_b),i=t.get(Xk);t.get(e1)===1&&r.initialNavigation(),t.get(t1,null,ee.Optional)?.setUpPreloading(),t.get(Yk,null,ee.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Xk=new U("",{factory:()=>new Ze}),e1=new U("",{providedIn:"root",factory:()=>1});var t1=new U("");var ll=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=cn({type:t,selectors:[["app-home"]],standalone:!0,features:[dn],decls:64,vars:0,consts:[[1,"navbar"],[1,"navbar-logo"],["src","path/to/logo.png","alt","Logo Cl\xEDnica",1,"logo"],[1,"navbar-links"],["href","#inicio"],["href","#servicios"],["href","#pacientes"],["href","#especialistas"],["href","#contacto"],[1,"navbar-auth"],["href","/login",1,"btn","login"],["href","/registro",1,"btn","register"],[1,"home-image-container"],["src","assets/imagenes/home.jpg","alt","imagen fondo",1,"home-image"],[1,"info"],[1,"card"],[1,"fas","fa-clock"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"about-us"],[1,"about-item"],["src","assets/imagenes/somos.jfif","alt","Qui\xE9nes somos"],["src","../../assets/imagenes/calidad.jpg","alt","Atenci\xF3n de Calidad"]],template:function(n,r){n&1&&(V(0,"body")(1,"nav",0)(2,"div",1),be(3,"img",2),V(4,"span"),K(5,"Cl\xEDnica Salud"),L()(),V(6,"ul",3)(7,"li")(8,"a",4),K(9,"Inicio"),L()(),V(10,"li")(11,"a",5),K(12,"Servicios"),L()(),V(13,"li")(14,"a",6),K(15,"Pacientes"),L()(),V(16,"li")(17,"a",7),K(18,"Especialistas"),L()(),V(19,"li")(20,"a",8),K(21,"Contacto"),L()()(),V(22,"div",9)(23,"a",10),K(24,"Iniciar Sesi\xF3n"),L(),V(25,"a",11),K(26,"Registro"),L()()(),V(27,"main")(28,"div",12),be(29,"img",13),V(30,"div",14)(31,"div",15),be(32,"i",16),V(33,"h2"),K(34,"Horario de atenci\xF3n"),L(),V(35,"p"),K(36,"Lunes a Viernes de 8:00 a 19:00h. S\xE1bados de 8:00 a 14:00h"),L()(),V(37,"div",15),be(38,"i",17),V(39,"h2"),K(40,"Contacto"),L(),V(41,"p"),K(42,"123-456-7890, 3010-456-8976"),L()(),V(43,"div",15),be(44,"i",18),V(45,"h2"),K(46,"Ubicaci\xF3n"),L(),V(47,"p"),K(48,"AV Libertador 5478, CABA, Argentina"),L()()()(),V(49,"div",19)(50,"div",20),be(51,"img",21),V(52,"div")(53,"h2"),K(54,"\xBFQui\xE9nes somos?"),L(),V(55,"p"),K(56," Somos un equipo comprometido de profesionales m\xE9dicos dedicados a proporcionar atenci\xF3n de calidad y personalizada a cada uno de nuestros pacientes. "),L()()(),V(57,"div",20),be(58,"img",22),V(59,"div")(60,"h2"),K(61,"Atenci\xF3n de Calidad"),L(),V(62,"p"),K(63," Nuestro compromiso es garantizar que cada paciente reciba la mejor atenci\xF3n posible, utilizando tecnolog\xEDa de vanguardia y tratamientos actualizados. "),L()()()()()())},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#1f2937;padding:1rem 2rem;color:#f9fafb;box-shadow:0 4px 12px #0000001a}.navbar-logo[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar-logo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:.8rem;border-radius:50%}.navbar-logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#e5e7eb}.navbar-links[_ngcontent-%COMP%]{list-style:none;display:flex;gap:1.5rem}.navbar-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#e5e7eb;font-weight:500;padding:.5rem;transition:color .3s ease,background-color .3s ease;border-radius:8px}.navbar-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1f2937;background-color:#f3f4f6}.navbar-auth[_ngcontent-%COMP%]{display:flex;gap:1rem}.btn[_ngcontent-%COMP%]{text-decoration:none;padding:.5rem 1rem;border-radius:20px;font-weight:700;transition:background-color .3s ease,transform .2s ease}.btn.login[_ngcontent-%COMP%], .btn.register[_ngcontent-%COMP%]{background-color:#d90429;color:#fff}.btn[_ngcontent-%COMP%]:hover{background-color:#ef233c;color:#fff;transform:scale(1.05)}.info[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;transform:translate(-50%);display:flex;gap:15px;background:#fffc;padding:10px;border-radius:10px}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:200px;padding:10px;background-color:#edf2f4;border-radius:10px;text-align:center;border:1px solid #2b2d42}.card[_ngcontent-%COMP%]:last-child{margin-right:10px}.card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;color:#2b2d42;margin-bottom:5px}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;margin-bottom:5px}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.about-us[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;display:flex;justify-content:center;align-items:center;flex-direction:row;margin-top:40px}.about-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a;margin-left:10px;margin-right:10px}.about-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 12px #00000026}.about-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:350px;height:260px;border-radius:10px}.about-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px;margin-top:20px}.about-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:1.5;word-wrap:break-word;padding-left:15px;padding-right:15px}.home-image-container[_ngcontent-%COMP%]{position:relative;text-align:center}.home-image[_ngcontent-%COMP%]{width:100%;max-height:600px;height:auto;object-fit:cover;object-position:center}"]})};var Mb=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(te(Fn),te(ln))}}static{this.\u0275dir=Le({type:t})}}return t})(),Da=(()=>{class t extends Mb{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Er(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,features:[Lt]})}}return t})(),ks=new U("");var n1={provide:ks,useExisting:an(()=>Il),multi:!0};function r1(){let t=Vn()?Vn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var i1=new U(""),Il=(()=>{class t extends Mb{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!r1())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(te(Fn),te(ln),te(i1,8))}}static{this.\u0275dir=Le({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&et("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[br([n1]),Lt]})}}return t})();function Tr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Nb(t){return t!=null&&typeof t.length=="number"}var xb=new U(""),Pb=new U(""),s1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,nt=class{static min(e){return o1(e)}static max(e){return a1(e)}static required(e){return c1(e)}static requiredTrue(e){return u1(e)}static email(e){return l1(e)}static minLength(e){return d1(e)}static maxLength(e){return h1(e)}static pattern(e){return f1(e)}static nullValidator(e){return Ob(e)}static compose(e){return jb(e)}static composeAsync(e){return $b(e)}};function o1(t){return e=>{if(Tr(e.value)||Tr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function a1(t){return e=>{if(Tr(e.value)||Tr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function c1(t){return Tr(t.value)?{required:!0}:null}function u1(t){return t.value===!0?null:{required:!0}}function l1(t){return Tr(t.value)||s1.test(t.value)?null:{email:!0}}function d1(t){return e=>Tr(e.value)||!Nb(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function h1(t){return e=>Nb(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function f1(t){if(!t)return Ob;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Tr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Ob(t){return null}function kb(t){return t!=null}function Fb(t){return si(t)?Re(t):t}function Lb(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function Vb(t,e){return e.map(n=>n(t))}function p1(t){return!t.validate}function Ub(t){return t.map(e=>p1(e)?e:n=>e.validate(n))}function jb(t){if(!t)return null;let e=t.filter(kb);return e.length==0?null:function(n){return Lb(Vb(n,e))}}function Bb(t){return t!=null?jb(Ub(t)):null}function $b(t){if(!t)return null;let e=t.filter(kb);return e.length==0?null:function(n){let r=Vb(n,e).map(Fb);return Ph(r).pipe(ie(Lb))}}function Hb(t){return t!=null?$b(Ub(t)):null}function wb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function qb(t){return t._rawValidators}function zb(t){return t._rawAsyncValidators}function Ig(t){return t?Array.isArray(t)?t:[t]:[]}function fl(t,e){return Array.isArray(t)?t.includes(e):t===e}function Eb(t,e){let n=Ig(e);return Ig(t).forEach(i=>{fl(n,i)||n.push(i)}),n}function Db(t,e){return Ig(e).filter(n=>!fl(t,n))}var pl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Bb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Hb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},xs=class extends pl{get formDirective(){return null}get path(){return null}},Ps=class extends pl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},gl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},g1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},J9=re(O({},g1),{"[class.ng-submitted]":"isSubmitted"}),Gb=(()=>{class t extends gl{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(te(Ps,2))}}static{this.\u0275dir=Le({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ju("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Lt]})}}return t})(),Wb=(()=>{class t extends gl{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(te(xs,10))}}static{this.\u0275dir=Le({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ju("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Lt]})}}return t})();var _a="VALID",dl="INVALID",Ms="PENDING",Ia="DISABLED",Sr=class{},ml=class extends Sr{constructor(e,n){super(),this.value=e,this.source=n}},wa=class extends Sr{constructor(e,n){super(),this.pristine=e,this.source=n}},Ea=class extends Sr{constructor(e,n){super(),this.touched=e,this.source=n}},Ns=class extends Sr{constructor(e,n){super(),this.status=e,this.source=n}},wg=class extends Sr{constructor(e){super(),this.source=e}},Eg=class extends Sr{constructor(e){super(),this.source=e}};function Cg(t){return(wl(t)?t.validators:t)||null}function m1(t){return Array.isArray(t)?Bb(t):t||null}function Tg(t,e){return(wl(e)?e.asyncValidators:t)||null}function y1(t){return Array.isArray(t)?Hb(t):t||null}function wl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Kb(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function Qb(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var Os=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ko(()=>this.statusReactive()),this.statusReactive=Wo(void 0),this._pristine=Ko(()=>this.pristineReactive()),this.pristineReactive=Wo(!0),this._touched=Ko(()=>this.touchedReactive()),this.touchedReactive=Wo(!1),this._events=new Ze,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ln(this.statusReactive)}set status(e){Ln(()=>this.statusReactive.set(e))}get valid(){return this.status===_a}get invalid(){return this.status===dl}get pending(){return this.status==Ms}get disabled(){return this.status===Ia}get enabled(){return this.status!==Ia}get pristine(){return Ln(this.pristineReactive)}set pristine(e){Ln(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Ln(this.touchedReactive)}set touched(e){Ln(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Eb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Eb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Db(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Db(e,this._rawAsyncValidators))}hasValidator(e){return fl(this._rawValidators,e)}hasAsyncValidator(e){return fl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ea(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ea(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new wa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new wa(!0,r))}markAsPending(e={}){this.status=Ms;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ns(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ia,this.errors=null,this._forEachChild(i=>{i.disable(re(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ml(this.value,r)),this._events.next(new Ns(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=_a,this._forEachChild(r=>{r.enable(re(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_a||this.status===Ms)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ml(this.value,n)),this._events.next(new Ns(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ia:_a}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ms,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Fb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ns(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?Ia:this.errors?dl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ms)?Ms:this._anyControlsHaveStatus(dl)?dl:_a}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new wa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ea(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=m1(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=y1(this._rawAsyncValidators)}},yl=class extends Os{constructor(e,n,r){super(Cg(n),Tg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Qb(this,!0,e),Object.keys(e).forEach(r=>{Kb(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Dg=class extends yl{};var El=new U("CallSetDisabledState",{providedIn:"root",factory:()=>ba}),ba="always";function v1(t,e){return[...e.path,t]}function bb(t,e,n=ba){Sg(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),I1(t,e),E1(t,e),w1(t,e),_1(t,e)}function Cb(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),_l(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function vl(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function _1(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Sg(t,e){let n=qb(t);e.validator!==null?t.setValidators(wb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=zb(t);e.asyncValidator!==null?t.setAsyncValidators(wb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();vl(e._rawValidators,i),vl(e._rawAsyncValidators,i)}function _l(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=qb(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=zb(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return vl(e._rawValidators,r),vl(e._rawAsyncValidators,r),n}function I1(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Yb(t,e)})}function w1(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Yb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Yb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function E1(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function D1(t,e){t==null,Sg(t,e)}function b1(t,e){return _l(t,e)}function C1(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function T1(t){return Object.getPrototypeOf(t.constructor)===Da}function S1(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function A1(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Il?n=s:T1(s)?r=s:i=s}),i||r||n||null}function R1(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Tb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Sb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var hl=class extends Os{constructor(e=null,n,r){super(Cg(n),Tg(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Sb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Tb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Tb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Sb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var M1=t=>t instanceof hl;var Zb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Le({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),N1={provide:ks,useExisting:an(()=>Ag),multi:!0},Ag=(()=>{class t extends Da{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Er(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&et("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[br([N1]),Lt]})}}return t})(),x1={provide:ks,useExisting:an(()=>Rg),multi:!0};var P1=(()=>{class t{constructor(){this._accessors=[]}add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n){this._accessors.splice(r,1);return}}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return n[0].control?n[0]._parent===r._control._parent&&n[1].name===r.name:!1}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Rg=(()=>{class t extends Da{constructor(n,r,i,s){super(n,r),this._registry=i,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=k(El,{optional:!0})??ba}ngOnInit(){this._control=this._injector.get(Ps),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||t)(te(Fn),te(ln),te(P1),te(Xe))}}static{this.\u0275dir=Le({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&et("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[br([x1]),Lt]})}}return t})();var Jb=new U("");var O1={provide:xs,useExisting:an(()=>Mg)},Mg=(()=>{class t extends xs{get submitted(){return Ln(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Ko(()=>this._submittedReactive()),this._submittedReactive=Wo(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ke,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_l(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return bb(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Cb(n.control||null,n,!1),R1(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),S1(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new wg(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Eg(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(Cb(r||null,n),M1(i)&&(bb(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);D1(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&b1(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Sg(this.form,this),this._oldForm&&_l(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(te(xb,10),te(Pb,10),te(El,8))}}static{this.\u0275dir=Le({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&et("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[br([O1]),Lt,ii]})}}return t})();var k1={provide:Ps,useExisting:an(()=>Ng)},Ng=(()=>{class t extends Ps{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new ke,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=A1(this,s)}ngOnChanges(n){this._added||this._setUpControl(),C1(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return v1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(te(xs,13),te(xb,10),te(Pb,10),te(ks,10),te(Jb,8))}}static{this.\u0275dir=Le({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[br([k1]),Lt,ii]})}}return t})(),F1={provide:ks,useExisting:an(()=>Dl),multi:!0};function Xb(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function L1(t){return t.split(":")[0]}var Dl=(()=>{class t extends Da{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=Xb(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=L1(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Er(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&et("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[br([F1]),Lt]})}}return t})(),eC=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(Xb(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(te(ln),te(Fn),te(Dl,9))}}static{this.\u0275dir=Le({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),V1={provide:ks,useExisting:an(()=>tC),multi:!0};function Ab(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function U1(t){return t.split(":")[0]}var tC=(()=>{class t extends Da{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let c=0;c<o.length;c++){let u=o[c],d=this._getOptionValue(u.value);i.push(d)}}else{let o=r.options;for(let c=0;c<o.length;c++){let u=o[c];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=U1(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Er(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&et("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[br([V1]),Lt]})}}return t})(),nC=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Ab(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Ab(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(te(ln),te(Fn),te(tC,9))}}static{this.\u0275dir=Le({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var rC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=vr({type:t})}static{this.\u0275inj=yr({})}}return t})(),bg=class extends Os{constructor(e,n,r){super(Cg(n),Tg(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Qb(this,!1,e),e.forEach((r,i)=>{Kb(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Rb(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var iC=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),s={};return Rb(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new yl(i,s)}record(n,r=null){let i=this._reduceControls(n);return new Dg(i,r)}control(n,r,i){let s={};return this.useNonNullable?(Rb(r)?s=r:(s.validators=r,s.asyncValidators=i),new hl(n,re(O({},s),{nonNullable:!0}))):new hl(n,r,i)}array(n,r,i){let s=n.map(o=>this._createControl(o));return new bg(s,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof hl)return n;if(n instanceof Os)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,i,s)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var bl=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:El,useValue:n.callSetDisabledState??ba}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=vr({type:t})}static{this.\u0275inj=yr({imports:[rC]})}}return t})(),Cl=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Jb,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:El,useValue:n.callSetDisabledState??ba}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=vr({type:t})}static{this.\u0275inj=yr({imports:[rC]})}}return t})();var Tl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=cn({type:t,selectors:[["app-login"]],standalone:!0,features:[dn],decls:0,vars:0,template:function(n,r){},dependencies:[Yo,bl,Cl]})};var oC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},B1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},aC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,_=(c&15)<<2|d>>6,I=d&63;u||(I=64,o||(_=64)),r.push(n[f],n[g],n[_],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):B1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||g==null)throw new Pg;let _=s<<2|c>>4;if(r.push(_),d!==64){let I=c<<4&240|d>>2;if(r.push(I),g!==64){let S=d<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Pg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$1=function(t){let e=oC(t);return aC.encodeByteArray(e,!0)},Ca=function(t){return $1(t).replace(/\./g,"")},kg=function(t){try{return aC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function H1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var q1=()=>H1().__FIREBASE_DEFAULTS__,z1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},G1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&kg(t[1]);return e&&JSON.parse(e)},Al=()=>{try{return q1()||z1()||G1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Fg=t=>{var e,n;return(n=(e=Al())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Rl=t=>{let e=Fg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Lg=()=>{var t;return(t=Al())===null||t===void 0?void 0:t.config},Vg=t=>{var e;return(e=Al())===null||e===void 0?void 0:e[`_${t}`]};var Sl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Ml(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ca(JSON.stringify(n)),Ca(JSON.stringify(o)),""].join(".")}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function W1(){var t;let e=(t=Al())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hC(){let t=Ge();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fC(){return!W1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ug(){try{return typeof indexedDB=="object"}catch{return!1}}function pC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var K1="FirebaseError",vt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=K1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bn.prototype.create)}},Bn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Q1(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new vt(i,c,r)}};function Q1(t,e){return t.replace(Y1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Y1=/\{\$([^}]+)}/g;function gC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(sC(s)&&sC(o)){if(!hi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function sC(t){return t!==null&&typeof t=="object"}function Ta(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mC(t,e){let n=new Og(t,e);return n.subscribe.bind(n)}var Og=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Z1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=xg),i.error===void 0&&(i.error=xg),i.complete===void 0&&(i.complete=xg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Z1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xg(){}var iW=4*60*60*1e3;function We(t){return t&&t._delegate?t._delegate:t}var wt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fi="[DEFAULT]";var jg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Sl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X1(e))try{this.getOrInitializeService({instanceIdentifier:fi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=fi){return this.instances.has(e)}getOptions(e=fi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:J1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fi){return this.component?this.component.multipleInstances?e:fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function J1(t){return t===fi?void 0:t}function X1(t){return t.instantiationMode==="EAGER"}var Nl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new jg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var eF=[],ue=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ue||{}),tF={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},nF=ue.INFO,rF={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},iF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=rF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ar=class{constructor(e){this.name=e,this._logLevel=nF,this._logHandler=iF,this._userLogHandler=null,eF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var sF=(t,e)=>e.some(n=>t instanceof n),yC,vC;function oF(){return yC||(yC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aF(){return vC||(vC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var _C=new WeakMap,$g=new WeakMap,IC=new WeakMap,Bg=new WeakMap,qg=new WeakMap;function cF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(pn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_C.set(n,t)}).catch(()=>{}),qg.set(e,t),e}function uF(t){if($g.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$g.set(t,e)}var Hg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $g.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wC(t){Hg=t(Hg)}function lF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(xl(this),e,...n);return IC.set(r,e.sort?e.sort():[e]),pn(r)}:aF().includes(t)?function(...e){return t.apply(xl(this),e),pn(_C.get(this))}:function(...e){return pn(t.apply(xl(this),e))}}function dF(t){return typeof t=="function"?lF(t):(t instanceof IDBTransaction&&uF(t),sF(t,oF())?new Proxy(t,Hg):t)}function pn(t){if(t instanceof IDBRequest)return cF(t);if(Bg.has(t))return Bg.get(t);let e=dF(t);return e!==t&&(Bg.set(t,e),qg.set(e,t)),e}var xl=t=>qg.get(t);function DC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=pn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(pn(o.result),u.oldVersion,u.newVersion,pn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var hF=["get","getKey","getAll","getAllKeys","count"],fF=["put","add","delete","clear"],zg=new Map;function EC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zg.get(e))return zg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=fF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hF.includes(n)))return;let s=function(o,...c){return E(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[n](...c),i&&u.done]))[0]})};return zg.set(e,s),s}wC(t=>re(O({},t),{get:(e,n,r)=>EC(e,n)||t.get(e,n,r),has:(e,n)=>!!EC(e,n)||t.has(e,n)}));var Wg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function pF(t){let e=t.getComponent();return e?.type==="VERSION"}var Kg="@firebase/app",bC="0.10.13";var $n=new Ar("@firebase/app"),gF="@firebase/app-compat",mF="@firebase/analytics-compat",yF="@firebase/analytics",vF="@firebase/app-check-compat",_F="@firebase/app-check",IF="@firebase/auth",wF="@firebase/auth-compat",EF="@firebase/database",DF="@firebase/data-connect",bF="@firebase/database-compat",CF="@firebase/functions",TF="@firebase/functions-compat",SF="@firebase/installations",AF="@firebase/installations-compat",RF="@firebase/messaging",MF="@firebase/messaging-compat",NF="@firebase/performance",xF="@firebase/performance-compat",PF="@firebase/remote-config",OF="@firebase/remote-config-compat",kF="@firebase/storage",FF="@firebase/storage-compat",LF="@firebase/firestore",VF="@firebase/vertexai-preview",UF="@firebase/firestore-compat",jF="firebase",BF="10.14.1";var Qg="[DEFAULT]",$F={[Kg]:"fire-core",[gF]:"fire-core-compat",[yF]:"fire-analytics",[mF]:"fire-analytics-compat",[_F]:"fire-app-check",[vF]:"fire-app-check-compat",[IF]:"fire-auth",[wF]:"fire-auth-compat",[EF]:"fire-rtdb",[DF]:"fire-data-connect",[bF]:"fire-rtdb-compat",[CF]:"fire-fn",[TF]:"fire-fn-compat",[SF]:"fire-iid",[AF]:"fire-iid-compat",[RF]:"fire-fcm",[MF]:"fire-fcm-compat",[NF]:"fire-perf",[xF]:"fire-perf-compat",[PF]:"fire-rc",[OF]:"fire-rc-compat",[kF]:"fire-gcs",[FF]:"fire-gcs-compat",[LF]:"fire-fst",[UF]:"fire-fst-compat",[VF]:"fire-vertex","fire-js":"fire-js",[jF]:"fire-js-all"};var Sa=new Map,HF=new Map,Yg=new Map;function CC(t,e){try{t.container.addComponent(e)}catch(n){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gn(t){let e=t.name;if(Yg.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;Yg.set(e,t);for(let n of Sa.values())CC(n,t);for(let n of HF.values())CC(n,t);return!0}function pi(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t.settings!==void 0}var qF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new Bn("app","Firebase",qF);var Zg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}};var mn=BF;function em(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Qg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Rr.create("bad-app-name",{appName:String(i)});if(n||(n=Lg()),!n)throw Rr.create("no-options");let s=Sa.get(i);if(s){if(hi(n,s.options)&&hi(r,s.config))return s;throw Rr.create("duplicate-app",{appName:i})}let o=new Nl(i);for(let u of Yg.values())o.addComponent(u);let c=new Zg(n,r,o);return Sa.set(i,c),c}function Mr(t=Qg){let e=Sa.get(t);if(!e&&t===Qg&&Lg())return em();if(!e)throw Rr.create("no-app",{appName:t});return e}function Pl(){return Array.from(Sa.values())}function De(t,e,n){var r;let i=(r=$F[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(c.join(" "));return}gn(new wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var zF="firebase-heartbeat-database",GF=1,Aa="firebase-heartbeat-store",Gg=null;function RC(){return Gg||(Gg=DC(zF,GF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Aa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rr.create("idb-open",{originalErrorMessage:t.message})})),Gg}function WF(t){return E(this,null,function*(){try{let n=(yield RC()).transaction(Aa),r=yield n.objectStore(Aa).get(MC(t));return yield n.done,r}catch(e){if(e instanceof vt)$n.warn(e.message);else{let n=Rr.create("idb-get",{originalErrorMessage:e?.message});$n.warn(n.message)}}})}function TC(t,e){return E(this,null,function*(){try{let r=(yield RC()).transaction(Aa,"readwrite");yield r.objectStore(Aa).put(e,MC(t)),yield r.done}catch(n){if(n instanceof vt)$n.warn(n.message);else{let r=Rr.create("idb-set",{originalErrorMessage:n?.message});$n.warn(r.message)}}})}function MC(t){return`${t.name}!${t.options.appId}`}var KF=1024,QF=30*24*60*60*1e3,Jg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Xg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=SC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=QF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$n.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=SC(),{heartbeatsToSend:r,unsentEntries:i}=YF(this._heartbeatsCache.heartbeats),s=Ca(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $n.warn(n),""}})}};function SC(){return new Date().toISOString().substring(0,10)}function YF(t,e=KF){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),AC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Xg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Ug()?pC().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield WF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return TC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return TC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function AC(t){return Ca(JSON.stringify({version:2,heartbeats:t})).length}function ZF(t){gn(new wt("platform-logger",e=>new Wg(e),"PRIVATE")),gn(new wt("heartbeat",e=>new Jg(e),"PRIVATE")),De(Kg,bC,t),De(Kg,bC,"esm2017"),De("fire-js","")}ZF("");var JF="firebase",XF="10.14.1";De(JF,XF,"app");var qn=new xn("ANGULARFIRE2_VERSION");function Ls(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var mi=(t,e)=>{let n=e?[e]:Pl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Nr=class{constructor(){return mi(eL)}},eL="app-check";function Fs(){}var Ol=class{zone;delegate;constructor(e,n=Rh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},tm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fs,{},Fs,Fs)),n.pipe(qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},xr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ol(Zone.current)),this.insideAngular=n.run(()=>new Ol(Zone.current,Ah)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(X(me))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function tL(t){return kl().ngZone.runOutsideAngular(()=>t())}function gi(t){return kl().ngZone.run(()=>t())}function nL(t){return rL(kl())(t)}function rL(t){return function(n){return n=n.lift(new tm(t.ngZone)),n.pipe(ar(t.outsideAngular),or(t.insideAngular))}}var iL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),gi(()=>t.apply(void 0,r))},At=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=gi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fs,{},Fs,Fs))),r[s]=iL(r[s],n));let i=tL(()=>t.apply(this,r));if(!e)if(i instanceof de){let s=kl();return i.pipe(ar(s.outsideAngular),or(s.insideAngular))}else return gi(()=>i);return i instanceof de?i.pipe(nL):i instanceof Promise?gi(()=>new Promise((s,o)=>i.then(c=>gi(()=>s(c)),c=>gi(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:gi(()=>i)};var Jt=class{constructor(e){return e}},zn=class{constructor(){return Pl()}};function sL(t){return t&&t.length===1?t[0]:new Jt(Mr())}var nm=new U("angularfire2._apps"),oL={provide:Jt,useFactory:sL,deps:[[new Fe,nm]]},aL={provide:zn,deps:[[new Fe,nm]]};function cL(t){return(e,n)=>{let r=n.get(Dr);De("angularfire",qn.full,"core"),De("angularfire",qn.full,"app"),De("angular",oD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Jt(i)}}function NC(t,...e){return Ft([oL,aL,{provide:nm,useFactory:cL(t),multi:!0,deps:[me,Xe,xr,...e]}])}var xC=At(em,!0);function WC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var KC=WC,QC=new Bn("auth","Firebase",WC());var Bl=new Ar("@firebase/auth");function uL(t,...e){Bl.logLevel<=ue.WARN&&Bl.warn(`Auth (${mn}): ${t}`,...e)}function Ll(t,...e){Bl.logLevel<=ue.ERROR&&Bl.error(`Auth (${mn}): ${t}`,...e)}function Or(t,...e){throw Em(t,...e)}function vi(t,...e){return Em(t,...e)}function YC(t,e,n){let r=Object.assign(Object.assign({},KC()),{[e]:n});return new Bn("auth","Firebase",r).create(e,{appName:t.name})}function yi(t){return YC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Em(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QC.create(t,...e)}function Q(t,e,...n){if(!t)throw Em(e,...n)}function Gn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ll(e),new Error(e)}function kr(t,e){t||Gn(e)}function om(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lL(){return PC()==="http:"||PC()==="https:"}function PC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function dL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lL()||lC()||"connection"in navigator)?navigator.onLine:!0}function hL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var _i=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,kr(n>e,"Short delay should be less than long delay!"),this.isMobile=cC()||dC()}get(){return dL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Dm(t,e){kr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var $l=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var fL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var pL=new _i(3e4,6e4);function bm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Us(s,o,c,u){return E(this,arguments,function*(t,e,n,r,i={}){return ZC(t,i,()=>E(this,null,function*(){let d={},f={};r&&(e==="GET"?f=r:d={body:JSON.stringify(r)});let g=Ta(Object.assign({key:t.config.apiKey},f)).slice(1),_=yield t._getAdditionalHeaders();_["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode);let I=Object.assign({method:e,headers:_},d);return uC()||(I.referrerPolicy="no-referrer"),$l.fetch()(JC(t,t.config.apiHost,n,g),I)}))})}function ZC(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},fL),e);try{let i=new am(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Fl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Fl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Fl(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw YC(t,f,d);Or(t,f)}}catch(i){if(i instanceof vt)throw i;Or(t,"network-request-failed",{message:String(i)})}})}function gL(s,o,c,u){return E(this,arguments,function*(t,e,n,r,i={}){let d=yield Us(t,e,n,r,i);return"mfaPendingCredential"in d&&Or(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function JC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Dm(t.config,i):`${t.config.apiScheme}://${i}`}var am=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),pL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Fl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=vi(t,e,r);return i.customData._tokenResponse=n,i}function mL(t,e){return E(this,null,function*(){return Us(t,"POST","/v1/accounts:delete",e)})}function XC(t,e){return E(this,null,function*(){return Us(t,"POST","/v1/accounts:lookup",e)})}function Ra(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Cm(t,e=!1){return E(this,null,function*(){let n=We(t),r=yield n.getIdToken(e),i=Tm(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ra(rm(i.auth_time)),issuedAtTime:Ra(rm(i.iat)),expirationTime:Ra(rm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function rm(t){return Number(t)*1e3}function Tm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ll("JWT malformed, contained fewer than 3 sections"),null;try{let i=kg(n);return i?JSON.parse(i):(Ll("Failed to decode base64 JWT payload"),null)}catch(i){return Ll("Caught error parsing JWT payload as JSON",i?.toString()),null}}function OC(t){let e=Tm(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Na(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof vt&&yL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function yL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var cm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var xa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ra(this.lastLoginAt),this.creationTime=Ra(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Hl(t){return E(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Na(t,XC(n,{idToken:r}));Q(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?eT(s.providerUserInfo):[],c=vL(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!c?.length,f=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new xa(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function Sm(t){return E(this,null,function*(){let e=We(t);yield Hl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function vL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eT(t){return t.map(e=>{var{providerId:n}=e,r=Mh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _L(t,e){return E(this,null,function*(){let n=yield ZC(t,{},()=>E(this,null,function*(){let r=Ta({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=JC(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",$l.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function IL(t,e){return E(this,null,function*(){return Us(t,"POST","/v2/accounts:revokeToken",bm(t,e))})}var Ma=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let n=OC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return E(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield _L(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Gn("not implemented")}};function Pr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Vs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Mh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield Na(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Cm(this,e)}reload(){return Sm(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Hl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(Hn(this.auth.app))return Promise.reject(yi(this.auth));let e=yield this.getIdToken();return yield Na(this,mL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,d,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(d=n.createdAt)!==null&&d!==void 0?d:void 0,z=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:$,emailVerified:G,isAnonymous:Ce,providerData:se,stsTokenManager:D}=n;Q($&&D,e,"internal-error");let m=Ma.fromJSON(this.name,D);Q(typeof $=="string",e,"internal-error"),Pr(g,e.name),Pr(_,e.name),Q(typeof G=="boolean",e,"internal-error"),Q(typeof Ce=="boolean",e,"internal-error"),Pr(I,e.name),Pr(S,e.name),Pr(N,e.name),Pr(R,e.name),Pr(F,e.name),Pr(z,e.name);let y=new t({uid:$,auth:e,email:_,emailVerified:G,displayName:g,isAnonymous:Ce,photoURL:S,phoneNumber:I,tenantId:N,stsTokenManager:m,createdAt:F,lastLoginAt:z});return se&&Array.isArray(se)&&(y.providerData=se.map(w=>Object.assign({},w))),R&&(y._redirectEventId=R),y}static _fromIdTokenResponse(e,n,r=!1){return E(this,null,function*(){let i=new Ma;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Hl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return E(this,null,function*(){let i=n.users[0];Q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?eT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Ma;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new xa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var kC=new Map;function Wn(t){kr(t instanceof Function,"Expected a class definition");let e=kC.get(t);return e?(kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kC.set(t,e),e)}var wL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,r){return E(this,null,function*(){this.storage[n]=r})}_get(n){return E(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),um=wL;function Vl(t,e,n){return`firebase:${t}:${e}:${n}`}var ql=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Vl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Vl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Vs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(this,null,function*(){if(!n.length)return new t(Wn(um),e,r);let i=(yield Promise.all(n.map(d=>E(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||Wn(um),o=Vl(r,e.config.apiKey,e.name),c=null;for(let d of n)try{let f=yield d._get(o);if(f){let g=Vs._fromJSON(e,f);d!==s&&(c=g),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(d=>E(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new t(s,e,r))})}};function FC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oT(e))return"Blackberry";if(aT(e))return"Webos";if(nT(e))return"Safari";if((e.includes("chrome/")||rT(e))&&!e.includes("edge/"))return"Chrome";if(sT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function tT(t=Ge()){return/firefox\//i.test(t)}function nT(t=Ge()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rT(t=Ge()){return/crios\//i.test(t)}function iT(t=Ge()){return/iemobile/i.test(t)}function sT(t=Ge()){return/android/i.test(t)}function oT(t=Ge()){return/blackberry/i.test(t)}function aT(t=Ge()){return/webos/i.test(t)}function Am(t=Ge()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EL(t=Ge()){var e;return Am(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DL(){return hC()&&document.documentMode===10}function cT(t=Ge()){return Am(t)||sT(t)||aT(t)||oT(t)||/windows phone/i.test(t)||iT(t)}function uT(t,e=[]){let n;switch(t){case"Browser":n=FC(Ge());break;case"Worker":n=`${FC(Ge())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mn}/${r}`}var lm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function bL(n){return E(this,arguments,function*(t,e={}){return Us(t,"GET","/v2/passwordPolicy",bm(t,e))})}var CL=6,dm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:CL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var hm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zl(this),this.idTokenSubscription=new zl(this),this.beforeStateQueue=new lm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ql.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let n=yield XC(this,{idToken:e}),r=yield Vs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;if(Hn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Hl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=hL()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(Hn(this.app))return Promise.reject(yi(this));let n=e?We(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return Hn(this.app)?Promise.reject(yi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Hn(this.app)?Promise.reject(yi(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Wn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield bL(this),n=new dm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield IL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Wn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=yield ql.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return E(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&uL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Rm(t){return We(t)}var zl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=mC(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Mm={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TL(t){Mm=t}function SL(t){return Mm.loadJS(t)}function AL(){return Mm.gapiScript}function lT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Nm(t,e){let n=pi(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(hi(s,e??{}))return i;Or(i,"already-initialized")}return n.initialize({options:e})}function RL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Wn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function xm(t,e,n){let r=Rm(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=dT(e),{host:o,port:c}=ML(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||NL()}function dT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ML(t){let e=dT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:LC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:LC(o)}}}function LC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function NL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Gl=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,n){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}};function im(t,e){return E(this,null,function*(){return gL(t,"POST","/v1/accounts:signInWithIdp",bm(t,e))})}var Wl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var fm=class extends Wl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Pa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return E(this,null,function*(){let s=yield Vs._fromIdTokenResponse(e,r,i),o=VC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=VC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function VC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var pm=class t extends vt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function hT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pm._fromErrorAndOperation(t,s,e,r):s})}function xL(t,e,n=!1){return E(this,null,function*(){let r=yield Na(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Pa._forOperation(t,"link",r)})}function PL(t,e,n=!1){return E(this,null,function*(){let{auth:r}=t;if(Hn(r.app))return Promise.reject(yi(r));let i="reauthenticate";try{let s=yield Na(t,hT(r,i,e,t),n);Q(s.idToken,r,"internal-error");let o=Tm(s.idToken);Q(o,r,"internal-error");let{sub:c}=o;return Q(t.uid===c,r,"user-mismatch"),Pa._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Or(r,"user-mismatch"),s}})}function OL(t,e,n=!1){return E(this,null,function*(){if(Hn(t.app))return Promise.reject(yi(t));let r="signIn",i=yield hT(t,r,e),s=yield Pa._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Pm(t,e,n,r){return We(t).onIdTokenChanged(e,n,r)}function Om(t,e,n){return We(t).beforeAuthStateChanged(e,n)}var Kl="__sak";var Ql=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kl,"1"),this.storage.removeItem(Kl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var kL=1e3,FL=10,LL=(()=>{class t extends Ql{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,d)=>{this.notifyListeners(c,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);DL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,FL):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},kL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return E(this,null,function*(){yield rr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return E(this,null,function*(){let r=yield rr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return E(this,null,function*(){yield rr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),fT=LL;var VL=(()=>{class t extends Ql{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),km=VL;function UL(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var jL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>E(this,null,function*(){return f(r.origin,o)})),d=yield UL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function pT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var gm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let d=pT("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function yn(){return window}function BL(t){yn().location.href=t}function gT(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}function $L(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function HL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qL(){return gT()?self:null}var mT="firebaseLocalStorageDb",zL=1,Yl="firebaseLocalStorage",yT="fbase_key",Ii=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Jl(t,e){return t.transaction([Yl],e?"readwrite":"readonly").objectStore(Yl)}function GL(){let t=indexedDB.deleteDatabase(mT);return new Ii(t).toPromise()}function mm(){let t=indexedDB.open(mT,zL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Yl,{keyPath:yT})}catch(i){n(i)}}),t.addEventListener("success",()=>E(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Yl)?e(r):(r.close(),yield GL(),e(yield mm()))}))})}function UC(t,e,n){return E(this,null,function*(){let r=Jl(t,!0).put({[yT]:e,value:n});return new Ii(r).toPromise()})}function WL(t,e){return E(this,null,function*(){let n=Jl(t,!1).get(e),r=yield new Ii(n).toPromise();return r===void 0?null:r.value})}function jC(t,e){let n=Jl(t,!0).delete(e);return new Ii(n).toPromise()}var KL=800,QL=3,YL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield mm(),this.db)})}_withRetries(n){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>QL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return gT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=jL._getInstance(qL()),this.receiver._subscribe("keyChanged",(n,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,r;if(this.activeServiceWorker=yield $L(),!this.activeServiceWorker)return;this.sender=new gm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||HL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield mm();return yield UC(n,Kl,"1"),yield jC(n,Kl),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>UC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let r=yield this._withRetries(i=>WL(i,n));return this.localCache[n]=r,r})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>jC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(s=>{let o=Jl(s,!1).getAll();return new Ii(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),KL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),vT=YL;var XW=lT("rcb"),e6=new _i(3e4,6e4);function ZL(t,e){return e?Wn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Oa=class extends Gl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return im(e,this._buildIdpRequest())}_linkToIdToken(e,n){return im(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return im(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function JL(t){return OL(t.auth,new Oa(t),t.bypassAuthState)}function XL(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),PL(n,new Oa(t),t.bypassAuthState)}function eV(t){return E(this,null,function*(){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),xL(n,new Oa(t),t.bypassAuthState)})}var ym=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JL;case"linkViaPopup":case"linkViaRedirect":return eV;case"reauthViaPopup":case"reauthViaRedirect":return XL;default:Or(this.auth,"internal-error")}}resolve(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var t6=new _i(2e3,1e4);var tV="pendingRedirect",Ul=new Map,vm=class t extends ym{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=Ul.get(this.auth._key());if(!e){try{let r=(yield nV(this.resolver,this.auth))?yield rr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ul.set(this.auth._key(),e)}return this.bypassAuthState||Ul.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return rr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,rr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function nV(t,e){return E(this,null,function*(){let n=sV(e),r=iV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function rV(t,e){Ul.set(t._key(),e)}function iV(t){return Wn(t._redirectPersistence)}function sV(t){return Vl(tV,t.config.apiKey,t.name)}function oV(t,e,n=!1){return E(this,null,function*(){if(Hn(t.app))return Promise.reject(yi(t));let r=Rm(t),i=ZL(r,e),o=yield new vm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var aV=10*60*1e3,_m=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_T(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aV&&this.cachedEventUids.clear(),this.cachedEventUids.has(BC(e))}saveEventToCache(e){this.cachedEventUids.add(BC(e)),this.lastProcessedEventTime=Date.now()}};function BC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _T({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function cV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _T(t);default:return!1}}function uV(n){return E(this,arguments,function*(t,e={}){return Us(t,"GET","/v1/projects",e)})}var lV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dV=/^https?/;function hV(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield uV(t);for(let n of e)try{if(fV(n))return}catch{}Or(t,"unauthorized-domain")})}function fV(t){let e=om(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!dV.test(n))return!1;if(lV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var pV=new _i(3e4,6e4);function $C(){let t=yn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gV(t){return new Promise((e,n)=>{var r,i,s;function o(){$C(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$C(),n(vi(t,"network-request-failed"))},timeout:pV.get()})}if(!((i=(r=yn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yn().gapi)===null||s===void 0)&&s.load)o();else{let c=lT("iframefcb");return yn()[c]=()=>{gapi.load?o():n(vi(t,"network-request-failed"))},SL(`${AL()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw jl=null,e})}var jl=null;function mV(t){return jl=jl||gV(t),jl}var yV=new _i(5e3,15e3),vV="__/auth/iframe",_V="emulator/auth/iframe",IV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EV(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Dm(e,_V):`https://${t.config.authDomain}/${vV}`,r={apiKey:e.apiKey,appName:t.name,v:mn},i=wV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ta(r).slice(1)}`}function DV(t){return E(this,null,function*(){let e=yield mV(t),n=yn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:EV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IV,dontclear:!0},r=>new Promise((i,s)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=vi(t,"network-request-failed"),c=yn().setTimeout(()=>{s(o)},yV.get());function u(){yn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var bV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CV=500,TV=600,SV="_blank",AV="http://localhost",Zl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function RV(t,e,n,r=CV,i=TV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},bV),{width:r.toString(),height:i.toString(),top:s,left:o}),d=Ge().toLowerCase();n&&(c=rT(d)?SV:n),tT(d)&&(e=e||AV,u.scrollbars="yes");let f=Object.entries(u).reduce((_,[I,S])=>`${_}${I}=${S},`,"");if(EL(d)&&c!=="_self")return MV(e||"",c),new Zl(null);let g=window.open(e||"",c,f);Q(g,t,"popup-blocked");try{g.focus()}catch{}return new Zl(g)}function MV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var NV="__/auth/handler",xV="emulator/auth/handler",PV=encodeURIComponent("fac");function HC(t,e,n,r,i,s){return E(this,null,function*(){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mn,eventId:i};if(e instanceof Wl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))o[f]=g}if(e instanceof fm){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),d=u?`#${PV}=${encodeURIComponent(u)}`:"";return`${OV(t)}?${Ta(c).slice(1)}${d}`})}function OV({config:t}){return t.emulator?Dm(t,xV):`https://${t.authDomain}/${NV}`}var sm="webStorageSupport",Im=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=km,this._completeRedirectFn=oV,this._overrideRedirectResult=rV}_openPopup(e,n,r,i){return E(this,null,function*(){var s;kr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield HC(e,n,r,om(),i);return RV(e,o,pT())})}_openRedirect(e,n,r,i){return E(this,null,function*(){yield this._originValidation(e);let s=yield HC(e,n,r,om(),i);return BL(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(kr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return E(this,null,function*(){let n=yield DV(e),r=new _m(e);return n.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sm,{type:sm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[sm];o!==void 0&&n(!!o),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cT()||nT()||Am()}},IT=Im;var qC="@firebase/auth",zC="1.7.9";var wm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function kV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FV(t){gn(new wt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uT(t)},d=new hm(r,i,s,u);return RL(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gn(new wt("auth-internal",e=>{let n=Rm(e.getProvider("auth").getImmediate());return(r=>new wm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),De(qC,zC,kV(t)),De(qC,zC,"esm2017")}var LV=5*60,VV=Vg("authIdTokenMaxAge")||LV,GC=null,UV=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>VV)return;let i=n?.token;GC!==i&&(GC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Fm(t=Mr()){let e=pi(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Nm(t,{popupRedirectResolver:IT,persistence:[vT,fT,km]}),r=Vg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=UV(s.toString());Om(n,o,()=>o(n.currentUser)),Pm(n,c=>o(c))}}let i=Fg("auth");return i&&xm(n,`http://${i}`),n}function jV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}TL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=vi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",jV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FV("Browser");var wT="auth",ka=class{constructor(e){return e}},wi=class{constructor(){return mi(wT)}};var Lm=new U("angularfire2.auth-instances");function OU(t,e){let n=Ls(wT,t,e);return n&&new ka(n)}function kU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ka(r)}}var FU={provide:wi,deps:[[new Fe,Lm]]},LU={provide:ka,useFactory:OU,deps:[[new Fe,Lm],Jt]};function ET(t,...e){return De("angularfire",qn.full,"auth"),Ft([LU,FU,{provide:Lm,useFactory:kU(t),multi:!0,deps:[me,Xe,xr,zn,[new Fe,Nr],...e]}])}var DT=At(Fm,!0);var bT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},CT={};var Vm,TT;(function(){var t;function e(D,m){function y(){}y.prototype=m.prototype,D.D=m.prototype,D.prototype=new y,D.prototype.constructor=D,D.C=function(w,b,T){for(var v=Array(arguments.length-2),bn=2;bn<arguments.length;bn++)v[bn-2]=arguments[bn];return m.prototype[b].apply(w,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,y){y||(y=0);var w=Array(16);if(typeof m=="string")for(var b=0;16>b;++b)w[b]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(b=0;16>b;++b)w[b]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=D.g[0],y=D.g[1],b=D.g[2];var T=D.g[3],v=m+(T^y&(b^T))+w[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=T+(b^m&(y^b))+w[1]+3905402710&4294967295,T=m+(v<<12&4294967295|v>>>20),v=b+(y^T&(m^y))+w[2]+606105819&4294967295,b=T+(v<<17&4294967295|v>>>15),v=y+(m^b&(T^m))+w[3]+3250441966&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(T^y&(b^T))+w[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(b^m&(y^b))+w[5]+1200080426&4294967295,T=m+(v<<12&4294967295|v>>>20),v=b+(y^T&(m^y))+w[6]+2821735955&4294967295,b=T+(v<<17&4294967295|v>>>15),v=y+(m^b&(T^m))+w[7]+4249261313&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(T^y&(b^T))+w[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(b^m&(y^b))+w[9]+2336552879&4294967295,T=m+(v<<12&4294967295|v>>>20),v=b+(y^T&(m^y))+w[10]+4294925233&4294967295,b=T+(v<<17&4294967295|v>>>15),v=y+(m^b&(T^m))+w[11]+2304563134&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(T^y&(b^T))+w[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(b^m&(y^b))+w[13]+4254626195&4294967295,T=m+(v<<12&4294967295|v>>>20),v=b+(y^T&(m^y))+w[14]+2792965006&4294967295,b=T+(v<<17&4294967295|v>>>15),v=y+(m^b&(T^m))+w[15]+1236535329&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(b^T&(y^b))+w[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^b&(m^y))+w[6]+3225465664&4294967295,T=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(T^m))+w[11]+643717713&4294967295,b=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(b^T))+w[0]+3921069994&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(b^T&(y^b))+w[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^b&(m^y))+w[10]+38016083&4294967295,T=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(T^m))+w[15]+3634488961&4294967295,b=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(b^T))+w[4]+3889429448&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(b^T&(y^b))+w[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^b&(m^y))+w[14]+3275163606&4294967295,T=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(T^m))+w[3]+4107603335&4294967295,b=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(b^T))+w[8]+1163531501&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(b^T&(y^b))+w[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^b&(m^y))+w[2]+4243563512&4294967295,T=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(T^m))+w[7]+1735328473&4294967295,b=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(b^T))+w[12]+2368359562&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(y^b^T)+w[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^b)+w[8]+2272392833&4294967295,T=m+(v<<11&4294967295|v>>>21),v=b+(T^m^y)+w[11]+1839030562&4294967295,b=T+(v<<16&4294967295|v>>>16),v=y+(b^T^m)+w[14]+4259657740&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(y^b^T)+w[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^b)+w[4]+1272893353&4294967295,T=m+(v<<11&4294967295|v>>>21),v=b+(T^m^y)+w[7]+4139469664&4294967295,b=T+(v<<16&4294967295|v>>>16),v=y+(b^T^m)+w[10]+3200236656&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(y^b^T)+w[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^b)+w[0]+3936430074&4294967295,T=m+(v<<11&4294967295|v>>>21),v=b+(T^m^y)+w[3]+3572445317&4294967295,b=T+(v<<16&4294967295|v>>>16),v=y+(b^T^m)+w[6]+76029189&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(y^b^T)+w[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^b)+w[12]+3873151461&4294967295,T=m+(v<<11&4294967295|v>>>21),v=b+(T^m^y)+w[15]+530742520&4294967295,b=T+(v<<16&4294967295|v>>>16),v=y+(b^T^m)+w[2]+3299628645&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(b^(y|~T))+w[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~b))+w[7]+1126891415&4294967295,T=m+(v<<10&4294967295|v>>>22),v=b+(m^(T|~y))+w[14]+2878612391&4294967295,b=T+(v<<15&4294967295|v>>>17),v=y+(T^(b|~m))+w[5]+4237533241&4294967295,y=b+(v<<21&4294967295|v>>>11),v=m+(b^(y|~T))+w[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~b))+w[3]+2399980690&4294967295,T=m+(v<<10&4294967295|v>>>22),v=b+(m^(T|~y))+w[10]+4293915773&4294967295,b=T+(v<<15&4294967295|v>>>17),v=y+(T^(b|~m))+w[1]+2240044497&4294967295,y=b+(v<<21&4294967295|v>>>11),v=m+(b^(y|~T))+w[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~b))+w[15]+4264355552&4294967295,T=m+(v<<10&4294967295|v>>>22),v=b+(m^(T|~y))+w[6]+2734768916&4294967295,b=T+(v<<15&4294967295|v>>>17),v=y+(T^(b|~m))+w[13]+1309151649&4294967295,y=b+(v<<21&4294967295|v>>>11),v=m+(b^(y|~T))+w[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~b))+w[11]+3174756917&4294967295,T=m+(v<<10&4294967295|v>>>22),v=b+(m^(T|~y))+w[2]+718787259&4294967295,b=T+(v<<15&4294967295|v>>>17),v=y+(T^(b|~m))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(b+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var y=m-this.blockSize,w=this.B,b=this.h,T=0;T<m;){if(b==0)for(;T<=y;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<m;)if(w[b++]=D.charCodeAt(T++),b==this.blockSize){i(this,w),b=0;break}}else for(;T<m;)if(w[b++]=D[T++],b==this.blockSize){i(this,w),b=0;break}}this.h=b,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var y=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=y&255,y/=256;for(this.u(D),D=Array(16),m=y=0;4>m;++m)for(var w=0;32>w;w+=8)D[y++]=this.g[m]>>>w&255;return D};function s(D,m){var y=c;return Object.prototype.hasOwnProperty.call(y,D)?y[D]:y[D]=m(D)}function o(D,m){this.h=m;for(var y=[],w=!0,b=D.length-1;0<=b;b--){var T=D[b]|0;w&&T==m||(y[b]=T,w=!1)}this.g=y}var c={};function u(D){return-128<=D&&128>D?s(D,function(m){return new o([m|0],0>m?-1:0)}):new o([D|0],0>D?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return R(d(-D));for(var m=[],y=1,w=0;D>=y;w++)m[w]=D/y|0,y*=4294967296;return new o(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return R(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(m,8)),w=g,b=0;b<D.length;b+=8){var T=Math.min(8,D.length-b),v=parseInt(D.substring(b,b+T),m);8>T?(T=d(Math.pow(m,T)),w=w.j(T).add(d(v))):(w=w.j(y),w=w.add(d(v)))}return w}var g=u(0),_=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-R(this).m();for(var D=0,m=1,y=0;y<this.g.length;y++){var w=this.i(y);D+=(0<=w?w:4294967296+w)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(N(this))return"-"+R(this).toString(D);for(var m=d(Math.pow(D,6)),y=this,w="";;){var b=G(y,m).g;y=F(y,b.j(m));var T=((0<y.g.length?y.g[0]:y.h)>>>0).toString(D);if(y=b,S(y))return T+w;for(;6>T.length;)T="0"+T;w=T+w}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=F(this,D),N(D)?-1:S(D)?0:1};function R(D){for(var m=D.g.length,y=[],w=0;w<m;w++)y[w]=~D.g[w];return new o(y,~D.h).add(_)}t.abs=function(){return N(this)?R(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],w=0,b=0;b<=m;b++){var T=w+(this.i(b)&65535)+(D.i(b)&65535),v=(T>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);w=v>>>16,T&=65535,v&=65535,y[b]=v<<16|T}return new o(y,y[y.length-1]&-2147483648?-1:0)};function F(D,m){return D.add(R(m))}t.j=function(D){if(S(this)||S(D))return g;if(N(this))return N(D)?R(this).j(R(D)):R(R(this).j(D));if(N(D))return R(this.j(R(D)));if(0>this.l(I)&&0>D.l(I))return d(this.m()*D.m());for(var m=this.g.length+D.g.length,y=[],w=0;w<2*m;w++)y[w]=0;for(w=0;w<this.g.length;w++)for(var b=0;b<D.g.length;b++){var T=this.i(w)>>>16,v=this.i(w)&65535,bn=D.i(b)>>>16,co=D.i(b)&65535;y[2*w+2*b]+=v*co,z(y,2*w+2*b),y[2*w+2*b+1]+=T*co,z(y,2*w+2*b+1),y[2*w+2*b+1]+=v*bn,z(y,2*w+2*b+1),y[2*w+2*b+2]+=T*bn,z(y,2*w+2*b+2)}for(w=0;w<m;w++)y[w]=y[2*w+1]<<16|y[2*w];for(w=m;w<2*m;w++)y[w]=0;return new o(y,0)};function z(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function $(D,m){this.g=D,this.h=m}function G(D,m){if(S(m))throw Error("division by zero");if(S(D))return new $(g,g);if(N(D))return m=G(R(D),m),new $(R(m.g),R(m.h));if(N(m))return m=G(D,R(m)),new $(R(m.g),m.h);if(30<D.g.length){if(N(D)||N(m))throw Error("slowDivide_ only works with positive integers.");for(var y=_,w=m;0>=w.l(D);)y=Ce(y),w=Ce(w);var b=se(y,1),T=se(w,1);for(w=se(w,2),y=se(y,2);!S(w);){var v=T.add(w);0>=v.l(D)&&(b=b.add(y),T=v),w=se(w,1),y=se(y,1)}return m=F(D,b.j(m)),new $(b,m)}for(b=g;0<=D.l(m);){for(y=Math.max(1,Math.floor(D.m()/m.m())),w=Math.ceil(Math.log(y)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),T=d(y),v=T.j(m);N(v)||0<v.l(D);)y-=w,T=d(y),v=T.j(m);S(T)&&(T=_),b=b.add(T),D=F(D,v)}return new $(b,D)}t.A=function(D){return G(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],w=0;w<m;w++)y[w]=this.i(w)&D.i(w);return new o(y,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],w=0;w<m;w++)y[w]=this.i(w)|D.i(w);return new o(y,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],w=0;w<m;w++)y[w]=this.i(w)^D.i(w);return new o(y,this.h^D.h)};function Ce(D){for(var m=D.g.length+1,y=[],w=0;w<m;w++)y[w]=D.i(w)<<1|D.i(w-1)>>>31;return new o(y,D.h)}function se(D,m){var y=m>>5;m%=32;for(var w=D.g.length-y,b=[],T=0;T<w;T++)b[T]=0<m?D.i(T+y)>>>m|D.i(T+y+1)<<32-m:D.i(T+y);return new o(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,TT=CT.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Vm=CT.Integer=o}).apply(typeof bT<"u"?bT:typeof self<"u"?self:typeof window<"u"?window:{});var Xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Kn={};var Um,VU,js,jm,Fa,ed,Bm,$m,Hm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,l,h){return a==Array.prototype||a==Object.prototype||(a[l]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xl=="object"&&Xl];for(var l=0;l<a.length;++l){var h=a[l];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,l){if(l)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var C=a[p];if(!(C in h))break e;h=h[C]}a=a[a.length-1],p=h[a],l=l(p),l!=p&&l!=null&&e(h,a,{configurable:!0,writable:!0,value:l})}}function s(a,l){a instanceof String&&(a+="");var h=0,p=!1,C={next:function(){if(!p&&h<a.length){var A=h++;return{value:l(A,a[A]),done:!1}}return p=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return s(this,function(l,h){return h})}});var o=o||{},c=this||self;function u(a){var l=typeof a;return l=l!="object"?l:a?Array.isArray(a)?"array":l:"null",l=="array"||l=="object"&&typeof a.length=="number"}function d(a){var l=typeof a;return l=="object"&&a!=null||l=="function"}function f(a,l,h){return a.call.apply(a.bind,arguments)}function g(a,l,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,p),a.apply(l,C)}}return function(){return a.apply(l,arguments)}}function _(a,l,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,_.apply(null,arguments)}function I(a,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function S(a,l){function h(){}h.prototype=l.prototype,a.aa=l.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,C,A){for(var P=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)P[ve-2]=arguments[ve];return l.prototype[C].apply(p,P)}}function N(a){let l=a.length;if(0<l){let h=Array(l);for(let p=0;p<l;p++)h[p]=a[p];return h}return[]}function R(a,l){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let C=a.length||0,A=p.length||0;a.length=C+A;for(let P=0;P<A;P++)a[C+P]=p[P]}else a.push(p)}}class F{constructor(l,h){this.i=l,this.j=h,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function z(a){return/^[\s\xa0]*$/.test(a)}function $(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function G(a){return G[" "](a),a}G[" "]=function(){};var Ce=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function se(a,l,h){for(let p in a)l.call(h,a[p],p,a)}function D(a,l){for(let h in a)l.call(void 0,a[h],h,a)}function m(a){let l={};for(let h in a)l[h]=a[h];return l}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,l){let h,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(h in p)a[h]=p[h];for(let A=0;A<y.length;A++)h=y[A],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function b(a){var l=1;a=a.split(":");let h=[];for(;0<l&&a.length;)h.push(a.shift()),l--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function v(){var a=jd;let l=null;return a.g&&(l=a.g,a.g=a.g.next,a.g||(a.h=null),l.next=null),l}class bn{constructor(){this.h=this.g=null}add(l,h){let p=co.get();p.set(l,h),this.h?this.h.next=p:this.g=p,this.h=p}}var co=new F(()=>new AS,a=>a.reset());class AS{constructor(){this.next=this.g=this.h=null}set(l,h){this.h=l,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let uo,lo=!1,jd=new bn,xv=()=>{let a=c.Promise.resolve(void 0);uo=()=>{a.then(RS)}};var RS=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){T(h)}var l=co;l.j(a),100>l.h&&(l.h++,a.next=l.g,l.g=a)}lo=!1};function Xn(){this.s=this.s,this.C=this.C}Xn.prototype.s=!1,Xn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(a,l){this.type=a,this.g=this.target=l,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var MS=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,l=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,l),c.removeEventListener("test",h,l)}catch{}return a}();function ho(a,l){if(it.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=l,l=a.relatedTarget){if(Ce){e:{try{G(l.nodeName);var C=!0;break e}catch{}C=!1}C||(l=null)}}else h=="mouseover"?l=a.fromElement:h=="mouseout"&&(l=a.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:NS[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ho.aa.h.call(this)}}S(ho,it);var NS={2:"touch",3:"pen",4:"mouse"};ho.prototype.h=function(){ho.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var fo="closure_listenable_"+(1e6*Math.random()|0),xS=0;function PS(a,l,h,p,C){this.listener=a,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.ha=C,this.key=++xS,this.da=this.fa=!1}function ec(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function tc(a){this.src=a,this.g={},this.h=0}tc.prototype.add=function(a,l,h,p,C){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var P=$d(a,l,p,C);return-1<P?(l=a[P],h||(l.fa=!1)):(l=new PS(l,this.src,A,!!p,C),l.fa=h,a.push(l)),l};function Bd(a,l){var h=l.type;if(h in a.g){var p=a.g[h],C=Array.prototype.indexOf.call(p,l,void 0),A;(A=0<=C)&&Array.prototype.splice.call(p,C,1),A&&(ec(l),a.g[h].length==0&&(delete a.g[h],a.h--))}}function $d(a,l,h,p){for(var C=0;C<a.length;++C){var A=a[C];if(!A.da&&A.listener==l&&A.capture==!!h&&A.ha==p)return C}return-1}var Hd="closure_lm_"+(1e6*Math.random()|0),qd={};function Pv(a,l,h,p,C){if(p&&p.once)return kv(a,l,h,p,C);if(Array.isArray(l)){for(var A=0;A<l.length;A++)Pv(a,l[A],h,p,C);return null}return h=Kd(h),a&&a[fo]?a.K(l,h,d(p)?!!p.capture:!!p,C):Ov(a,l,h,!1,p,C)}function Ov(a,l,h,p,C,A){if(!l)throw Error("Invalid event type");var P=d(C)?!!C.capture:!!C,ve=Gd(a);if(ve||(a[Hd]=ve=new tc(a)),h=ve.add(l,h,p,P,A),h.proxy)return h;if(p=OS(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)MS||(C=P),C===void 0&&(C=!1),a.addEventListener(l.toString(),p,C);else if(a.attachEvent)a.attachEvent(Lv(l.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function OS(){function a(h){return l.call(a.src,a.listener,h)}let l=kS;return a}function kv(a,l,h,p,C){if(Array.isArray(l)){for(var A=0;A<l.length;A++)kv(a,l[A],h,p,C);return null}return h=Kd(h),a&&a[fo]?a.L(l,h,d(p)?!!p.capture:!!p,C):Ov(a,l,h,!0,p,C)}function Fv(a,l,h,p,C){if(Array.isArray(l))for(var A=0;A<l.length;A++)Fv(a,l[A],h,p,C);else p=d(p)?!!p.capture:!!p,h=Kd(h),a&&a[fo]?(a=a.i,l=String(l).toString(),l in a.g&&(A=a.g[l],h=$d(A,h,p,C),-1<h&&(ec(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[l],a.h--)))):a&&(a=Gd(a))&&(l=a.g[l.toString()],a=-1,l&&(a=$d(l,h,p,C)),(h=-1<a?l[a]:null)&&zd(h))}function zd(a){if(typeof a!="number"&&a&&!a.da){var l=a.src;if(l&&l[fo])Bd(l.i,a);else{var h=a.type,p=a.proxy;l.removeEventListener?l.removeEventListener(h,p,a.capture):l.detachEvent?l.detachEvent(Lv(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=Gd(l))?(Bd(h,a),h.h==0&&(h.src=null,l[Hd]=null)):ec(a)}}}function Lv(a){return a in qd?qd[a]:qd[a]="on"+a}function kS(a,l){if(a.da)a=!0;else{l=new ho(l,this);var h=a.listener,p=a.ha||a.src;a.fa&&zd(a),a=h.call(p,l)}return a}function Gd(a){return a=a[Hd],a instanceof tc?a:null}var Wd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kd(a){return typeof a=="function"?a:(a[Wd]||(a[Wd]=function(l){return a.handleEvent(l)}),a[Wd])}function st(){Xn.call(this),this.i=new tc(this),this.M=this,this.F=null}S(st,Xn),st.prototype[fo]=!0,st.prototype.removeEventListener=function(a,l,h,p){Fv(this,a,l,h,p)};function ht(a,l){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=l.type||l,typeof l=="string")l=new it(l,a);else if(l instanceof it)l.target=l.target||a;else{var C=l;l=new it(p,a),w(l,C)}if(C=!0,h)for(var A=h.length-1;0<=A;A--){var P=l.g=h[A];C=nc(P,p,!0,l)&&C}if(P=l.g=a,C=nc(P,p,!0,l)&&C,C=nc(P,p,!1,l)&&C,h)for(A=0;A<h.length;A++)P=l.g=h[A],C=nc(P,p,!1,l)&&C}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var a=this.i,l;for(l in a.g){for(var h=a.g[l],p=0;p<h.length;p++)ec(h[p]);delete a.g[l],a.h--}}this.F=null},st.prototype.K=function(a,l,h,p){return this.i.add(String(a),l,!1,h,p)},st.prototype.L=function(a,l,h,p){return this.i.add(String(a),l,!0,h,p)};function nc(a,l,h,p){if(l=a.i.g[String(l)],!l)return!0;l=l.concat();for(var C=!0,A=0;A<l.length;++A){var P=l[A];if(P&&!P.da&&P.capture==h){var ve=P.listener,Ye=P.ha||P.src;P.fa&&Bd(a.i,P),C=ve.call(Ye,p)!==!1&&C}}return C&&!p.defaultPrevented}function Vv(a,l,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:c.setTimeout(a,l||0)}function Uv(a){a.g=Vv(()=>{a.g=null,a.i&&(a.i=!1,Uv(a))},a.l);let l=a.h;a.h=null,a.m.apply(null,l)}class FS extends Xn{constructor(l,h){super(),this.m=l,this.l=h,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:Uv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function po(a){Xn.call(this),this.h=a,this.g={}}S(po,Xn);var jv=[];function Bv(a){se(a.g,function(l,h){this.g.hasOwnProperty(h)&&zd(l)},a),a.g={}}po.prototype.N=function(){po.aa.N.call(this),Bv(this)},po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qd=c.JSON.stringify,LS=c.JSON.parse,VS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Yd(){}Yd.prototype.h=null;function $v(a){return a.h||(a.h=a.i())}function Hv(){}var go={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zd(){it.call(this,"d")}S(Zd,it);function Jd(){it.call(this,"c")}S(Jd,it);var Br={},qv=null;function rc(){return qv=qv||new st}Br.La="serverreachability";function zv(a){it.call(this,Br.La,a)}S(zv,it);function mo(a){let l=rc();ht(l,new zv(l))}Br.STAT_EVENT="statevent";function Gv(a,l){it.call(this,Br.STAT_EVENT,a),this.stat=l}S(Gv,it);function ft(a){let l=rc();ht(l,new Gv(l,a))}Br.Ma="timingevent";function Wv(a,l){it.call(this,Br.Ma,a),this.size=l}S(Wv,it);function yo(a,l){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},l)}function vo(){this.g=!0}vo.prototype.xa=function(){this.g=!1};function US(a,l,h,p,C,A){a.info(function(){if(a.g)if(A)for(var P="",ve=A.split("&"),Ye=0;Ye<ve.length;Ye++){var ge=ve[Ye].split("=");if(1<ge.length){var ot=ge[0];ge=ge[1];var at=ot.split("_");P=2<=at.length&&at[1]=="type"?P+(ot+"="+ge+"&"):P+(ot+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+l+`
`+h+`
`+P})}function jS(a,l,h,p,C,A,P){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+l+`
`+h+`
`+A+" "+P})}function Pi(a,l,h,p){a.info(function(){return"XMLHTTP TEXT ("+l+"): "+$S(a,h)+(p?" "+p:"")})}function BS(a,l){a.info(function(){return"TIMEOUT: "+l})}vo.prototype.info=function(){};function $S(a,l){if(!a.g)return l;if(!l)return null;try{var h=JSON.parse(l);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var C=p[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return Qd(h)}catch{return l}}var ic={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xd;function sc(){}S(sc,Yd),sc.prototype.g=function(){return new XMLHttpRequest},sc.prototype.i=function(){return{}},Xd=new sc;function er(a,l,h,p){this.j=a,this.i=l,this.l=h,this.R=p||1,this.U=new po(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qv}function Qv(){this.i=null,this.g="",this.h=!1}var Yv={},eh={};function th(a,l,h){a.L=1,a.v=uc(Cn(l)),a.m=h,a.P=!0,Zv(a,null)}function Zv(a,l){a.F=Date.now(),oc(a),a.A=Cn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),d_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new Qv,a.g=R_(a.j,h?l:null,!a.m),0<a.O&&(a.M=new FS(_(a.Y,a,a.g),a.O)),l=a.U,h=a.g,p=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(jv[0]=C.toString()),C=jv);for(var A=0;A<C.length;A++){var P=Pv(h,C[A],p||l.handleEvent,!1,l.h||l);if(!P)break;l.g[P.key]=P}l=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,l)):(a.u="GET",a.g.ea(a.A,a.u,null,l)),mo(),US(a.i,a.u,a.A,a.l,a.R,a.m)}er.prototype.ca=function(a){a=a.target;let l=this.M;l&&Tn(a)==3?l.j():this.Y(a)},er.prototype.Y=function(a){try{if(a==this.g)e:{let at=Tn(this.g);var l=this.g.Ba();let Fi=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||v_(this.g)))){this.J||at!=4||l==7||(l==8||0>=Fi?mo(3):mo(2)),nh(this);var h=this.g.Z();this.X=h;t:if(Jv(this)){var p=v_(this.g);a="";var C=p.length,A=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$r(this),_o(this);var P="";break t}this.h.i=new c.TextDecoder}for(l=0;l<C;l++)this.h.h=!0,a+=this.h.i.decode(p[l],{stream:!(A&&l==C-1)});p.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,jS(this.i,this.u,this.A,this.l,this.R,at,h),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,Ye=this.g;if((ve=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(ve)){var ge=ve;break t}}ge=null}if(h=ge)Pi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rh(this,h);else{this.o=!1,this.s=3,ft(12),$r(this),_o(this);break e}}if(this.P){h=!0;let Bt;for(;!this.J&&this.C<P.length;)if(Bt=HS(this,P),Bt==eh){at==4&&(this.s=4,ft(14),h=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Yv){this.s=4,ft(15),Pi(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else Pi(this.i,this.l,Bt,null),rh(this,Bt);if(Jv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||P.length!=0||this.h.h||(this.s=1,ft(16),h=!1),this.o=this.o&&h,!h)Pi(this.i,this.l,P,"[Invalid Chunked Response]"),$r(this),_o(this);else if(0<P.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),uh(ot),ot.M=!0,ft(11))}}else Pi(this.i,this.l,P,null),rh(this,P);at==4&&$r(this),this.o&&!this.J&&(at==4?C_(this.j,this):(this.o=!1,oc(this)))}else oA(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),$r(this),_o(this)}}}catch{}finally{}};function Jv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function HS(a,l){var h=a.C,p=l.indexOf(`
`,h);return p==-1?eh:(h=Number(l.substring(h,p)),isNaN(h)?Yv:(p+=1,p+h>l.length?eh:(l=l.slice(p,p+h),a.C=p+h,l)))}er.prototype.cancel=function(){this.J=!0,$r(this)};function oc(a){a.S=Date.now()+a.I,Xv(a,a.I)}function Xv(a,l){if(a.B!=null)throw Error("WatchDog timer not null");a.B=yo(_(a.ba,a),l)}function nh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}er.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(BS(this.i,this.A),this.L!=2&&(mo(),ft(17)),$r(this),this.s=2,_o(this)):Xv(this,this.S-a)};function _o(a){a.j.G==0||a.J||C_(a.j,a)}function $r(a){nh(a);var l=a.M;l&&typeof l.ma=="function"&&l.ma(),a.M=null,Bv(a.U),a.g&&(l=a.g,a.g=null,l.abort(),l.ma())}function rh(a,l){try{var h=a.j;if(h.G!=0&&(h.g==a||ih(h.h,a))){if(!a.K&&ih(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(l)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)pc(h),hc(h);else break e;ch(h),ft(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=yo(_(h.Za,h),6e3));if(1>=n_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else qr(h,11)}else if((a.K||h.g==a)&&pc(h),!z(l))for(C=h.Da.g.parse(l),l=0;l<C.length;l++){let ge=C[l];if(h.T=ge[0],ge=ge[1],h.G==2)if(ge[0]=="c"){h.K=ge[1],h.ia=ge[2];let ot=ge[3];ot!=null&&(h.la=ot,h.j.info("VER="+h.la));let at=ge[4];at!=null&&(h.Aa=at,h.j.info("SVER="+h.Aa));let Fi=ge[5];Fi!=null&&typeof Fi=="number"&&0<Fi&&(p=1.5*Fi,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let Bt=a.g;if(Bt){let mc=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mc){var A=p.h;A.g||mc.indexOf("spdy")==-1&&mc.indexOf("quic")==-1&&mc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(sh(A,A.h),A.h=null))}if(p.D){let lh=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;lh&&(p.ya=lh,Ee(p.I,p.D,lh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var P=a;if(p.qa=A_(p,p.J?p.ia:null,p.W),P.K){r_(p.h,P);var ve=P,Ye=p.L;Ye&&(ve.I=Ye),ve.B&&(nh(ve),oc(ve)),p.g=P}else D_(p);0<h.i.length&&fc(h)}else ge[0]!="stop"&&ge[0]!="close"||qr(h,7);else h.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?qr(h,7):ah(h):ge[0]!="noop"&&h.l&&h.l.ta(ge),h.v=0)}}mo(4)}catch{}}var qS=class{constructor(a,l){this.g=a,this.map=l}};function e_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function t_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function n_(a){return a.h?1:a.g?a.g.size:0}function ih(a,l){return a.h?a.h==l:a.g?a.g.has(l):!1}function sh(a,l){a.g?a.g.add(l):a.h=l}function r_(a,l){a.h&&a.h==l?a.h=null:a.g&&a.g.has(l)&&a.g.delete(l)}e_.prototype.cancel=function(){if(this.i=i_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function i_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let l=a.i;for(let h of a.g.values())l=l.concat(h.D);return l}return N(a.i)}function zS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var l=[],h=a.length,p=0;p<h;p++)l.push(a[p]);return l}l=[],h=0;for(p in a)l[h++]=a[p];return l}function GS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var l=[];a=a.length;for(var h=0;h<a;h++)l.push(h);return l}l=[],h=0;for(let p in a)l[h++]=p;return l}}}function s_(a,l){if(a.forEach&&typeof a.forEach=="function")a.forEach(l,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,l,void 0);else for(var h=GS(a),p=zS(a),C=p.length,A=0;A<C;A++)l.call(void 0,p[A],h&&h[A],a)}var o_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WS(a,l){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),C=null;if(0<=p){var A=a[h].substring(0,p);C=a[h].substring(p+1)}else A=a[h];l(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Hr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Hr){this.h=a.h,ac(this,a.j),this.o=a.o,this.g=a.g,cc(this,a.s),this.l=a.l;var l=a.i,h=new Eo;h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),a_(this,h),this.m=a.m}else a&&(l=String(a).match(o_))?(this.h=!1,ac(this,l[1]||"",!0),this.o=Io(l[2]||""),this.g=Io(l[3]||"",!0),cc(this,l[4]),this.l=Io(l[5]||"",!0),a_(this,l[6]||"",!0),this.m=Io(l[7]||"")):(this.h=!1,this.i=new Eo(null,this.h))}Hr.prototype.toString=function(){var a=[],l=this.j;l&&a.push(wo(l,c_,!0),":");var h=this.g;return(h||l=="file")&&(a.push("//"),(l=this.o)&&a.push(wo(l,c_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(wo(h,h.charAt(0)=="/"?YS:QS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",wo(h,JS)),a.join("")};function Cn(a){return new Hr(a)}function ac(a,l,h){a.j=h?Io(l,!0):l,a.j&&(a.j=a.j.replace(/:$/,""))}function cc(a,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);a.s=l}else a.s=null}function a_(a,l,h){l instanceof Eo?(a.i=l,XS(a.i,a.h)):(h||(l=wo(l,ZS)),a.i=new Eo(l,a.h))}function Ee(a,l,h){a.i.set(l,h)}function uc(a){return Ee(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Io(a,l){return a?l?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function wo(a,l,h){return typeof a=="string"?(a=encodeURI(a).replace(l,KS),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function KS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var c_=/[#\/\?@]/g,QS=/[#\?:]/g,YS=/[#\?]/g,ZS=/[#\?@]/g,JS=/#/g;function Eo(a,l){this.h=this.g=null,this.i=a||null,this.j=!!l}function tr(a){a.g||(a.g=new Map,a.h=0,a.i&&WS(a.i,function(l,h){a.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}t=Eo.prototype,t.add=function(a,l){tr(this),this.i=null,a=Oi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(l),this.h+=1,this};function u_(a,l){tr(a),l=Oi(a,l),a.g.has(l)&&(a.i=null,a.h-=a.g.get(l).length,a.g.delete(l))}function l_(a,l){return tr(a),l=Oi(a,l),a.g.has(l)}t.forEach=function(a,l){tr(this),this.g.forEach(function(h,p){h.forEach(function(C){a.call(l,C,p,this)},this)},this)},t.na=function(){tr(this);let a=Array.from(this.g.values()),l=Array.from(this.g.keys()),h=[];for(let p=0;p<l.length;p++){let C=a[p];for(let A=0;A<C.length;A++)h.push(l[p])}return h},t.V=function(a){tr(this);let l=[];if(typeof a=="string")l_(this,a)&&(l=l.concat(this.g.get(Oi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)l=l.concat(a[h])}return l},t.set=function(a,l){return tr(this),this.i=null,a=Oi(this,a),l_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[l]),this.h+=1,this},t.get=function(a,l){return a?(a=this.V(a),0<a.length?String(a[0]):l):l};function d_(a,l,h){u_(a,l),0<h.length&&(a.i=null,a.g.set(Oi(a,l),N(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],l=Array.from(this.g.keys());for(var h=0;h<l.length;h++){var p=l[h];let A=encodeURIComponent(String(p)),P=this.V(p);for(p=0;p<P.length;p++){var C=A;P[p]!==""&&(C+="="+encodeURIComponent(String(P[p]))),a.push(C)}}return this.i=a.join("&")};function Oi(a,l){return l=String(l),a.j&&(l=l.toLowerCase()),l}function XS(a,l){l&&!a.j&&(tr(a),a.i=null,a.g.forEach(function(h,p){var C=p.toLowerCase();p!=C&&(u_(this,p),d_(this,C,h))},a)),a.j=l}function eA(a,l){let h=new vo;if(c.Image){let p=new Image;p.onload=I(nr,h,"TestLoadImage: loaded",!0,l,p),p.onerror=I(nr,h,"TestLoadImage: error",!1,l,p),p.onabort=I(nr,h,"TestLoadImage: abort",!1,l,p),p.ontimeout=I(nr,h,"TestLoadImage: timeout",!1,l,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else l(!1)}function tA(a,l){let h=new vo,p=new AbortController,C=setTimeout(()=>{p.abort(),nr(h,"TestPingServer: timeout",!1,l)},1e4);fetch(a,{signal:p.signal}).then(A=>{clearTimeout(C),A.ok?nr(h,"TestPingServer: ok",!0,l):nr(h,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(C),nr(h,"TestPingServer: error",!1,l)})}function nr(a,l,h,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(h)}catch{}}function nA(){this.g=new VS}function rA(a,l,h){let p=h||"";try{s_(a,function(C,A){let P=C;d(C)&&(P=Qd(C)),l.push(p+A+"="+encodeURIComponent(P))})}catch(C){throw l.push(p+"type="+encodeURIComponent("_badmap")),C}}function Do(a){this.l=a.Ub||null,this.j=a.eb||!1}S(Do,Yd),Do.prototype.g=function(){return new lc(this.l,this.j)},Do.prototype.i=function(a){return function(){return a}}({});function lc(a,l){st.call(this),this.D=a,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(lc,st),t=lc.prototype,t.open=function(a,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=l,this.readyState=1,Co(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(l.body=a),(this.D||c).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Co(this)),this.g&&(this.readyState=3,Co(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;h_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function h_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var l=a.value?a.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!a.done}))&&(this.response=this.responseText+=l)}a.done?bo(this):Co(this),this.readyState==3&&h_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,bo(this))},t.Qa=function(a){this.g&&(this.response=a,bo(this))},t.ga=function(){this.g&&bo(this)};function bo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Co(a)}t.setRequestHeader=function(a,l){this.u.append(a,l)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],l=this.h.entries();for(var h=l.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=l.next();return a.join(`\r
`)};function Co(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function f_(a){let l="";return se(a,function(h,p){l+=p,l+=":",l+=h,l+=`\r
`}),l}function oh(a,l,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=f_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ee(a,l,h))}function Te(a){st.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Te,st);var iA=/^https?$/i,sA=["POST","PUT"];t=Te.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,l,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);l=l?l.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xd.g(),this.v=this.o?$v(this.o):$v(Xd),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(l,String(a),!0),this.B=!1}catch(A){p_(this,A);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)h.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let A of p.keys())h.set(A,p.get(A));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(sA,l,void 0))||p||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of h)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{y_(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){p_(this,A)}};function p_(a,l){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=l,a.m=5,g_(a),dc(a)}function g_(a){a.A||(a.A=!0,ht(a,"complete"),ht(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ht(this,"complete"),ht(this,"abort"),dc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dc(this,!0)),Te.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?m_(this):this.bb())},t.bb=function(){m_(this)};function m_(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Tn(a)!=4||a.Z()!=2)){if(a.u&&Tn(a)==4)Vv(a.Ea,0,a);else if(ht(a,"readystatechange"),Tn(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var h;if(!(h=l)){var p;if(p=P===0){var C=String(a.D).match(o_)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),p=!iA.test(C?C.toLowerCase():"")}h=p}if(h)ht(a,"complete"),ht(a,"success");else{a.m=6;try{var A=2<Tn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",g_(a)}}finally{dc(a)}}}}function dc(a,l){if(a.g){y_(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,l||ht(a,"ready");try{h.onreadystatechange=p}catch{}}}function y_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Tn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var l=this.g.responseText;return a&&l.indexOf(a)==0&&(l=l.substring(a.length)),LS(l)}};function v_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function oA(a){let l={};a=(a.g&&2<=Tn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(z(a[p]))continue;var h=b(a[p]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=l[C]||[];l[C]=A,A.push(h)}D(l,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function To(a,l,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||l}function __(a){this.Aa=0,this.i=[],this.j=new vo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=To("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=To("baseRetryDelayMs",5e3,a),this.cb=To("retryDelaySeedMs",1e4,a),this.Wa=To("forwardChannelMaxRetries",2,a),this.wa=To("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new e_(a&&a.concurrentRequestLimit),this.Da=new nA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=__.prototype,t.la=8,t.G=1,t.connect=function(a,l,h,p){ft(0),this.W=a,this.H=l||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=A_(this,null,this.W),fc(this)};function ah(a){if(I_(a),a.G==3){var l=a.U++,h=Cn(a.I);if(Ee(h,"SID",a.K),Ee(h,"RID",l),Ee(h,"TYPE","terminate"),So(a,h),l=new er(a,a.j,l),l.L=2,l.v=uc(Cn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(l.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=l.v,h=!0),h||(l.g=R_(l.j,null),l.g.ea(l.v)),l.F=Date.now(),oc(l)}S_(a)}function hc(a){a.g&&(uh(a),a.g.cancel(),a.g=null)}function I_(a){hc(a),a.u&&(c.clearTimeout(a.u),a.u=null),pc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function fc(a){if(!t_(a.h)&&!a.s){a.s=!0;var l=a.Ga;uo||xv(),lo||(uo(),lo=!0),jd.add(l,a),a.B=0}}function aA(a,l){return n_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=l.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=yo(_(a.Ga,a,l),T_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new er(this,this.j,a),A=this.o;if(this.S&&(A?(A=m(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var l=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(l+=p,4096<l){l=h;break e}if(l===4096||h===this.i.length-1){l=h+1;break e}}l=1e3}else l=1e3;l=E_(this,C,l),h=Cn(this.I),Ee(h,"RID",a),Ee(h,"CVER",22),this.D&&Ee(h,"X-HTTP-Session-Id",this.D),So(this,h),A&&(this.O?l="headers="+encodeURIComponent(String(f_(A)))+"&"+l:this.m&&oh(h,this.m,A)),sh(this.h,C),this.Ua&&Ee(h,"TYPE","init"),this.P?(Ee(h,"$req",l),Ee(h,"SID","null"),C.T=!0,th(C,h,null)):th(C,h,l),this.G=2}}else this.G==3&&(a?w_(this,a):this.i.length==0||t_(this.h)||w_(this))};function w_(a,l){var h;l?h=l.l:h=a.U++;let p=Cn(a.I);Ee(p,"SID",a.K),Ee(p,"RID",h),Ee(p,"AID",a.T),So(a,p),a.m&&a.o&&oh(p,a.m,a.o),h=new er(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),l&&(a.i=l.D.concat(a.i)),l=E_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),sh(a.h,h),th(h,p,l)}function So(a,l){a.H&&se(a.H,function(h,p){Ee(l,p,h)}),a.l&&s_({},function(h,p){Ee(l,p,h)})}function E_(a,l,h){h=Math.min(a.i.length,h);var p=a.l?_(a.l.Na,a.l,a):null;e:{var C=a.i;let A=-1;for(;;){let P=["count="+h];A==-1?0<h?(A=C[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let ve=!0;for(let Ye=0;Ye<h;Ye++){let ge=C[Ye].g,ot=C[Ye].map;if(ge-=A,0>ge)A=Math.max(0,C[Ye].g-100),ve=!1;else try{rA(ot,P,"req"+ge+"_")}catch{p&&p(ot)}}if(ve){p=P.join("&");break e}}}return a=a.i.splice(0,h),l.D=a,p}function D_(a){if(!a.g&&!a.u){a.Y=1;var l=a.Fa;uo||xv(),lo||(uo(),lo=!0),jd.add(l,a),a.v=0}}function ch(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=yo(_(a.Fa,a),T_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,b_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=yo(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),hc(this),b_(this))};function uh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function b_(a){a.g=new er(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var l=Cn(a.qa);Ee(l,"RID","rpc"),Ee(l,"SID",a.K),Ee(l,"AID",a.T),Ee(l,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ee(l,"TO",a.ja),Ee(l,"TYPE","xmlhttp"),So(a,l),a.m&&a.o&&oh(l,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=uc(Cn(l)),h.m=null,h.P=!0,Zv(h,a)}t.Za=function(){this.C!=null&&(this.C=null,hc(this),ch(this),ft(19))};function pc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function C_(a,l){var h=null;if(a.g==l){pc(a),uh(a),a.g=null;var p=2}else if(ih(a.h,l))h=l.D,r_(a.h,l),p=1;else return;if(a.G!=0){if(l.o)if(p==1){h=l.m?l.m.length:0,l=Date.now()-l.F;var C=a.B;p=rc(),ht(p,new Wv(p,h)),fc(a)}else D_(a);else if(C=l.s,C==3||C==0&&0<l.X||!(p==1&&aA(a,l)||p==2&&ch(a)))switch(h&&0<h.length&&(l=a.h,l.i=l.i.concat(h)),C){case 1:qr(a,5);break;case 4:qr(a,10);break;case 3:qr(a,6);break;default:qr(a,2)}}}function T_(a,l){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*l}function qr(a,l){if(a.j.info("Error code "+l),l==2){var h=_(a.fb,a),p=a.Xa;let C=!p;p=new Hr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ac(p,"https"),uc(p),C?eA(p.toString(),h):tA(p.toString(),h)}else ft(2);a.G=0,a.l&&a.l.sa(l),S_(a),I_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function S_(a){if(a.G=0,a.ka=[],a.l){let l=i_(a.h);(l.length!=0||a.i.length!=0)&&(R(a.ka,l),R(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function A_(a,l,h){var p=h instanceof Hr?Cn(h):new Hr(h);if(p.g!="")l&&(p.g=l+"."+p.g),cc(p,p.s);else{var C=c.location;p=C.protocol,l=l?l+"."+C.hostname:C.hostname,C=+C.port;var A=new Hr(null);p&&ac(A,p),l&&(A.g=l),C&&cc(A,C),h&&(A.l=h),p=A}return h=a.D,l=a.ya,h&&l&&Ee(p,h,l),Ee(p,"VER",a.la),So(a,p),p}function R_(a,l,h){if(l&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=a.Ca&&!a.pa?new Te(new Do({eb:h})):new Te(a.pa),l.Ha(a.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function M_(){}t=M_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gc(){}gc.prototype.g=function(a,l){return new Et(a,l)};function Et(a,l){st.call(this),this.g=new __(l),this.l=a,this.h=l&&l.messageUrlParams||null,a=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(a?a["X-WebChannel-Content-Type"]=l.messageContentType:a={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(a?a["X-WebChannel-Client-Profile"]=l.va:a={"X-WebChannel-Client-Profile":l.va}),this.g.S=a,(a=l&&l.Sb)&&!z(a)&&(this.g.m=a),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!z(l)&&(this.g.D=l,a=this.h,a!==null&&l in a&&(a=this.h,l in a&&delete a[l])),this.j=new ki(this)}S(Et,st),Et.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Et.prototype.close=function(){ah(this.g)},Et.prototype.o=function(a){var l=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Qd(a),a=h);l.i.push(new qS(l.Ya++,a)),l.G==3&&fc(l)},Et.prototype.N=function(){this.g.l=null,delete this.j,ah(this.g),delete this.g,Et.aa.N.call(this)};function N_(a){Zd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var l=a.__sm__;if(l){e:{for(let h in l){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,l=l!==null&&a in l?l[a]:void 0),this.data=l}else this.data=a}S(N_,Zd);function x_(){Jd.call(this),this.status=1}S(x_,Jd);function ki(a){this.g=a}S(ki,M_),ki.prototype.ua=function(){ht(this.g,"a")},ki.prototype.ta=function(a){ht(this.g,new N_(a))},ki.prototype.sa=function(a){ht(this.g,new x_)},ki.prototype.ra=function(){ht(this.g,"b")},gc.prototype.createWebChannel=gc.prototype.g,Et.prototype.send=Et.prototype.o,Et.prototype.open=Et.prototype.m,Et.prototype.close=Et.prototype.close,Hm=Kn.createWebChannelTransport=function(){return new gc},$m=Kn.getStatEventTarget=function(){return rc()},Bm=Kn.Event=Br,ed=Kn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ic.NO_ERROR=0,ic.TIMEOUT=8,ic.HTTP_ERROR=6,Fa=Kn.ErrorCode=ic,Kv.COMPLETE="complete",jm=Kn.EventType=Kv,Hv.EventType=go,go.OPEN="a",go.CLOSE="b",go.ERROR="c",go.MESSAGE="d",st.prototype.listen=st.prototype.K,js=Kn.WebChannel=Hv,VU=Kn.FetchXmlHttpFactory=Do,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,Um=Kn.XhrIo=Te}).apply(typeof Xl<"u"?Xl:typeof self<"u"?self:typeof window<"u"?window:{});var ST="@firebase/firestore";var Ke=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");var io="10.14.0";var Ci=new Ar("@firebase/firestore");function La(){return Ci.logLevel}function j(t,...e){if(Ci.logLevel<=ue.DEBUG){let n=e.map(uv);Ci.debug(`Firestore (${io}): ${t}`,...n)}}function Ti(t,...e){if(Ci.logLevel<=ue.ERROR){let n=e.map(uv);Ci.error(`Firestore (${io}): ${t}`,...n)}}function od(t,...e){if(Ci.logLevel<=ue.WARN){let n=e.map(uv);Ci.warn(`Firestore (${io}): ${t}`,...n)}}function uv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function le(t="Unexpected state"){let e=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: `+t;throw Ti(e),new Error(e)}function xe(t,e){t||le()}function we(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends vt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Qn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ad=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Wm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}},Km=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Qm=class{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Qn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>E(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new ad(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new Ke(e)}},Ym=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Zm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ym(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Jm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Xm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){xe(this.o===void 0);let r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string"),this.R=n.token,new Jm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function UU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var cd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=UU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Ie(t,e){return t<e?-1:t>e?1:0}function qs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var dt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new dt(0,0))}static max(){return new t(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ud=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Be=class t extends ud{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new q(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},jU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rt=class t extends ud{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return jU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new q(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new q(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new q(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ne=class t{constructor(e){this.path=e}static fromPath(e){return new t(Be.fromString(e))}static fromName(e){return new t(Be.fromString(e).popFirst(5))}static empty(){return new t(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Be(e.slice()))}};var ey=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};ey.UNKNOWN_ID=-1;function BU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(r===1e9?new dt(n+1,0):new dt(n,r));return new Si(i,ne.empty(),e)}function $U(t){return new Si(t.readTime,t.key,-1)}var Si=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Ne.min(),ne.empty(),-1)}static max(){return new t(Ne.max(),ne.empty(),-1)}};function HU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}var qU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ty=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function YT(t){return E(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==qU)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let d=u;n(e[d]).next(f=>{o[d]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function zU(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ad(t){return t.name==="IndexedDbTransactionError"}var GU=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function lv(t){return t==null}function Ha(t){return t===0&&1/t==-1/0}function WU(t){return typeof t=="number"&&Number.isInteger(t)&&!Ha(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var KU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],e8=[...KU,"documentOverlays"],QU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],YU=QU,ZU=[...YU,"indexConfiguration","indexState","indexEntries"];var t8=[...ZU,"globals"];function AT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wa(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Mt=class t{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $s(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $s(this.root,e,this.comparator,!1)}getReverseIterator(){return new $s(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $s(this.root,e,this.comparator,!0)}},$s=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();let e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}};wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,s){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var _t=class t{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ld(this.data.getIterator())}getIteratorFrom(e){return new ld(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ld=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var In=class t{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new t([])}unionWith(e){let n=new _t(Rt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var ny=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Zn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ny("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Zn.EMPTY_BYTE_STRING=new Zn("");var JU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(t){if(xe(!!t),typeof t=="string"){let e=0,n=JU.exec(t);if(xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zs(t){return typeof t=="string"?Zn.fromBase64String(t):Zn.fromUint8Array(t)}function dv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function JT(t){let e=t.mapValue.fields.__previous_value__;return dv(e)?JT(e):e}function dd(t){let e=Lr(t.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}var ry=class{constructor(e,n,r,i,s,o,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}},iy=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var td={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dv(t)?4:e0(t)?9007199254740991:XT(t)?10:11:le()}function En(t,e){if(t===e)return!0;let n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dd(t).isEqual(dd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Lr(i.timestampValue),c=Lr(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return zs(i.bytesValue).isEqual(zs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return je(i.geoPointValue.latitude)===je(s.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return je(i.integerValue)===je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=je(i.doubleValue),c=je(s.doubleValue);return o===c?Ha(o)===Ha(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return qs(t.arrayValue.values||[],e.arrayValue.values||[],En);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(AT(o)!==AT(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!En(o[u],c[u])))return!1;return!0}(t,e);default:return le()}}function qa(t,e){return(t.values||[]).find(n=>En(n,e))!==void 0}function Ws(t,e){if(t===e)return 0;let n=Gs(t),r=Gs(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=je(s.integerValue||s.doubleValue),u=je(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return RT(t.timestampValue,e.timestampValue);case 4:return RT(dd(t),dd(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(s,o){let c=zs(s),u=zs(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){let f=Ie(c[d],u[d]);if(f!==0)return f}return Ie(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=Ie(je(s.latitude),je(o.latitude));return c!==0?c:Ie(je(s.longitude),je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return MT(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,d,f;let g=s.fields||{},_=o.fields||{},I=(c=g.value)===null||c===void 0?void 0:c.arrayValue,S=(u=_.value)===null||u===void 0?void 0:u.arrayValue,N=Ie(((d=I?.values)===null||d===void 0?void 0:d.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:MT(I,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===td.mapValue&&o===td.mapValue)return 0;if(s===td.mapValue)return 1;if(o===td.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let _=Ie(u[g],f[g]);if(_!==0)return _;let I=Ws(c[u[g]],d[f[g]]);if(I!==0)return I}return Ie(u.length,f.length)}(t.mapValue,e.mapValue);default:throw le()}}function RT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);let n=Lr(t),r=Lr(e),i=Ie(n.seconds,r.seconds);return i!==0?i:Ie(n.nanos,r.nanos)}function MT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Ws(n[i],r[i]);if(s)return s}return Ie(n.length,r.length)}function Ks(t){return sy(t)}function sy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Lr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=sy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${sy(n.fields[o])}`;return i+"}"}(t.mapValue):le()}function oy(t){return!!t&&"integerValue"in t}function hv(t){return!!t&&"arrayValue"in t}function id(t){return!!t&&"mapValue"in t}function XT(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ua(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Wa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ua(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ua(t.arrayValue.values[n]);return e}return Object.assign({},t)}function e0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var _n=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!id(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ua(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Ua(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());id(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return En(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];id(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wa(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ua(this.value))}};function t0(t){let e=[];return Wa(t.fields,(n,r)=>{let i=new Rt([n]);if(id(r)){let s=t0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new In(e)}var Qs=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Ne.min(),Ne.min(),Ne.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Ne.min(),Ne.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ne.min(),Ne.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ys=class{constructor(e,n){this.position=e,this.inclusive=n}};function NT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Ws(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function xT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!En(t.position[n],e.position[n]))return!1;return!0}var Zs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function XU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var hd=class{},Qe=class t extends hd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new cy(e,n,r):n==="array-contains"?new dy(e,r):n==="in"?new hy(e,r):n==="not-in"?new fy(e,r):n==="array-contains-any"?new py(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uy(e,r):new ly(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ws(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(Ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Vr=class t extends hd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return n0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function n0(t){return t.op==="and"}function r0(t){return e2(t)&&n0(t)}function e2(t){for(let e of t.filters)if(e instanceof Vr)return!1;return!0}function ay(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+Ks(t.value);if(r0(t))return t.filters.map(e=>ay(e)).join(",");{let e=t.filters.map(n=>ay(n)).join(",");return`${t.op}(${e})`}}function i0(t,e){return t instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&En(r.value,i.value)}(t,e):t instanceof Vr?function(r,i){return i instanceof Vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&i0(o,i.filters[c]),!0):!1}(t,e):void le()}function s0(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${Ks(n.value)}`}(t):t instanceof Vr?function(n){return n.op.toString()+" {"+n.getFilters().map(s0).join(" ,")+"}"}(t):"Filter"}var cy=class extends Qe{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){let n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}},uy=class extends Qe{constructor(e,n){super(e,"in",n),this.keys=o0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},ly=class extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=o0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function o0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}var dy=class extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return hv(n)&&qa(n.arrayValue,this.value)}},hy=class extends Qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&qa(this.value.arrayValue,n)}},fy=class extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!qa(this.value.arrayValue,n)}},py=class extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!hv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qa(this.value.arrayValue,r))}};var gy=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function PT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new gy(t,e,n,r,i,s,o)}function fv(t){let e=we(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ay(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),lv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ks(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ks(r)).join(",")),e.ue=n}return e.ue}function pv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!i0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xT(t.startAt,e.startAt)&&xT(t.endAt,e.endAt)}var Js=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function t2(t,e,n,r,i,s,o,c){return new Js(t,e,n,r,i,s,o,c)}function n2(t){return new Js(t)}function OT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function r2(t){return t.collectionGroup!==null}function ja(t){let e=we(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new _t(Rt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Zs(s,r))}),n.has(Rt.keyField().canonicalString())||e.ce.push(new Zs(Rt.keyField(),r))}return e.ce}function Di(t){let e=we(t);return e.le||(e.le=i2(e,ja(t))),e.le}function i2(t,e){if(t.limitType==="F")return PT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Zs(i.field,s)});let n=t.endAt?new Ys(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ys(t.startAt.position,t.startAt.inclusive):null;return PT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function my(t,e,n){return new Js(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function a0(t,e){return pv(Di(t),Di(e))&&t.limitType===e.limitType}function c0(t){return`${fv(Di(t))}|lt:${t.limitType}`}function Va(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>s0(i)).join(", ")}]`),lv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ks(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ks(i)).join(",")),`Target(${r})`}(Di(t))}; limitType=${t.limitType})`}function gv(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of ja(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let d=NT(o,c,u);return o.inclusive?d<=0:d<0}(r.startAt,ja(r),i)||r.endAt&&!function(o,c,u){let d=NT(o,c,u);return o.inclusive?d>=0:d>0}(r.endAt,ja(r),i))}(t,e)}function s2(t){return(e,n)=>{let r=!1;for(let i of ja(t)){let s=o2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function o2(t,e,n){let r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),d=c.data.field(s);return u!==null&&d!==null?Ws(u,d):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}var Ur=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wa(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return ZT(this.inner)}size(){return this.innerSize}};var a2=new Mt(ne.comparator);function fd(){return a2}var u0=new Mt(ne.comparator);function nd(...t){let e=u0;for(let n of t)e=e.insert(n.key,n);return e}function l0(t){let e=u0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return Ba()}function d0(){return Ba()}function Ba(){return new Ur(t=>t.toString(),(t,e)=>t.isEqual(e))}var c2=new Mt(ne.comparator),u2=new _t(ne.comparator);function lt(...t){let e=u2;for(let n of t)e=e.add(n);return e}var l2=new _t(Ie);function d2(){return l2}function mv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ha(e)?"-0":e}}function h0(t){return{integerValue:""+t}}function h2(t,e){return WU(e)?h0(e):mv(t,e)}var Xs=class{constructor(){this._=void 0}};function f2(t,e,n){return t instanceof eo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&dv(s)&&(s=JT(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ai?p0(t,e):t instanceof Ri?g0(t,e):function(i,s){let o=f0(i,s),c=kT(o)+kT(i.Pe);return oy(o)&&oy(i.Pe)?h0(c):mv(i.serializer,c)}(t,e)}function p2(t,e,n){return t instanceof Ai?p0(t,e):t instanceof Ri?g0(t,e):n}function f0(t,e){return t instanceof to?function(r){return oy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var eo=class extends Xs{},Ai=class extends Xs{constructor(e){super(),this.elements=e}};function p0(t,e){let n=m0(e);for(let r of t.elements)n.some(i=>En(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ri=class extends Xs{constructor(e){super(),this.elements=e}};function g0(t,e){let n=m0(e);for(let r of t.elements)n=n.filter(i=>!En(i,r));return{arrayValue:{values:n}}}var to=class extends Xs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function kT(t){return je(t.integerValue||t.doubleValue)}function m0(t){return hv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function g2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ai&&i instanceof Ai||r instanceof Ri&&i instanceof Ri?qs(r.elements,i.elements,En):r instanceof to&&i instanceof to?En(r.Pe,i.Pe):r instanceof eo&&i instanceof eo}(t.transform,e.transform)}var yy=class{constructor(e,n){this.version=e,this.transformResults=n}},bi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var no=class{};function y0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pd(t.key,bi.none()):new Mi(t.key,t.data,bi.none());{let n=t.data,r=_n.empty(),i=new _t(Rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Jn(t.key,r,new In(i.toArray()),bi.none())}}function m2(t,e,n){t instanceof Mi?function(i,s,o){let c=i.value.clone(),u=LT(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Jn?function(i,s,o){if(!sd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=LT(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(v0(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function $a(t,e,n,r){return t instanceof Mi?function(s,o,c,u){if(!sd(s.precondition,o))return c;let d=s.value.clone(),f=VT(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jn?function(s,o,c,u){if(!sd(s.precondition,o))return c;let d=VT(s.fieldTransforms,u,o),f=o.data;return f.setAll(v0(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,c){return sd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function y2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=f0(r.transform,i||null);s!=null&&(n===null&&(n=_n.empty()),n.set(r.field,s))}return n||null}function FT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qs(r,i,(s,o)=>g2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Mi=class extends no{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Jn=class extends no{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function v0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function LT(t,e,n){let r=new Map;xe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,p2(o,c,n[i]))}return r}function VT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,f2(s,o,e))}return r}var pd=class extends no{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},vy=class extends no{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var _y=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&m2(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=$a(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=$a(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=d0();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=y0(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),lt())}isEqual(e){return this.batchId===e.batchId&&qs(this.mutations,e.mutations,(n,r)=>FT(n,r))&&qs(this.baseMutations,e.baseMutations,(n,r)=>FT(n,r))}},Iy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length);let i=function(){return c2}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var wy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ve,fe;function v2(t){switch(t){default:return le();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function _2(t){if(t===void 0)return Ti("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ve.OK:return M.OK;case Ve.CANCELLED:return M.CANCELLED;case Ve.UNKNOWN:return M.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return M.INTERNAL;case Ve.UNAVAILABLE:return M.UNAVAILABLE;case Ve.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ve.NOT_FOUND:return M.NOT_FOUND;case Ve.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ve.ABORTED:return M.ABORTED;case Ve.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ve.DATA_LOSS:return M.DATA_LOSS;default:return le()}}(fe=Ve||(Ve={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var r8=new Vm([4294967295,4294967295],0);var Ey=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Dy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function I2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function w2(t,e){return Dy(t,e.toTimestamp())}function Hs(t){return xe(!!t),Ne.fromTimestamp(function(n){let r=Lr(n);return new dt(r.seconds,r.nanos)}(t))}function _0(t,e){return by(t,e).canonicalString()}function by(t,e){let n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function E2(t){let e=Be.fromString(t);return xe(M2(e)),e}function Cy(t,e){return _0(t.databaseId,e.path)}function D2(t){let e=E2(t);return e.length===4?Be.emptyPath():C2(e)}function b2(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function C2(t){return xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function UT(t,e,n){return{name:Cy(t,e),fields:n.value.mapValue.fields}}function T2(t,e){let n;if(e instanceof Mi)n={update:UT(t,e.key,e.value)};else if(e instanceof pd)n={delete:Cy(t,e.key)};else if(e instanceof Jn)n={update:UT(t,e.key,e.data),updateMask:R2(e.fieldMask)};else{if(!(e instanceof vy))return le();n={verify:Cy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof eo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ai)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ri)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof to)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:w2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function S2(t,e){return t&&t.length>0?(xe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Hs(i.updateTime):Hs(s);return o.isEqual(Ne.min())&&(o=Hs(s)),new yy(o,i.transformResults||[])}(n,e))):[]}function A2(t){let e=D2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xe(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){let _=I0(g);return _ instanceof Vr&&r0(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(S){return new Zs(Bs(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,lv(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,I=g.values||[];return new Ys(I,_)}(n.startAt));let d=null;return n.endAt&&(d=function(g){let _=!g.before,I=g.values||[];return new Ys(I,_)}(n.endAt)),t2(e,i,o,s,c,"F",u,d)}function I0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Bs(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Bs(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Bs(n.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Bs(n.unaryFilter.field);return Qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(Bs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vr.create(n.compositeFilter.filters.map(r=>I0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function Bs(t){return Rt.fromServerFormat(t.fieldPath)}function R2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function M2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ty=class{constructor(e){this.ct=e}};function N2(t){let e=A2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?my(e,e.limit,"L"):e}var gd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(je(e.integerValue));else if("doubleValue"in e){let r=je(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Ha(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Lr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(zs(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?e0(e)?this.dt(n,Number.MAX_SAFE_INTEGER):XT(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):le()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(je(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ne.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};gd.vt=new gd;var Sy=class{constructor(){this.un=new Ay}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Si.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},Ay=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _t(Be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _t(Be.comparator)).toArray()}};var i8=new Uint8Array(0);var vn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(41943040,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);var za=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Ry=class{constructor(){this.changes=new Ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var My=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Ny=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$a(r.mutation,i,In.empty(),dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=lt()){let i=Ei();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=nd();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,lt()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=fd(),o=Ba(),c=function(){return Ba()}();return n.forEach((u,d)=>{let f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Jn)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),$a(f.mutation,d,f.mutation.getFieldMask(),dt.now())):o.set(d.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var g;return c.set(d,new My(f,(g=o.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Ba(),i=new Mt((o,c)=>o-c),s=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let f=r.get(u)||In.empty();f=c.applyToLocalView(d,f),r.set(u,f);let g=(i.get(c.batchId)||lt()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),d=u.key,f=u.value,g=d0();f.forEach(_=>{if(!s.has(_)){let I=y0(n.get(_),r.get(_));I!==null&&g.set(_,I),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):r2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Ei()),c=-1,u=s;return o.next(d=>x.forEach(d,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,lt())).next(f=>({batchId:c,changes:l0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=nd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=nd();return this.indexManager.getCollectionParents(e,s).next(c=>x.forEach(c,u=>{let d=function(g,_){return new Js(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(f=>{f.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{let f=d.getKey();o.get(f)===null&&(o=o.insert(f,Qs.newInvalidDocument(f)))});let c=nd();return o.forEach((u,d)=>{let f=s.get(u);f!==void 0&&$a(f.mutation,d,In.empty(),dt.now()),gv(n,d)&&(c=c.insert(u,d))}),c})}};var xy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hs(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:N2(i.bundledQuery),readTime:Hs(i.readTime)}}(n)),x.resolve()}};var Py=class{constructor(){this.overlays=new Mt(ne.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ei();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Ei(),s=n.length+1,o=new ne(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Mt((d,f)=>d-f),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Ei(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=Ei(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=i)););return x.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wy(n,r));let s=this.Ir.get(n);s===void 0&&(s=lt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Oy=class{constructor(){this.sessionToken=Zn.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var Ga=class{constructor(){this.Tr=new _t(Ue.Er),this.dr=new _t(Ue.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Ue(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ue(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ne(new Be([])),r=new Ue(n,e),i=new Ue(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ne(new Be([])),r=new Ue(n,e),i=new Ue(n,e+1),s=lt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ue(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ue=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||Ie(e.wr,n.wr)}static Ar(e,n){return Ie(e.wr,n.wr)||ne.comparator(e.key,n.key)}};var ky=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new _t(Ue.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new _y(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Ue(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ue(n,0),i=new Ue(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(Ie);return n.forEach(i=>{let s=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;ne.isDocumentKey(s)||(s=s.child(""));let o=new Ue(new ne(s),0),c=new _t(Ie);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.wr)),!0)},o),x.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new Ue(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Ue(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Fy=class{constructor(e){this.Mr=e,this.docs=function(){return new Mt(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Qs.newInvalidDocument(n))}getEntries(e,n){let r=fd();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qs.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fd(),o=n.path,c=new ne(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||HU($U(f),r)<=0||(i.has(f.key)||gv(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){le()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ly(this)}getSize(e){return x.resolve(this.size)}},Ly=class extends Ry{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Vy=class{constructor(e){this.persistence=e,this.Nr=new Ur(n=>fv(n),pv),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ga,this.targetCount=0,this.kr=za.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new za(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var Uy=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new GU(0),this.Kr=!1,this.Kr=!0,this.$r=new Oy,this.referenceDelegate=e(this),this.Ur=new Vy(this),this.indexManager=new Sy,this.remoteDocumentCache=function(i){return new Fy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Ty(n),this.Gr=new xy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Py,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new ky(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new jy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},jy=class extends ty{constructor(e){super(),this.currentSequenceNumber=e}},By=class t{constructor(e){this.persistence=e,this.Jr=new Ga,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw le()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=ne.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var $y=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=lt(),i=lt();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Hy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var qy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return fC()?8:zU(Ge())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Hy;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(La()<=ue.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(La()<=ue.DEBUG&&j("QueryEngine","Query:",Va(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(La()<=ue.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):x.resolve())}Yi(e,n){if(OT(n))return x.resolve(null);let r=Di(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=my(n,null,"F"),r=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=lt(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,c);return this.ns(n,d,o,u.readTime)?this.Yi(e,my(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return OT(n)||i.isEqual(Ne.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(La()<=ue.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Va(n)),this.rs(e,o,n,BU(i,-1)).next(c=>c))})}ts(e,n){let r=new _t(s2(e));return n.forEach((i,s)=>{gv(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return La()<=ue.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Va(n)),this.Ji.getDocumentsMatchingQuery(e,n,Si.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var zy=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Mt(Ie),this._s=new Ur(s=>fv(s),pv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ny(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function x2(t,e,n,r){return new zy(t,e,n,r)}function w0(t,e){return E(this,null,function*(){let n=we(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=lt();for(let d of i){o.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}for(let d of s){c.push(d.batchId);for(let f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:c}))})})})}function P2(t,e){let n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){let g=d.batch,_=g.keys(),I=x.resolve();return _.forEach(S=>{I=I.next(()=>f.getEntry(u,S)).next(N=>{let R=d.docVersions.get(S);xe(R!==null),N.version.compareTo(R)<0&&(g.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),f.addEntry(N)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=lt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function O2(t){let e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function k2(t,e){let n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var md=class{constructor(){this.activeTargetIds=d2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Gy=class{constructor(){this.so=new md,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new md,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Wy=class{_o(e){}shutdown(){}};var yd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var rd=null;function qm(){return rd===null?rd=function(){return 268435456+Math.round(2147483648*Math.random())}():rd++,"0x"+rd.toString(16)}var F2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Ky=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ut="WebChannelConnection",Qy=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=qm(),u=this.xo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(n,u,d,i).then(f=>(j("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw od("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+io}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=F2[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=qm();return new Promise((o,c)=>{let u=new Um;u.setWithCredentials(!0),u.listenOnce(jm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Fa.NO_ERROR:let f=u.getResponseJson();j(ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Fa.TIMEOUT:j(ut,`RPC '${e}' ${s} timed out`),c(new q(M.DEADLINE_EXCEEDED,"Request time out"));break;case Fa.HTTP_ERROR:let g=u.getStatus();if(j(ut,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let S=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(F)>=0?F:M.UNKNOWN}(I.status);c(new q(S,I.message))}else c(new q(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new q(M.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{j(ut,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);j(ut,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=qm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Hm(),c=$m(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");j(ut,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),_=!1,I=!1,S=new Ky({Io:R=>{I?j(ut,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(_||(j(ut,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),j(ut,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},To:()=>g.close()}),N=(R,F,z)=>{R.listen(F,$=>{try{z($)}catch(G){setTimeout(()=>{throw G},0)}})};return N(g,js.EventType.OPEN,()=>{I||(j(ut,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),N(g,js.EventType.CLOSE,()=>{I||(I=!0,j(ut,`RPC '${e}' stream ${i} transport closed`),S.So())}),N(g,js.EventType.ERROR,R=>{I||(I=!0,od(ut,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new q(M.UNAVAILABLE,"The operation could not be completed")))}),N(g,js.EventType.MESSAGE,R=>{var F;if(!I){let z=R.data[0];xe(!!z);let $=z,G=$.error||((F=$[0])===null||F===void 0?void 0:F.error);if(G){j(ut,`RPC '${e}' stream ${i} received error:`,G);let Ce=G.status,se=function(y){let w=Ve[y];if(w!==void 0)return _2(w)}(Ce),D=G.message;se===void 0&&(se=M.INTERNAL,D="Unknown error status: "+Ce+" with message "+G.message),I=!0,S.So(new q(se,D)),g.close()}else j(ut,`RPC '${e}' stream ${i} received:`,z),S.bo(z)}}),N(c,Bm.STAT_EVENT,R=>{R.stat===ed.PROXY?j(ut,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===ed.NOPROXY&&j(ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function zm(){return typeof document<"u"?document:null}function Rd(t){return new Ey(t,!0)}var vd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Yy=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new vd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return E(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return E(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return E(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Ti(n.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new q(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>E(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Zy=class extends Yy{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=S2(e.writeResults,e.commitTime),r=Hs(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=b2(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>T2(this.serializer,r))};this.a_(n)}};var Jy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new q(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,by(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(M.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,by(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Xy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ti(n),this.D_=!1):j("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var ev=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>E(this,null,function*(){Qa(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(u){return E(this,null,function*(){let d=we(u);d.L_.add(4),yield Ka(d),d.q_.set("Unknown"),d.L_.delete(4),yield Md(d)})}(this))}))}),this.q_=new Xy(r,i)}};function Md(t){return E(this,null,function*(){if(Qa(t))for(let e of t.B_)yield e(!0)})}function Ka(t){return E(this,null,function*(){for(let e of t.B_)yield e(!1)})}function Qa(t){return we(t).L_.size===0}function E0(t,e,n){return E(this,null,function*(){if(!Ad(e))throw e;t.L_.add(1),yield Ka(t),t.q_.set("Offline"),n||(n=()=>O2(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Md(t)}))})}function D0(t,e){return e().catch(n=>E0(t,n,e))}function Nd(t){return E(this,null,function*(){let e=we(t),n=jr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;L2(e);)try{let i=yield k2(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,V2(e,i)}catch(i){yield E0(e,i)}b0(e)&&C0(e)})}function L2(t){return Qa(t)&&t.O_.length<10}function V2(t,e){t.O_.push(e);let n=jr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function b0(t){return Qa(t)&&!jr(t).n_()&&t.O_.length>0}function C0(t){jr(t).start()}function U2(t){return E(this,null,function*(){jr(t).p_()})}function j2(t){return E(this,null,function*(){let e=jr(t);for(let n of t.O_)e.m_(n.mutations)})}function B2(t,e,n){return E(this,null,function*(){let r=t.O_.shift(),i=Iy.from(r,e,n);yield D0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Nd(t)})}function $2(t,e){return E(this,null,function*(){e&&jr(t).V_&&(yield function(r,i){return E(this,null,function*(){if(function(o){return v2(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();jr(r).s_(),yield D0(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Nd(r)}})}(t,e)),b0(t)&&C0(t)})}function jT(t,e){return E(this,null,function*(){let n=we(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=Qa(n);n.L_.add(3),yield Ka(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Md(n)})}function H2(t,e){return E(this,null,function*(){let n=we(t);e?(n.L_.delete(2),yield Md(n)):e||(n.L_.add(2),yield Ka(n),n.q_.set("Unknown"))})}function jr(t){return t.U_||(t.U_=function(n,r,i){let s=we(n);return s.w_(),new Zy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:U2.bind(null,t),mo:$2.bind(null,t),f_:j2.bind(null,t),g_:B2.bind(null,t)}),t.B_.push(e=>E(this,null,function*(){e?(t.U_.s_(),yield Nd(t)):(yield t.U_.stop(),t.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var tv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function T0(t,e){if(Ti("AsyncQueue",`${e}: ${t}`),Ad(t))return new q(M.UNAVAILABLE,`${e}: ${t}`);throw t}var nv=class{constructor(){this.queries=BT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=we(n),s=i.queries;i.queries=BT(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new q(M.ABORTED,"Firestore shutting down"))}};function BT(){return new Ur(t=>c0(t),a0)}function q2(t){t.Y_.forEach(e=>{e.next()})}var $T,HT;(HT=$T||($T={})).ea="default",HT.Cache="cache";var rv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ur(c=>c0(c),a0),this.Ma=new Map,this.xa=new Set,this.Oa=new Mt(ne.comparator),this.Na=new Map,this.La=new Ga,this.Ba={},this.ka=new Map,this.qa=za.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function z2(t,e,n){return E(this,null,function*(){let r=Q2(t);try{let i=yield function(o,c){let u=we(o),d=dt.now(),f=c.reduce((I,S)=>I.add(S.key),lt()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=fd(),N=lt();return u.cs.getEntries(I,f).next(R=>{S=R,S.forEach((F,z)=>{z.isValidDocument()||(N=N.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,S)).next(R=>{g=R;let F=[];for(let z of c){let $=y2(z,g.get(z.key).overlayedDocument);$!=null&&F.push(new Jn(z.key,$,t0($.value.mapValue),bi.exists(!0)))}return u.mutationQueue.addMutationBatch(I,d,F,c)}).next(R=>{_=R;let F=R.applyToLocalDocumentSet(g,N);return u.documentOverlayCache.saveOverlays(I,R.batchId,F)})}).then(()=>({batchId:_.batchId,changes:l0(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new Mt(Ie)),d=d.insert(c,u),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,n),yield xd(r,i.changes),yield Nd(r.remoteStore)}catch(i){let s=T0(i,"Failed to persist write");n.reject(s)}})}function qT(t,e,n){let r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=we(o);u.onlineState=c;let d=!1;u.queries.forEach((f,g)=>{for(let _ of g.j_)_.Z_(c)&&(d=!0)}),d&&q2(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function G2(t,e){return E(this,null,function*(){let n=we(t),r=e.batch.batchId;try{let i=yield P2(n.localStore,e);A0(n,r,null),S0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield xd(n,i)}catch(i){yield YT(i)}})}function W2(t,e,n){return E(this,null,function*(){let r=we(t);try{let i=yield function(o,c){let u=we(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(g=>(xe(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);A0(r,e,n),S0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield xd(r,i)}catch(i){yield YT(i)}})}function S0(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function A0(t,e,n){let r=we(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function xd(t,e,n){return E(this,null,function*(){let r=we(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){let g=d?!d.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=$y.Wi(u.targetId,d);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,d){return E(this,null,function*(){let f=we(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>x.forEach(d,_=>x.forEach(_.$i,I=>f.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>x.forEach(_.Ui,I=>f.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!Ad(g))throw g;j("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let I=f.os.get(_),S=I.snapshotVersion,N=I.withLastLimboFreeSnapshotVersion(S);f.os=f.os.insert(_,N)}}})}(r.localStore,s))})}function K2(t,e){return E(this,null,function*(){let n=we(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield w0(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new q(M.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xd(n,r.hs)}})}function Q2(t){let e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W2.bind(null,e),e}var zT=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return E(this,null,function*(){this.serializer=Rd(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return x2(this.persistence,new qy,n.initialUser,this.serializer)}Ga(n){return new Uy(By.Zr,this.serializer)}Wa(n){return new Gy}terminate(){return E(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var Y2=(()=>{class t{initialize(n,r){return E(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>qT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=K2.bind(null,this.syncEngine),yield H2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new nv}()}createDatastore(n){let r=Rd(n.databaseInfo.databaseId),i=function(o){return new Qy(o)}(n.databaseInfo);return function(o,c,u,d){return new Jy(o,c,u,d)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,c,u){return new ev(i,s,o,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>qT(this.syncEngine,r,0),function(){return yd.D()?new yd:new Wy}())}createSyncEngine(n,r){return function(s,o,c,u,d,f,g){let _=new rv(s,o,c,u,d,f);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var n,r;yield function(s){return E(this,null,function*(){let o=we(s);j("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Ka(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var iv=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ke.UNAUTHENTICATED,this.clientId=cd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>E(this,null,function*(){j("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(j("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=T0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Gm(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>E(this,null,function*(){r.isEqual(i)||(yield w0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function GT(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Z2(t);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>jT(e.remoteStore,i)),t._onlineComponents=e})}function Z2(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Gm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;od("Error using user provided cache. Falling back to memory cache: "+n),yield Gm(t,new zT)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield Gm(t,new zT);return t._offlineComponents})}function J2(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield GT(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield GT(t,new Y2))),t._onlineComponents})}function X2(t){return J2(t).then(e=>e.syncEngine)}function R0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var WT=new Map;function M0(t,e,n){if(!n)throw new q(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ej(t,e,n,r){if(e===!0&&r===!0)throw new q(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KT(t){if(!ne.isDocumentKey(t))throw new q(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QT(t){if(ne.isDocumentKey(t))throw new q(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function N0(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=yv(t);throw new q(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var _d=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ej("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ro=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _d({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _d(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Wm;switch(r.type){case"firstParty":return new Zm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=WT.get(n);r&&(j("ComponentProvider","Removing Datastore"),WT.delete(n),r.terminate())}(this),Promise.resolve()}};function x0(t,e,n,r={}){var i;let s=(t=N0(t,ro))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&od("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Ke.MOCK_USER;else{c=Ml(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new q(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ke(d)}t._authCredentials=new Km(new ad(c,u))}}var sv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Yn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Fr=class t extends sv{constructor(e,n,r){super(e,n,n2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new ne(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function P0(t,e,...n){if(t=We(t),M0("collection","path",e),t instanceof ro){let r=Be.fromString(e,...n);return QT(r),new Fr(t,null,r)}{if(!(t instanceof Yn||t instanceof Fr))throw new q(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Be.fromString(e,...n));return QT(r),new Fr(t.firestore,null,r)}}function O0(t,e,...n){if(t=We(t),arguments.length===1&&(e=cd.newId()),M0("doc","path",e),t instanceof ro){let r=Be.fromString(e,...n);return KT(r),new Yn(t,null,new ne(r))}{if(!(t instanceof Yn||t instanceof Fr))throw new q(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Be.fromString(e,...n));return KT(r),new Yn(t.firestore,t instanceof Fr?t.converter:null,new ne(r))}}var Id=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new vd(this,"async_queue_retry"),this.Vu=()=>{let r=zm();r&&j("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Qn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return E(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ad(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Ti("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=tv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&le()}verifyOperationInProgress(){}wu(){return E(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var wd=class extends ro{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Id,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Id(e),this._firestoreClient=void 0,yield e}})}};function k0(t,e){let n=typeof t=="object"?t:Mr(),r=typeof t=="string"?t:e||"(default)",i=pi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Rl("firestore");s&&x0(i,...s)}return i}function tj(t){if(t._terminated)throw new q(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nj(t),t._firestoreClient}function nj(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,d,f){return new ry(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,R0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new iv(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var Ed=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Zn.fromBase64String(e))}catch(n){throw new q(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Dd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var bd=class{constructor(e){this._methodName=e}};var Cd=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}};var Td=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var rj=/^__.*__$/,ov=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mi(e,this.data,n,this.fieldTransforms)}};function F0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}var av=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Sd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(F0(this.Cu)&&rj.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},cv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rd(e)}Qu(e,n,r,i=!1){return new av({Cu:e,methodName:n,qu:r,path:Rt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ij(t){let e=t._freezeSettings(),n=Rd(t._databaseId);return new cv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sj(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);j0("Data must be an object, but it was:",o,r);let c=V0(r,o),u,d;if(s.merge)u=new In(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let g of s.mergeFields){let _=oj(e,g,n);if(!o.contains(_))throw new q(M.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);uj(f,_)||f.push(_)}u=new In(f),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new ov(new _n(c),u,d)}function L0(t,e){if(U0(t=We(t)))return j0("Unsupported field value:",e,t),V0(t,e);if(t instanceof bd)return function(r,i){if(!F0(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=L0(c,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=dt.fromDate(r);return{timestampValue:Dy(i.serializer,s)}}if(r instanceof dt){let s=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dy(i.serializer,s)}}if(r instanceof Cd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ed)return{bytesValue:I2(i.serializer,r._byteString)};if(r instanceof Yn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:_0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Td)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return mv(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${yv(r)}`)}(t,e)}function V0(t,e){let n={};return ZT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wa(t,(r,i)=>{let s=L0(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function U0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof Cd||t instanceof Ed||t instanceof Yn||t instanceof bd||t instanceof Td)}function j0(t,e,n){if(!U0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=yv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function oj(t,e,n){if((e=We(e))instanceof Dd)return e._internalPath;if(typeof e=="string")return cj(t,e);throw Sd("Field path arguments must be of type string or ",t,!1,void 0,n)}var aj=new RegExp("[~\\*/\\[\\]]");function cj(t,e,n){if(e.search(aj)>=0)throw Sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dd(...e.split("."))._internalPath}catch{throw Sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new q(M.INVALID_ARGUMENT,c+t+u)}function uj(t,e){return t.some(n=>n.isEqual(e))}function lj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function B0(t,e){let n=N0(t.firestore,wd),r=O0(t),i=lj(t.converter,e);return dj(n,[sj(ij(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,bi.exists(!1))]).then(()=>r)}function dj(t,e){return function(r,i){let s=new Qn;return r.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return z2(yield X2(r),i,s)})),s.promise}(tj(t),e)}(function(e,n=!0){(function(i){io=i})(mn),gn(new wt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new wd(new Qm(r.getProvider("auth-internal")),new Xm(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new q(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iy(d.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),De(ST,"4.7.3",e),De(ST,"4.7.3","esm2017")})();var Ni=class{constructor(e){return e}},$0="firestore",vv=class{constructor(){return mi($0)}};var _v=new U("angularfire2.firestore-instances");function hj(t,e){let n=Ls($0,t,e);return n&&new Ni(n)}function fj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ni(r)}}var pj={provide:vv,deps:[[new Fe,_v]]},gj={provide:Ni,useFactory:hj,deps:[[new Fe,_v],Jt]};function H0(t,...e){return De("angularfire",qn.full,"fst"),Ft([gj,pj,{provide:_v,useFactory:fj(t),multi:!0,deps:[me,Xe,xr,zn,[new Fe,wi],[new Fe,Nr],...e]}])}var q0=At(B0,!0);var z0=At(P0,!0);var G0=At(k0,!0);var X0="firebasestorage.googleapis.com",eS="storageBucket",yj=2*60*1e3,vj=10*60*1e3;var Ae=class t extends vt{constructor(e,n,r=0){super(Iv(e),`Firebase Storage: ${n} (${Iv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Iv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Pe=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Pe||{});function Iv(t){return"storage/"+t}function Tv(){let t="An unknown error occurred, please check the error payload for server response.";return new Ae(Pe.UNKNOWN,t)}function _j(t){return new Ae(Pe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Ij(t){return new Ae(Pe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wj(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ae(Pe.UNAUTHENTICATED,t)}function Ej(){return new Ae(Pe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Dj(t){return new Ae(Pe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function bj(){return new Ae(Pe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Cj(){return new Ae(Pe.CANCELED,"User canceled the upload/download.")}function Tj(t){return new Ae(Pe.INVALID_URL,"Invalid URL '"+t+"'.")}function Sj(t){return new Ae(Pe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Aj(){return new Ae(Pe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+eS+"' property when initializing the app?")}function Rj(){return new Ae(Pe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Mj(){return new Ae(Pe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Nj(t){return new Ae(Pe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function wv(t){return new Ae(Pe.INVALID_ARGUMENT,t)}function tS(){return new Ae(Pe.APP_DELETED,"The Firebase app was deleted.")}function xj(t){return new Ae(Pe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Za(t,e){return new Ae(Pe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ya(t){throw new Ae(Pe.INTERNAL_ERROR,"Internal error: "+t)}var Xt=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Sj(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}let o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function d(G){G.path_=decodeURIComponent(G.path)}let f="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",I=new RegExp(`^https?://${g}/${f}/b/${i}/o${_}`,"i"),S={bucket:1,path:3},N=n===X0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",F=new RegExp(`^https?://${N}/${i}/${R}`,"i"),$=[{regex:c,indices:u,postModify:s},{regex:I,indices:S,postModify:d},{regex:F,indices:{bucket:1,path:2},postModify:d}];for(let G=0;G<$.length;G++){let Ce=$[G],se=Ce.regex.exec(e);if(se){let D=se[Ce.indices.bucket],m=se[Ce.indices.path];m||(m=""),r=new t(D,m),Ce.postModify(r);break}}if(r==null)throw Tj(e);return r}},Ev=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Pj(t,e,n){let r=1,i=null,s=null,o=!1,c=0;function u(){return c===2}let d=!1;function f(...R){d||(d=!0,e.apply(null,R))}function g(R){i=setTimeout(()=>{i=null,t(I,u())},R)}function _(){s&&clearTimeout(s)}function I(R,...F){if(d){_();return}if(R){_(),f.call(null,R,...F);return}if(u()||o){_(),f.call(null,R,...F);return}r<64&&(r*=2);let $;c===1?(c=2,$=0):$=(r+Math.random())*1e3,g($)}let S=!1;function N(R){S||(S=!0,_(),!d&&(i!==null?(R||(c=2),clearTimeout(i),g(0)):R||(c=1)))}return g(0),s=setTimeout(()=>{o=!0,N(!0)},n),N}function Oj(t){t(!1)}function kj(t){return t!==void 0}function Fj(t){return typeof t=="object"&&!Array.isArray(t)}function Sv(t){return typeof t=="string"||t instanceof String}function W0(t){return Av()&&t instanceof Blob}function Av(){return typeof Blob<"u"}function K0(t,e,n,r){if(r<e)throw wv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw wv(`Invalid value for '${t}'. Expected ${n} or less.`)}function Rv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function nS(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var oo=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(oo||{});function Lj(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var Dv=class{constructor(e,n,r,i,s,o,c,u,d,f,g,_=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=g,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,S)=>{this.resolve_=I,this.reject_=S,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new so(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=c=>{let u=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let c=s.getErrorCode()===oo.NO_ERROR,u=s.getStatus();if(!c||Lj(u,this.additionalRetryCodes_)&&this.retry){let f=s.getErrorCode()===oo.ABORT;r(!1,new so(!1,null,f));return}let d=this.successCodes_.indexOf(u)!==-1;r(!0,new so(d,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(c,c.getResponse());kj(u)?s(u):s()}catch(u){o(u)}else if(c!==null){let u=Tv();u.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,u)):o(u)}else if(i.canceled){let u=this.appDelete_?tS():Cj();o(u)}else{let u=bj();o(u)}};this.canceled_?n(!1,new so(!1,null,!0)):this.backoffId_=Pj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Oj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},so=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function Vj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Uj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Bj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $j(t,e,n,r,i,s,o=!0){let c=nS(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return jj(d,e),Vj(d,n),Uj(d,s),Bj(d,r),new Dv(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function Hj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function qj(...t){let e=Hj();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Av())return new Blob(t);throw new Ae(Pe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function Gj(t){if(typeof atob>"u")throw Nj("base-64");return atob(t)}var Dn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ja=class{constructor(e,n){this.data=e,this.contentType=n||null}};function Wj(t,e){switch(t){case Dn.RAW:return new Ja(rS(e));case Dn.BASE64:case Dn.BASE64URL:return new Ja(iS(t,e));case Dn.DATA_URL:return new Ja(Qj(e),Yj(e))}throw Tv()}function rS(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Kj(t){let e;try{e=decodeURIComponent(t)}catch{throw Za(Dn.DATA_URL,"Malformed data URL.")}return rS(e)}function iS(t,e){switch(t){case Dn.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Za(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Dn.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Za(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Gj(e)}catch(i){throw i.message.includes("polyfill")?i:Za(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var Od=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Za(Dn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=Zj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function Qj(t){let e=new Od(t);return e.base64?iS(Dn.BASE64,e.rest):Kj(e.rest)}function Yj(t){return new Od(t).contentType}function Zj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var kd=class t{constructor(e,n){let r=0,i="";W0(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(W0(this.data_)){let r=this.data_,i=zj(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(Av()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(qj.apply(null,n))}else{let n=e.map(o=>Sv(o)?Wj(Dn.RAW,o).data:o.data_),r=0;n.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return n.forEach(o=>{for(let c=0;c<o.length;c++)i[s++]=o[c]}),new t(i,!0)}}uploadData(){return this.data_}};function sS(t){let e;try{e=JSON.parse(t)}catch{return null}return Fj(e)?e:null}function Jj(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Xj(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function oS(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function eB(t,e){return e}var rt=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||eB}},Pd=null;function tB(t){return!Sv(t)||t.length<2?t:oS(t)}function aS(){if(Pd)return Pd;let t=[];t.push(new rt("bucket")),t.push(new rt("generation")),t.push(new rt("metageneration")),t.push(new rt("name","fullPath",!0));function e(s,o){return tB(o)}let n=new rt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new rt("size");return i.xform=r,t.push(i),t.push(new rt("timeCreated")),t.push(new rt("updated")),t.push(new rt("md5Hash",null,!0)),t.push(new rt("cacheControl",null,!0)),t.push(new rt("contentDisposition",null,!0)),t.push(new rt("contentEncoding",null,!0)),t.push(new rt("contentLanguage",null,!0)),t.push(new rt("contentType",null,!0)),t.push(new rt("metadata","customMetadata",!0)),Pd=t,Pd}function nB(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new Xt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function rB(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return nB(r,t),r}function cS(t,e,n){let r=sS(e);return r===null?null:rB(t,r,n)}function iB(t,e,n,r){let i=sS(e);if(i===null||!Sv(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(d=>{let f=t.bucket,g=t.fullPath,_="/b/"+o(f)+"/o/"+o(g),I=Rv(_,n,r),S=nS({alt:"media",token:d});return I+S})[0]}function sB(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var Fd=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function uS(t){if(!t)throw Tv()}function oB(t,e){function n(r,i){let s=cS(t,i,e);return uS(s!==null),s}return n}function aB(t,e){function n(r,i){let s=cS(t,i,e);return uS(s!==null),iB(s,i,t.host,t._protocol)}return n}function lS(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Ej():i=wj():n.getStatus()===402?i=Ij(t.bucket):n.getStatus()===403?i=Dj(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function cB(t){let e=lS(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=_j(t.path)),s.serverResponse=i.serverResponse,s}return n}function uB(t,e,n){let r=e.fullServerUrl(),i=Rv(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,c=new Fd(i,s,aB(t,n),o);return c.errorHandler=cB(e),c}function lB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function dB(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=lB(null,e)),r}function hB(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let $="";for(let G=0;G<2;G++)$=$+Math.random().toString().slice(2);return $}let u=c();o["Content-Type"]="multipart/related; boundary="+u;let d=dB(e,r,i),f=sB(d,n),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,_=`\r
--`+u+"--",I=kd.getBlob(g,r,_);if(I===null)throw Rj();let S={name:d.fullPath},N=Rv(s,t.host,t._protocol),R="POST",F=t.maxUploadRetryTime,z=new Fd(N,R,oB(t,n),F);return z.urlParams=S,z.headers=o,z.body=I.uploadData(),z.errorHandler=lS(e),z}var N5=256*1024;var Q0=null,bv=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=oo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=oo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=oo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ya("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ya("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ya("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ya("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ya("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Cv=class extends bv{initXhr(){this.xhr_.responseType="text"}};function dS(){return Q0?Q0():new Cv}var ao=class t{constructor(e,n){this._service=e,n instanceof Xt?this._location=n:this._location=Xt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Xt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oS(this._location.path)}get storage(){return this._service}get parent(){let e=Jj(this._location.path);if(e===null)return null;let n=new Xt(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xj(e)}};function fB(t,e,n){t._throwIfRoot("uploadBytes");let r=hB(t.storage,t._location,aS(),new kd(e,!0),n);return t.storage.makeRequestWithTokens(r,dS).then(i=>({metadata:i,ref:t}))}function pB(t){t._throwIfRoot("getDownloadURL");let e=uB(t.storage,t._location,aS());return t.storage.makeRequestWithTokens(e,dS).then(n=>{if(n===null)throw Mj();return n})}function gB(t,e){let n=Xj(t._location.path,e),r=new Xt(t._location.bucket,n);return new ao(t.storage,r)}function mB(t){return/^[A-Za-z]+:\/\//.test(t)}function yB(t,e){return new ao(t,e)}function hS(t,e){if(t instanceof Xa){let n=t;if(n._bucket==null)throw Aj();let r=new ao(n,n._bucket);return e!=null?hS(r,e):r}else return e!==void 0?gB(t,e):t}function vB(t,e){if(e&&mB(e)){if(t instanceof Xa)return yB(t,e);throw wv("To use ref(service, url), the first argument must be a Storage instance.")}else return hS(t,e)}function Y0(t,e){let n=e?.[eS];return n==null?null:Xt.makeFromBucketSpec(n,t)}function _B(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Ml(i,t.app.options.projectId))}var Xa=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=X0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yj,this._maxUploadRetryTime=vj,this._requests=new Set,i!=null?this._bucket=Xt.makeFromBucketSpec(i,this._host):this._bucket=Y0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xt.makeFromBucketSpec(this._url,e):this._bucket=Y0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){K0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){K0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return E(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return E(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ao(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Ev(tS());{let o=$j(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return E(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},Z0="@firebase/storage",J0="0.13.2";var fS="storage";function pS(t,e,n){return t=We(t),fB(t,e,n)}function gS(t){return t=We(t),pB(t)}function mS(t,e){return t=We(t),vB(t,e)}function yS(t=Mr(),e){t=We(t);let r=pi(t,fS).getImmediate({identifier:e}),i=Rl("storage");return i&&vS(r,...i),r}function vS(t,e,n,r={}){_B(t,e,n,r)}function IB(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Xa(n,r,i,e,mn)}function wB(){gn(new wt(fS,IB,"PUBLIC").setMultipleInstances(!0)),De(Z0,J0,""),De(Z0,J0,"esm2017")}wB();var xi=class{constructor(e){return e}},_S="storage",Mv=class{constructor(){return mi(_S)}};var Nv=new U("angularfire2.storage-instances");function EB(t,e){let n=Ls(_S,t,e);return n&&new xi(n)}function DB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new xi(r)}}var bB={provide:Mv,deps:[[new Fe,Nv]]},CB={provide:xi,useFactory:EB,deps:[[new Fe,Nv],Jt]};function IS(t,...e){return De("angularfire",qn.full,"gcs"),Ft([CB,bB,{provide:Nv,useFactory:DB(t),multi:!0,deps:[me,Xe,xr,zn,[new Fe,wi],[new Fe,Nr],...e]}])}var wS=At(gS,!0);var ES=At(yS,!0);var DS=At(mS,!0);var bS=At(pS,!0);var Ld=class t{constructor(e,n){this.firestore=e;this.storage=n}registrarUsuario(e,n){return E(this,null,function*(){let r=z0(this.firestore,n);return yield q0(r,e)})}subirImagen(e,n){return E(this,null,function*(){let r=DS(this.storage,`${n}/${e.name}`);return yield bS(r,e),yield wS(r)})}static \u0275fac=function(n){return new(n||t)(X(Ni),X(xi))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})};function AB(t,e){t&1&&(V(0,"div",17),K(1," Nombre es requerido. "),L())}function RB(t,e){t&1&&(V(0,"div",17),K(1," Apellido es requerido. "),L())}function MB(t,e){t&1&&(V(0,"div",17),K(1," Edad v\xE1lida es requerida. "),L())}function NB(t,e){t&1&&(V(0,"div",17),K(1," DNI es requerido. "),L())}function xB(t,e){t&1&&(V(0,"div",17),K(1," Se requiere un email v\xE1lido. "),L())}function PB(t,e){t&1&&(V(0,"div",17),K(1," La contrase\xF1a es requerida y debe tener al menos 6 caracteres. "),L())}function OB(t,e){t&1&&(V(0,"div",17),K(1," Obra Social es requerida. "),L())}function kB(t,e){if(t&1){let n=Bu();V(0,"div")(1,"div",8)(2,"label"),K(3,"Obra Social:"),L(),be(4,"input",18),Vt(5,OB,2,0,"div",3),L(),V(6,"div",8)(7,"label"),K(8,"Imagen 1:"),L(),V(9,"input",19),et("change",function(i){Ir(n);let s=Yt(2);return wr(s.onFileSelect(i,"imagen1"))}),L()(),V(10,"div",8)(11,"label"),K(12,"Imagen 2:"),L(),V(13,"input",19),et("change",function(i){Ir(n);let s=Yt(2);return wr(s.onFileSelect(i,"imagen2"))}),L()()()}if(t&2){let n,r=Yt(2);yt(5),ze("ngIf",((n=r.registroForm.get("obraSocial"))==null?null:n.invalid)&&((n=r.registroForm.get("obraSocial"))==null?null:n.touched)||r.submitted&&((n=r.registroForm.get("obraSocial"))==null?null:n.invalid))}}function FB(t,e){if(t&1&&(V(0,"option",24),K(1),L()),t&2){let n=e.$implicit;ze("value",n),yt(),_p(n)}}function LB(t,e){if(t&1){let n=Bu();V(0,"div")(1,"div",8)(2,"label"),K(3,"Especialidad:"),L(),V(4,"select",20),Vt(5,FB,2,2,"option",21),L(),be(6,"input",22),V(7,"button",23),et("click",function(){Ir(n);let i=Yt(2);return wr(i.agregarEspecialidad())}),K(8,"Agregar"),L()(),V(9,"div",8)(10,"label"),K(11,"Imagen de perfil:"),L(),V(12,"input",19),et("change",function(i){Ir(n);let s=Yt(2);return wr(s.onFileSelect(i,"imagenPerfil"))}),L()()()}if(t&2){let n=Yt(2);yt(5),ze("ngForOf",n.especialidades)}}function VB(t,e){if(t&1){let n=Bu();V(0,"form",4),et("ngSubmit",function(){Ir(n);let i=Yt();return wr(i.onSubmit())}),V(1,"div",5)(2,"label")(3,"input",6),et("change",function(){Ir(n);let i=Yt();return wr(i.onTipoUsuarioChange())}),L(),K(4," Paciente "),L(),V(5,"label")(6,"input",7),et("change",function(){Ir(n);let i=Yt();return wr(i.onTipoUsuarioChange())}),L(),K(7," Especialista "),L()(),V(8,"div",8)(9,"label"),K(10,"Nombre:"),L(),be(11,"input",9),Vt(12,AB,2,0,"div",3),L(),V(13,"div",8)(14,"label"),K(15,"Apellido:"),L(),be(16,"input",10),Vt(17,RB,2,0,"div",3),L(),V(18,"div",8)(19,"label"),K(20,"Edad:"),L(),be(21,"input",11),Vt(22,MB,2,0,"div",3),L(),V(23,"div",8)(24,"label"),K(25,"DNI:"),L(),be(26,"input",12),Vt(27,NB,2,0,"div",3),L(),V(28,"div",8)(29,"label"),K(30,"Email:"),L(),be(31,"input",13),Vt(32,xB,2,0,"div",3),L(),V(33,"div",8)(34,"label"),K(35,"Contrase\xF1a:"),L(),be(36,"input",14),Vt(37,PB,2,0,"div",3),L(),Vt(38,kB,14,1,"div",15)(39,LB,13,1,"div",15),V(40,"button",16),K(41,"Registrarse"),L()()}if(t&2){let n,r,i,s,o,c,u=Yt();ze("formGroup",u.registroForm),yt(12),ze("ngIf",((n=u.registroForm.get("nombre"))==null?null:n.invalid)&&((n=u.registroForm.get("nombre"))==null?null:n.touched)||u.submitted&&((n=u.registroForm.get("nombre"))==null?null:n.invalid)),yt(5),ze("ngIf",((r=u.registroForm.get("apellido"))==null?null:r.invalid)&&((r=u.registroForm.get("apellido"))==null?null:r.touched)||u.submitted&&((r=u.registroForm.get("apellido"))==null?null:r.invalid)),yt(5),ze("ngIf",((i=u.registroForm.get("edad"))==null?null:i.invalid)&&((i=u.registroForm.get("edad"))==null?null:i.touched)||u.submitted&&((i=u.registroForm.get("edad"))==null?null:i.invalid)),yt(5),ze("ngIf",((s=u.registroForm.get("dni"))==null?null:s.invalid)&&((s=u.registroForm.get("dni"))==null?null:s.touched)||u.submitted&&((s=u.registroForm.get("dni"))==null?null:s.invalid)),yt(5),ze("ngIf",((o=u.registroForm.get("email"))==null?null:o.invalid)&&((o=u.registroForm.get("email"))==null?null:o.touched)||u.submitted&&((o=u.registroForm.get("email"))==null?null:o.invalid)),yt(5),ze("ngIf",((c=u.registroForm.get("password"))==null?null:c.invalid)&&((c=u.registroForm.get("password"))==null?null:c.touched)||u.submitted&&((c=u.registroForm.get("password"))==null?null:c.invalid)),yt(),ze("ngIf",u.isPaciente),yt(),ze("ngIf",u.isEspecialista)}}function UB(t,e){t&1&&(V(0,"div",25),be(1,"div",26),L())}function jB(t,e){t&1&&(V(0,"div",27)(1,"p"),K(2,"\u{1F60A} Formulario enviado correctamente. \xA1Registro terminado! \u{1F60A}"),L()())}function BB(t,e){t&1&&(V(0,"p",17),K(1," Por favor completa todos los campos obligatorios. "),L())}var Vd=class t{constructor(e,n){this.fb=e;this.registroService=n;this.registroForm=this.fb.group({tipoUsuario:["",nt.required],nombre:["",nt.required],apellido:["",nt.required],edad:["",[nt.required,nt.min(1)]],dni:["",nt.required],email:["",[nt.required,nt.email]],password:["",[nt.required,nt.minLength(6)]],obraSocial:["",this.isPaciente?nt.required:null],especialidad:["",this.isEspecialista?nt.required:null],imagenPerfil:[""],nuevaEspecialidad:[""]})}registroForm;especialidades=["Cardiolog\xEDa","Dermatolog\xEDa","Pediatr\xEDa"];nuevaEspecialidad="";isPaciente=!1;isEspecialista=!1;submitted=!1;completed=!1;isLoading=!1;imagen1;imagen2;ngOnInit(){}onTipoUsuarioChange(){let e=this.registroForm.get("tipoUsuario")?.value;this.isPaciente=e==="paciente",this.isEspecialista=e==="especialista",this.isPaciente?(this.registroForm.get("obraSocial")?.setValidators([nt.required]),this.registroForm.get("especialidad")?.clearValidators()):this.isEspecialista&&(this.registroForm.get("especialidad")?.setValidators([nt.required]),this.registroForm.get("obraSocial")?.clearValidators()),this.registroForm.get("obraSocial")?.updateValueAndValidity(),this.registroForm.get("especialidad")?.updateValueAndValidity()}agregarEspecialidad(){let e=this.registroForm.get("nuevaEspecialidad")?.value;e&&!this.especialidades.includes(e)&&(this.especialidades.push(e),this.registroForm.get("nuevaEspecialidad")?.setValue(""))}onFileSelect(e,n){let r=e.target.files[0];r&&(n==="imagen1"?this.imagen1=r:n==="imagen2"&&(this.imagen2=r))}onSubmit(){return E(this,null,function*(){if(this.submitted=!0,this.registroForm.valid){this.isLoading=!0;let e=this.registroForm.get("tipoUsuario")?.value,n=O({},this.registroForm.value);try{if(this.isPaciente){if(this.imagen1){let r=yield this.subirImagenPaciente(this.imagen1,n.dni,"imagen1");n.imagen1=r}if(this.imagen2){let r=yield this.subirImagenPaciente(this.imagen2,n.dni,"imagen2");n.imagen2=r}}else if(this.isEspecialista&&this.imagen1){let r=yield this.subirImagenPaciente(this.imagen1,n.dni,"perfil");n.imagenPerfil=r}yield this.registroService.registrarUsuario(n,e),console.log("Usuario registrado exitosamente en Firestore"),this.completed=!0,setTimeout(()=>{this.registroForm.reset(),this.submitted=!1,this.completed=!1},3e3)}catch(r){console.error("Error al registrar usuario:",r)}finally{this.isLoading=!1}}else console.log("Formulario inv\xE1lido, por favor completa todos los campos requeridos.")})}subirImagenPaciente(e,n,r){return E(this,null,function*(){let i=`usuarios/${n}/${r}`;return yield this.registroService.subirImagen(e,i)})}static \u0275fac=function(n){return new(n||t)(te(iC),te(Ld))};static \u0275cmp=cn({type:t,selectors:[["app-registro"]],standalone:!0,features:[dn],decls:4,vars:4,consts:[["class","registro-form",3,"formGroup","ngSubmit",4,"ngIf"],["class","spinner-overlay",4,"ngIf"],["class","confirmation-message","style","text-align: center; color: green;",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"registro-form",3,"ngSubmit","formGroup"],[1,"user-type"],["type","radio","formControlName","tipoUsuario","value","paciente",3,"change"],["type","radio","formControlName","tipoUsuario","value","especialista",3,"change"],[1,"form-group"],["formControlName","nombre","type","text","placeholder","Nombre"],["formControlName","apellido","type","text","placeholder","Apellido"],["formControlName","edad","type","number","placeholder","Edad"],["formControlName","dni","type","text","placeholder","DNI"],["formControlName","email","type","email","placeholder","Email"],["formControlName","password","type","password","placeholder","Contrase\xF1a"],[4,"ngIf"],["type","submit",1,"submit-button"],[1,"error-message"],["formControlName","obraSocial","type","text","placeholder","Obra Social"],["type","file",3,"change"],["formControlName","especialidad"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","nuevaEspecialidad","placeholder","Agregar nueva especialidad"],["type","button",3,"click"],[3,"value"],[1,"spinner-overlay"],[1,"spinner"],[1,"confirmation-message",2,"text-align","center","color","green"]],template:function(n,r){n&1&&Vt(0,VB,42,9,"form",0)(1,UB,2,0,"div",1)(2,jB,3,0,"div",2)(3,BB,2,0,"p",3),n&2&&(ze("ngIf",!r.completed),yt(),ze("ngIf",r.isLoading),yt(),ze("ngIf",r.completed),yt(),ze("ngIf",r.submitted&&r.registroForm.invalid))},dependencies:[Yo,TD,SD,Cl,Zb,eC,nC,Il,Ag,Dl,Rg,Gb,Wb,Mg,Ng,bl],styles:[".registro-form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;border-radius:8px;background-color:#f8f9fa;box-shadow:0 4px 8px #0000001a;font-family:Arial,sans-serif}.user-type[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#495057;margin-bottom:5px}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px;border:1px solid #ced4da;border-radius:4px;font-size:14px;color:#495057;transition:border-color .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.add-button[_ngcontent-%COMP%]{margin-top:5px;padding:5px 10px;background-color:#007bff;color:#fff;border:none;border-radius:4px;font-size:14px;cursor:pointer;transition:background-color .3s}.add-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.submit-button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#28a745;color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:12px;margin-top:5px}.confirmation-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:calc(100vh - 60px);color:#28a745;font-size:14px;text-align:center;margin-top:15px;font-weight:700}.confirmation-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.submit-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.spinner-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(255,255,255,.3);border-top:8px solid #ffffff;border-radius:50%;width:60px;height:60px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var CS=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:ll},{path:"login",component:Tl},{path:"registro",component:Vd},{path:"**",redirectTo:"/error"}];var TS={production:!1,firebaseConfig:{apiKey:"AIzaSyBJtHg96-UA6lDy6l1xuaVsKf85m4tDXng",authDomain:"clinica-online-b1cba.firebaseapp.com",projectId:"clinica-online-b1cba",storageBucket:"clinica-online-b1cba.appspot.com",messagingSenderId:"594226703420",appId:"1:594226703420:web:5f60bf4382c374aaf06739",measurementId:"G-4VKE4SX4KG"}};var SS={providers:[hD({eventCoalescing:!0}),Ib(CS),NC(()=>xC(TS.firebaseConfig)),ET(()=>DT()),H0(()=>G0()),IS(()=>ES())]};var Ud=class t{title="clinica-online";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=cn({type:t,selectors:[["app-root"]],standalone:!0,features:[dn],decls:1,vars:0,template:function(n,r){n&1&&be(0,"router-outlet")},dependencies:[fg]})};FD(Ud,SS).catch(t=>console.error(t));

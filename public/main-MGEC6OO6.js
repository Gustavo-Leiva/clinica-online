var PM=Object.create;var Fg=Object.defineProperty,MM=Object.defineProperties,NM=Object.getOwnPropertyDescriptor,OM=Object.getOwnPropertyDescriptors,kM=Object.getOwnPropertyNames,XE=Object.getOwnPropertySymbols,tI=Object.getPrototypeOf,nI=Object.prototype.hasOwnProperty,FM=Object.prototype.propertyIsEnumerable,LM=Reflect.get;var eI=(t,e,n)=>e in t?Fg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G=(t,e)=>{for(var n in e||={})nI.call(e,n)&&eI(t,n,e[n]);if(XE)for(var n of XE(e))FM.call(e,n)&&eI(t,n,e[n]);return t},ge=(t,e)=>MM(t,OM(e));var VM=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var UM=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of kM(e))!nI.call(t,i)&&i!==n&&Fg(t,i,{get:()=>e[i],enumerable:!(r=NM(e,i))||r.enumerable});return t};var jM=(t,e,n)=>(n=t!=null?PM(tI(t)):{},UM(e||!t||!t.__esModule?Fg(n,"default",{value:t,enumerable:!0}):n,t));var Xi=(t,e,n)=>LM(tI(t),n,e);var D=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(d){i(d)}},s=l=>{try{a(n.throw(l))}catch(d){i(d)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())});var YS=VM((jr,q_)=>{"use strict";(function(t,e){typeof jr=="object"&&typeof q_<"u"?q_.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(jr,function(){"use strict";function t(u,h,v){if(typeof u=="function"?u===h:u.has(h))return arguments.length<3?h:v;throw new TypeError("Private element is not present on this object")}function e(u,h){if(h.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(u,h){return u.get(t(u,h))}function r(u,h,v){e(u,h),h.set(u,v)}function i(u,h,v){return u.set(t(u,h),v),v}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},l=u=>new Promise(h=>{if(!u)return h();let v=window.scrollX,b=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),h()},o),window.scrollTo(v,b)}),d="swal2-",m=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((u,h)=>(u[h]=d+h,u),{}),I=["success","warning","info","question","error"].reduce((u,h)=>(u[h]=d+h,u),{}),A="SweetAlert2:",j=u=>u.charAt(0).toUpperCase()+u.slice(1),V=u=>{console.warn(`${A} ${typeof u=="object"?u.join(" "):u}`)},$=u=>{console.error(`${A} ${u}`)},J=[],ee=u=>{J.includes(u)||(J.push(u),V(u))},ie=function(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;ee(`"${u}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},Ne=u=>typeof u=="function"?u():u,ae=u=>u&&typeof u.toPromise=="function",R=u=>ae(u)?u.toPromise():Promise.resolve(u),C=u=>u&&Promise.resolve(u)===u,T=()=>document.body.querySelector(`.${m.container}`),P=u=>{let h=T();return h?h.querySelector(u):null},M=u=>P(`.${u}`),N=()=>M(m.popup),S=()=>M(m.icon),Kn=()=>M(m["icon-content"]),ki=()=>M(m.title),Xc=()=>M(m["html-container"]),Fi=()=>M(m.image),ti=()=>M(m["progress-steps"]),Li=()=>M(m["validation-message"]),gn=()=>P(`.${m.actions} .${m.confirm}`),Vi=()=>P(`.${m.actions} .${m.cancel}`),Gt=()=>P(`.${m.actions} .${m.deny}`),Pt=()=>M(m["input-label"]),Ui=()=>P(`.${m.loader}`),Qn=()=>M(m.actions),pd=()=>M(m.footer),yr=()=>M(m["timer-progress-bar"]),el=()=>M(m.close),vg=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ji=()=>{let u=N();if(!u)return[];let h=u.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),v=Array.from(h).sort((W,be)=>{let Oe=parseInt(W.getAttribute("tabindex")||"0"),ot=parseInt(be.getAttribute("tabindex")||"0");return Oe>ot?1:Oe<ot?-1:0}),b=u.querySelectorAll(vg),F=Array.from(b).filter(W=>W.getAttribute("tabindex")!=="-1");return[...new Set(v.concat(F))].filter(W=>jt(W))},Bi=()=>vn(document.body,m.shown)&&!vn(document.body,m["toast-shown"])&&!vn(document.body,m["no-backdrop"]),$i=()=>{let u=N();return u?vn(u,m.toast):!1},tl=()=>{let u=N();return u?u.hasAttribute("data-loading"):!1},Ut=(u,h)=>{if(u.textContent="",h){let b=new DOMParser().parseFromString(h,"text/html"),F=b.querySelector("head");F&&Array.from(F.childNodes).forEach(be=>{u.appendChild(be)});let W=b.querySelector("body");W&&Array.from(W.childNodes).forEach(be=>{be instanceof HTMLVideoElement||be instanceof HTMLAudioElement?u.appendChild(be.cloneNode(!0)):u.appendChild(be)})}},vn=(u,h)=>{if(!h)return!1;let v=h.split(/\s+/);for(let b=0;b<v.length;b++)if(!u.classList.contains(v[b]))return!1;return!0},md=(u,h)=>{Array.from(u.classList).forEach(v=>{!Object.values(m).includes(v)&&!Object.values(I).includes(v)&&!Object.values(h.showClass||{}).includes(v)&&u.classList.remove(v)})},Wt=(u,h,v)=>{if(md(u,h),!h.customClass)return;let b=h.customClass[v];if(b){if(typeof b!="string"&&!b.forEach){V(`Invalid type of customClass.${v}! Expected string or iterable object, got "${typeof b}"`);return}Se(u,b)}},ta=(u,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return u.querySelector(`.${m.popup} > .${m[h]}`);case"checkbox":return u.querySelector(`.${m.popup} > .${m.checkbox} input`);case"radio":return u.querySelector(`.${m.popup} > .${m.radio} input:checked`)||u.querySelector(`.${m.popup} > .${m.radio} input:first-child`);case"range":return u.querySelector(`.${m.popup} > .${m.range} input`);default:return u.querySelector(`.${m.popup} > .${m.input}`)}},nl=u=>{if(u.focus(),u.type!=="file"){let h=u.value;u.value="",u.value=h}},rl=(u,h,v)=>{!u||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(b=>{Array.isArray(u)?u.forEach(F=>{v?F.classList.add(b):F.classList.remove(b)}):v?u.classList.add(b):u.classList.remove(b)}))},Se=(u,h)=>{rl(u,h,!0)},yn=(u,h)=>{rl(u,h,!1)},_r=(u,h)=>{let v=Array.from(u.children);for(let b=0;b<v.length;b++){let F=v[b];if(F instanceof HTMLElement&&vn(F,h))return F}},Yn=(u,h,v)=>{v===`${parseInt(v)}`&&(v=parseInt(v)),v||parseInt(v)===0?u.style.setProperty(h,typeof v=="number"?`${v}px`:v):u.style.removeProperty(h)},ct=function(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";u&&(u.style.display=h)},vt=u=>{u&&(u.style.display="none")},yt=function(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";u&&new MutationObserver(()=>{wr(u,u.innerHTML,h)}).observe(u,{childList:!0,subtree:!0})},Mt=(u,h,v,b)=>{let F=u.querySelector(h);F&&F.style.setProperty(v,b)},wr=function(u,h){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?ct(u,v):vt(u)},jt=u=>!!(u&&(u.offsetWidth||u.offsetHeight||u.getClientRects().length)),gd=()=>!jt(gn())&&!jt(Gt())&&!jt(Vi()),vd=u=>u.scrollHeight>u.clientHeight,Hi=u=>{let h=window.getComputedStyle(u),v=parseFloat(h.getPropertyValue("animation-duration")||"0"),b=parseFloat(h.getPropertyValue("transition-duration")||"0");return v>0||b>0},na=function(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=yr();v&&jt(v)&&(h&&(v.style.transition="none",v.style.width="100%"),setTimeout(()=>{v.style.transition=`width ${u/1e3}s linear`,v.style.width="0%"},10))},yd=()=>{let u=yr();if(!u)return;let h=parseInt(window.getComputedStyle(u).width);u.style.removeProperty("transition"),u.style.width="100%";let v=parseInt(window.getComputedStyle(u).width),b=h/v*100;u.style.width=`${b}%`},il=()=>typeof window>"u"||typeof document>"u",yg=`
 <div aria-labelledby="${m.title}" aria-describedby="${m["html-container"]}" class="${m.popup}" tabindex="-1">
   <button type="button" class="${m.close}"></button>
   <ul class="${m["progress-steps"]}"></ul>
   <div class="${m.icon}"></div>
   <img class="${m.image}" />
   <h2 class="${m.title}" id="${m.title}"></h2>
   <div class="${m["html-container"]}" id="${m["html-container"]}"></div>
   <input class="${m.input}" id="${m.input}" />
   <input type="file" class="${m.file}" />
   <div class="${m.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${m.select}" id="${m.select}"></select>
   <div class="${m.radio}"></div>
   <label class="${m.checkbox}">
     <input type="checkbox" id="${m.checkbox}" />
     <span class="${m.label}"></span>
   </label>
   <textarea class="${m.textarea}" id="${m.textarea}"></textarea>
   <div class="${m["validation-message"]}" id="${m["validation-message"]}"></div>
   <div class="${m.actions}">
     <div class="${m.loader}"></div>
     <button type="button" class="${m.confirm}"></button>
     <button type="button" class="${m.deny}"></button>
     <button type="button" class="${m.cancel}"></button>
   </div>
   <div class="${m.footer}"></div>
   <div class="${m["timer-progress-bar-container"]}">
     <div class="${m["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),_g=()=>{let u=T();return u?(u.remove(),yn([document.documentElement,document.body],[m["no-backdrop"],m["toast-shown"],m["has-column"]]),!0):!1},Zn=()=>{s.currentInstance.resetValidationMessage()},_d=()=>{let u=N(),h=_r(u,m.input),v=_r(u,m.file),b=u.querySelector(`.${m.range} input`),F=u.querySelector(`.${m.range} output`),W=_r(u,m.select),be=u.querySelector(`.${m.checkbox} input`),Oe=_r(u,m.textarea);h.oninput=Zn,v.onchange=Zn,W.onchange=Zn,be.onchange=Zn,Oe.oninput=Zn,b.oninput=()=>{Zn(),F.value=b.value},b.onchange=()=>{Zn(),F.value=b.value}},wd=u=>typeof u=="string"?document.querySelector(u):u,Vo=u=>{let h=N();h.setAttribute("role",u.toast?"alert":"dialog"),h.setAttribute("aria-live",u.toast?"polite":"assertive"),u.toast||h.setAttribute("aria-modal","true")},ol=u=>{window.getComputedStyle(u).direction==="rtl"&&Se(T(),m.rtl)},sl=u=>{let h=_g();if(il()){$("SweetAlert2 requires document to initialize");return}let v=document.createElement("div");v.className=m.container,h&&Se(v,m["no-transition"]),Ut(v,yg);let b=wd(u.target);b.appendChild(v),Vo(u),ol(b),_d()},Jn=(u,h)=>{u instanceof HTMLElement?h.appendChild(u):typeof u=="object"?bd(u,h):u&&Ut(h,u)},bd=(u,h)=>{u.jquery?ra(h,u):Ut(h,u.toString())},ra=(u,h)=>{if(u.textContent="",0 in h)for(let v=0;v in h;v++)u.appendChild(h[v].cloneNode(!0));else u.appendChild(h.cloneNode(!0))},Ed=(u,h)=>{let v=Qn(),b=Ui();!v||!b||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?vt(v):ct(v),Wt(v,h,"actions"),Uo(v,b,h),Ut(b,h.loaderHtml||""),Wt(b,h,"loader"))};function Uo(u,h,v){let b=gn(),F=Gt(),W=Vi();!b||!F||!W||(Tt(b,"confirm",v),Tt(F,"deny",v),Tt(W,"cancel",v),Id(b,F,W,v),v.reverseButtons&&(v.toast?(u.insertBefore(W,b),u.insertBefore(F,b)):(u.insertBefore(W,h),u.insertBefore(F,h),u.insertBefore(b,h))))}function Id(u,h,v,b){if(!b.buttonsStyling){yn([u,h,v],m.styled);return}Se([u,h,v],m.styled),b.confirmButtonColor&&(u.style.backgroundColor=b.confirmButtonColor,Se(u,m["default-outline"])),b.denyButtonColor&&(h.style.backgroundColor=b.denyButtonColor,Se(h,m["default-outline"])),b.cancelButtonColor&&(v.style.backgroundColor=b.cancelButtonColor,Se(v,m["default-outline"]))}function Tt(u,h,v){let b=j(h);wr(u,v[`show${b}Button`],"inline-block"),Ut(u,v[`${h}ButtonText`]||""),u.setAttribute("aria-label",v[`${h}ButtonAriaLabel`]||""),u.className=m[h],Wt(u,v,`${h}Button`)}let Cd=(u,h)=>{let v=el();v&&(Ut(v,h.closeButtonHtml||""),Wt(v,h,"closeButton"),wr(v,h.showCloseButton),v.setAttribute("aria-label",h.closeButtonAriaLabel||""))},jo=(u,h)=>{let v=T();v&&(Bo(v,h.backdrop),wg(v,h.position),bg(v,h.grow),Wt(v,h,"container"))};function Bo(u,h){typeof h=="string"?u.style.background=h:h||Se([document.documentElement,document.body],m["no-backdrop"])}function wg(u,h){h&&(h in m?Se(u,m[h]):(V('The "position" parameter is not valid, defaulting to "center"'),Se(u,m.center)))}function bg(u,h){h&&Se(u,m[`grow-${h}`])}var Le={innerParams:new WeakMap,domCache:new WeakMap};let Eg=["input","file","range","select","radio","checkbox","textarea"],Ig=(u,h)=>{let v=N();if(!v)return;let b=Le.innerParams.get(u),F=!b||h.input!==b.input;Eg.forEach(W=>{let be=_r(v,m[W]);be&&(al(W,h.inputAttributes),be.className=m[W],F&&vt(be))}),h.input&&(F&&ia(h),oa(h))},ia=u=>{if(!u.input)return;if(!Xe[u.input]){$(`Unexpected type of input! Expected ${Object.keys(Xe).join(" | ")}, got "${u.input}"`);return}let h=cl(u.input);if(!h)return;let v=Xe[u.input](h,u);ct(h),u.inputAutoFocus&&setTimeout(()=>{nl(v)})},Dd=u=>{for(let h=0;h<u.attributes.length;h++){let v=u.attributes[h].name;["id","type","value","style"].includes(v)||u.removeAttribute(v)}},al=(u,h)=>{let v=N();if(!v)return;let b=ta(v,u);if(b){Dd(b);for(let F in h)b.setAttribute(F,h[F])}},oa=u=>{if(!u.input)return;let h=cl(u.input);h&&Wt(h,u,"input")},Rn=(u,h)=>{!u.placeholder&&h.inputPlaceholder&&(u.placeholder=h.inputPlaceholder)},zi=(u,h,v)=>{if(v.inputLabel){let b=document.createElement("label"),F=m["input-label"];b.setAttribute("for",u.id),b.className=F,typeof v.customClass=="object"&&Se(b,v.customClass.inputLabel),b.innerText=v.inputLabel,h.insertAdjacentElement("beforebegin",b)}},cl=u=>{let h=N();if(h)return _r(h,m[u]||m.input)},qi=(u,h)=>{["string","number"].includes(typeof h)?u.value=`${h}`:C(h)||V(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Xe={};Xe.text=Xe.email=Xe.password=Xe.number=Xe.tel=Xe.url=Xe.search=Xe.date=Xe["datetime-local"]=Xe.time=Xe.week=Xe.month=(u,h)=>(qi(u,h.inputValue),zi(u,u,h),Rn(u,h),u.type=h.input,u),Xe.file=(u,h)=>(zi(u,u,h),Rn(u,h),u),Xe.range=(u,h)=>{let v=u.querySelector("input"),b=u.querySelector("output");return qi(v,h.inputValue),v.type=h.input,qi(b,h.inputValue),zi(v,u,h),u},Xe.select=(u,h)=>{if(u.textContent="",h.inputPlaceholder){let v=document.createElement("option");Ut(v,h.inputPlaceholder),v.value="",v.disabled=!0,v.selected=!0,u.appendChild(v)}return zi(u,u,h),u},Xe.radio=u=>(u.textContent="",u),Xe.checkbox=(u,h)=>{let v=ta(N(),"checkbox");v.value="1",v.checked=!!h.inputValue;let b=u.querySelector("span");return Ut(b,h.inputPlaceholder||h.inputLabel),v},Xe.textarea=(u,h)=>{qi(u,h.inputValue),Rn(u,h),zi(u,u,h);let v=b=>parseInt(window.getComputedStyle(b).marginLeft)+parseInt(window.getComputedStyle(b).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let b=parseInt(window.getComputedStyle(N()).width),F=()=>{if(!document.body.contains(u))return;let W=u.offsetWidth+v(u);W>b?N().style.width=`${W}px`:Yn(N(),"width",h.width)};new MutationObserver(F).observe(u,{attributes:!0,attributeFilter:["style"]})}}),u};let Td=(u,h)=>{let v=Xc();v&&(yt(v),Wt(v,h,"htmlContainer"),h.html?(Jn(h.html,v),ct(v,"block")):h.text?(v.textContent=h.text,ct(v,"block")):vt(v),Ig(u,h))},Sd=(u,h)=>{let v=pd();v&&(yt(v),wr(v,h.footer,"block"),h.footer&&Jn(h.footer,v),Wt(v,h,"footer"))},Cg=(u,h)=>{let v=Le.innerParams.get(u),b=S();if(b){if(v&&h.icon===v.icon){br(b,h),$o(b,h);return}if(!h.icon&&!h.iconHtml){vt(b);return}if(h.icon&&Object.keys(I).indexOf(h.icon)===-1){$(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),vt(b);return}ct(b),br(b,h),$o(b,h),Se(b,h.showClass&&h.showClass.icon)}},$o=(u,h)=>{for(let[v,b]of Object.entries(I))h.icon!==v&&yn(u,b);Se(u,h.icon&&I[h.icon]),ul(u,h),Ad(),Wt(u,h,"icon")},Ad=()=>{let u=N();if(!u)return;let h=window.getComputedStyle(u).getPropertyValue("background-color"),v=u.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let b=0;b<v.length;b++)v[b].style.backgroundColor=h},ll=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Ho=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,br=(u,h)=>{if(!h.icon&&!h.iconHtml)return;let v=u.innerHTML,b="";h.iconHtml?b=xd(h.iconHtml):h.icon==="success"?(b=ll,v=v.replace(/ style=".*?"/g,"")):h.icon==="error"?b=Ho:h.icon&&(b=xd({question:"?",warning:"!",info:"i"}[h.icon])),v.trim()!==b.trim()&&Ut(u,b)},ul=(u,h)=>{if(h.iconColor){u.style.color=h.iconColor,u.style.borderColor=h.iconColor;for(let v of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Mt(u,v,"background-color",h.iconColor);Mt(u,".swal2-success-ring","border-color",h.iconColor)}},xd=u=>`<div class="${m["icon-content"]}">${u}</div>`,Rd=(u,h)=>{let v=Fi();if(v){if(!h.imageUrl){vt(v);return}ct(v,""),v.setAttribute("src",h.imageUrl),v.setAttribute("alt",h.imageAlt||""),Yn(v,"width",h.imageWidth),Yn(v,"height",h.imageHeight),v.className=m.image,Wt(v,h,"image")}},Pd=(u,h)=>{let v=T(),b=N();if(!(!v||!b)){if(h.toast){Yn(v,"width",h.width),b.style.width="100%";let F=Ui();F&&b.insertBefore(F,S())}else Yn(b,"width",h.width);Yn(b,"padding",h.padding),h.color&&(b.style.color=h.color),h.background&&(b.style.background=h.background),vt(Li()),Md(b,h)}},Md=(u,h)=>{let v=h.showClass||{};u.className=`${m.popup} ${jt(u)?v.popup:""}`,h.toast?(Se([document.documentElement,document.body],m["toast-shown"]),Se(u,m.toast)):Se(u,m.modal),Wt(u,h,"popup"),typeof h.customClass=="string"&&Se(u,h.customClass),h.icon&&Se(u,m[`icon-${h.icon}`])},dl=(u,h)=>{let v=ti();if(!v)return;let{progressSteps:b,currentProgressStep:F}=h;if(!b||b.length===0||F===void 0){vt(v);return}ct(v),v.textContent="",F>=b.length&&V("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),b.forEach((W,be)=>{let Oe=hl(W);if(v.appendChild(Oe),be===F&&Se(Oe,m["active-progress-step"]),be!==b.length-1){let ot=Nd(h);v.appendChild(ot)}})},hl=u=>{let h=document.createElement("li");return Se(h,m["progress-step"]),Ut(h,u),h},Nd=u=>{let h=document.createElement("li");return Se(h,m["progress-step-line"]),u.progressStepsDistance&&Yn(h,"width",u.progressStepsDistance),h},Od=(u,h)=>{let v=ki();v&&(yt(v),wr(v,h.title||h.titleText,"block"),h.title&&Jn(h.title,v),h.titleText&&(v.innerText=h.titleText),Wt(v,h,"title"))},kd=(u,h)=>{Pd(u,h),jo(u,h),dl(u,h),Cg(u,h),Rd(u,h),Od(u,h),Cd(u,h),Td(u,h),Ed(u,h),Sd(u,h);let v=N();typeof h.didRender=="function"&&v&&h.didRender(v),s.eventEmitter.emit("didRender",v)},Dg=()=>jt(N()),fl=()=>{var u;return(u=gn())===null||u===void 0?void 0:u.click()},Fd=()=>{var u;return(u=Gt())===null||u===void 0?void 0:u.click()},Tg=()=>{var u;return(u=Vi())===null||u===void 0?void 0:u.click()},cn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Pn=u=>{u.keydownTarget&&u.keydownHandlerAdded&&(u.keydownTarget.removeEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!1)},sa=(u,h,v)=>{Pn(u),h.toast||(u.keydownHandler=b=>aa(h,b,v),u.keydownTarget=h.keydownListenerCapture?window:N(),u.keydownListenerCapture=h.keydownListenerCapture,u.keydownTarget.addEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!0)},Gi=(u,h)=>{var v;let b=ji();if(b.length){u=u+h,u===b.length?u=0:u===-1&&(u=b.length-1),b[u].focus();return}(v=N())===null||v===void 0||v.focus()},pl=["ArrowRight","ArrowDown"],Ye=["ArrowLeft","ArrowUp"],aa=(u,h,v)=>{u&&(h.isComposing||h.keyCode===229||(u.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?zo(h,u):h.key==="Tab"?qo(h):[...pl,...Ye].includes(h.key)?Sg(h.key):h.key==="Escape"&&Ld(h,u,v)))},zo=(u,h)=>{if(!Ne(h.allowEnterKey))return;let v=ta(N(),h.input);if(u.target&&v&&u.target instanceof HTMLElement&&u.target.outerHTML===v.outerHTML){if(["textarea","file"].includes(h.input))return;fl(),u.preventDefault()}},qo=u=>{let h=u.target,v=ji(),b=-1;for(let F=0;F<v.length;F++)if(h===v[F]){b=F;break}u.shiftKey?Gi(b,-1):Gi(b,1),u.stopPropagation(),u.preventDefault()},Sg=u=>{let h=Qn(),v=gn(),b=Gt(),F=Vi();if(!h||!v||!b||!F)return;let W=[v,b,F];if(document.activeElement instanceof HTMLElement&&!W.includes(document.activeElement))return;let be=pl.includes(u)?"nextElementSibling":"previousElementSibling",Oe=document.activeElement;if(Oe){for(let ot=0;ot<h.children.length;ot++){if(Oe=Oe[be],!Oe)return;if(Oe instanceof HTMLButtonElement&&jt(Oe))break}Oe instanceof HTMLButtonElement&&Oe.focus()}},Ld=(u,h,v)=>{Ne(h.allowEscapeKey)&&(u.preventDefault(),v(cn.esc))};var Wi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Ag=()=>{let u=T();Array.from(document.body.children).forEach(v=>{v.contains(u)||(v.hasAttribute("aria-hidden")&&v.setAttribute("data-previous-aria-hidden",v.getAttribute("aria-hidden")||""),v.setAttribute("aria-hidden","true"))})},Vd=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Ud=typeof window<"u"&&!!window.GestureEvent,Go=()=>{if(Ud&&!vn(document.body,m.iosfix)){let u=document.body.scrollTop;document.body.style.top=`${u*-1}px`,Se(document.body,m.iosfix),Er()}},Er=()=>{let u=T();if(!u)return;let h;u.ontouchstart=v=>{h=jd(v)},u.ontouchmove=v=>{h&&(v.preventDefault(),v.stopPropagation())}},jd=u=>{let h=u.target,v=T(),b=Xc();return!v||!b||Bd(u)||$d(u)?!1:h===v||!vd(v)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(vd(b)&&b.contains(h))},Bd=u=>u.touches&&u.touches.length&&u.touches[0].touchType==="stylus",$d=u=>u.touches&&u.touches.length>1,Ki=()=>{if(vn(document.body,m.iosfix)){let u=parseInt(document.body.style.top,10);yn(document.body,m.iosfix),document.body.style.top="",document.body.scrollTop=u*-1}},xg=()=>{let u=document.createElement("div");u.className=m["scrollbar-measure"],document.body.appendChild(u);let h=u.getBoundingClientRect().width-u.clientWidth;return document.body.removeChild(u),h},Qi=null,Rg=u=>{Qi===null&&(document.body.scrollHeight>window.innerHeight||u==="scroll")&&(Qi=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Qi+xg()}px`)},Ir=()=>{Qi!==null&&(document.body.style.paddingRight=`${Qi}px`,Qi=null)};function Hd(u,h,v,b){$i()?et(u,b):(l(v).then(()=>et(u,b)),Pn(s)),Ud?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),Bi()&&(Ir(),Ki(),Vd()),Pg()}function Pg(){yn([document.documentElement,document.body],[m.shown,m["height-auto"],m["no-backdrop"],m["toast-shown"]])}function ln(u){u=Wo(u);let h=Wi.swalPromiseResolve.get(this),v=ca(this);this.isAwaitingPromise?u.isDismissed||(Xn(this),h(u)):v&&h(u)}let ca=u=>{let h=N();if(!h)return!1;let v=Le.innerParams.get(u);if(!v||vn(h,v.hideClass.popup))return!1;yn(h,v.showClass.popup),Se(h,v.hideClass.popup);let b=T();return yn(b,v.showClass.backdrop),Se(b,v.hideClass.backdrop),zd(u,h,v),!0};function ml(u){let h=Wi.swalPromiseReject.get(this);Xn(this),h&&h(u)}let Xn=u=>{u.isAwaitingPromise&&(delete u.isAwaitingPromise,Le.innerParams.get(u)||u._destroy())},Wo=u=>typeof u>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},u),zd=(u,h,v)=>{var b;let F=T(),W=Hi(h);typeof v.willClose=="function"&&v.willClose(h),(b=s.eventEmitter)===null||b===void 0||b.emit("willClose",h),W?gl(u,h,F,v.returnFocus,v.didClose):Hd(u,F,v.returnFocus,v.didClose)},gl=(u,h,v,b,F)=>{s.swalCloseEventFinishedCallback=Hd.bind(null,u,v,b,F);let W=function(be){if(be.target===h){var Oe;(Oe=s.swalCloseEventFinishedCallback)===null||Oe===void 0||Oe.call(s),delete s.swalCloseEventFinishedCallback,h.removeEventListener("animationend",W),h.removeEventListener("transitionend",W)}};h.addEventListener("animationend",W),h.addEventListener("transitionend",W)},et=(u,h)=>{setTimeout(()=>{var v;typeof h=="function"&&h.bind(u.params)(),(v=s.eventEmitter)===null||v===void 0||v.emit("didClose"),u._destroy&&u._destroy()})},Yi=u=>{let h=N();if(h||new oh,h=N(),!h)return;let v=Ui();$i()?vt(S()):Mg(h,u),ct(v),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},Mg=(u,h)=>{let v=Qn(),b=Ui();!v||!b||(!h&&jt(gn())&&(h=gn()),ct(v),h&&(vt(h),b.setAttribute("data-button-to-replace",h.className),v.insertBefore(b,h)),Se([u,v],m.loading))},qd=(u,h)=>{h.input==="select"||h.input==="radio"?er(u,h):["text","email","number","tel","textarea"].some(v=>v===h.input)&&(ae(h.inputValue)||C(h.inputValue))&&(Yi(gn()),Qd(u,h))},Gd=(u,h)=>{let v=u.getInput();if(!v)return null;switch(h.input){case"checkbox":return Wd(v);case"radio":return la(v);case"file":return Kd(v);default:return h.inputAutoTrim?v.value.trim():v.value}},Wd=u=>u.checked?1:0,la=u=>u.checked?u.value:null,Kd=u=>u.files&&u.files.length?u.getAttribute("multiple")!==null?u.files:u.files[0]:null,er=(u,h)=>{let v=N();if(!v)return;let b=F=>{h.input==="select"?Ng(v,Qo(F),h):h.input==="radio"&&Ko(v,Qo(F),h)};ae(h.inputOptions)||C(h.inputOptions)?(Yi(gn()),R(h.inputOptions).then(F=>{u.hideLoading(),b(F)})):typeof h.inputOptions=="object"?b(h.inputOptions):$(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},Qd=(u,h)=>{let v=u.getInput();v&&(vt(v),R(h.inputValue).then(b=>{v.value=h.input==="number"?`${parseFloat(b)||0}`:`${b}`,ct(v),v.focus(),u.hideLoading()}).catch(b=>{$(`Error in inputValue promise: ${b}`),v.value="",ct(v),v.focus(),u.hideLoading()}))};function Ng(u,h,v){let b=_r(u,m.select);if(!b)return;let F=(W,be,Oe)=>{let ot=document.createElement("option");ot.value=Oe,Ut(ot,be),ot.selected=ua(Oe,v.inputValue),W.appendChild(ot)};h.forEach(W=>{let be=W[0],Oe=W[1];if(Array.isArray(Oe)){let ot=document.createElement("optgroup");ot.label=be,ot.disabled=!1,b.appendChild(ot),Oe.forEach(pa=>F(ot,pa[1],pa[0]))}else F(b,Oe,be)}),b.focus()}function Ko(u,h,v){let b=_r(u,m.radio);if(!b)return;h.forEach(W=>{let be=W[0],Oe=W[1],ot=document.createElement("input"),pa=document.createElement("label");ot.type="radio",ot.name=m.radio,ot.value=be,ua(be,v.inputValue)&&(ot.checked=!0);let kg=document.createElement("span");Ut(kg,Oe),kg.className=m.label,pa.appendChild(ot),pa.appendChild(kg),b.appendChild(pa)});let F=b.querySelectorAll("input");F.length&&F[0].focus()}let Qo=u=>{let h=[];return u instanceof Map?u.forEach((v,b)=>{let F=v;typeof F=="object"&&(F=Qo(F)),h.push([b,F])}):Object.keys(u).forEach(v=>{let b=u[v];typeof b=="object"&&(b=Qo(b)),h.push([v,b])}),h},ua=(u,h)=>!!h&&h.toString()===u.toString(),da=u=>{let h=Le.innerParams.get(u);u.disableButtons(),h.input?Zd(u,"confirm"):Yo(u,!0)},Yd=u=>{let h=Le.innerParams.get(u);u.disableButtons(),h.returnInputValueOnDeny?Zd(u,"deny"):ni(u,!1)},ha=(u,h)=>{u.disableButtons(),h(cn.cancel)},Zd=(u,h)=>{let v=Le.innerParams.get(u);if(!v.input){$(`The "input" parameter is needed to be set when using returnInputValueOn${j(h)}`);return}let b=u.getInput(),F=Gd(u,v);v.inputValidator?Jd(u,F,h):b&&!b.checkValidity()?(u.enableButtons(),u.showValidationMessage(v.validationMessage||b.validationMessage)):h==="deny"?ni(u,F):Yo(u,F)},Jd=(u,h,v)=>{let b=Le.innerParams.get(u);u.disableInput(),Promise.resolve().then(()=>R(b.inputValidator(h,b.validationMessage))).then(W=>{u.enableButtons(),u.enableInput(),W?u.showValidationMessage(W):v==="deny"?ni(u,h):Yo(u,h)})},ni=(u,h)=>{let v=Le.innerParams.get(u||void 0);v.showLoaderOnDeny&&Yi(Gt()),v.preDeny?(u.isAwaitingPromise=!0,Promise.resolve().then(()=>R(v.preDeny(h,v.validationMessage))).then(F=>{F===!1?(u.hideLoading(),Xn(u)):u.close({isDenied:!0,value:typeof F>"u"?h:F})}).catch(F=>yl(u||void 0,F))):u.close({isDenied:!0,value:h})},vl=(u,h)=>{u.close({isConfirmed:!0,value:h})},yl=(u,h)=>{u.rejectPromise(h)},Yo=(u,h)=>{let v=Le.innerParams.get(u||void 0);v.showLoaderOnConfirm&&Yi(),v.preConfirm?(u.resetValidationMessage(),u.isAwaitingPromise=!0,Promise.resolve().then(()=>R(v.preConfirm(h,v.validationMessage))).then(F=>{jt(Li())||F===!1?(u.hideLoading(),Xn(u)):vl(u,typeof F>"u"?h:F)}).catch(F=>yl(u||void 0,F))):vl(u,h)};function Zi(){let u=Le.innerParams.get(this);if(!u)return;let h=Le.domCache.get(this);vt(h.loader),$i()?u.icon&&ct(S()):Xd(h),yn([h.popup,h.actions],m.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let Xd=u=>{let h=u.popup.getElementsByClassName(u.loader.getAttribute("data-button-to-replace"));h.length?ct(h[0],"inline-block"):gd()&&vt(u.actions)};function Zo(){let u=Le.innerParams.get(this),h=Le.domCache.get(this);return h?ta(h.popup,u.input):null}function _l(u,h,v){let b=Le.domCache.get(u);h.forEach(F=>{b[F].disabled=v})}function wl(u,h){let v=N();if(!(!v||!u))if(u.type==="radio"){let b=v.querySelectorAll(`[name="${m.radio}"]`);for(let F=0;F<b.length;F++)b[F].disabled=h}else u.disabled=h}function Cr(){_l(this,["confirmButton","denyButton","cancelButton"],!1)}function bl(){_l(this,["confirmButton","denyButton","cancelButton"],!0)}function El(){wl(this.getInput(),!1)}function Il(){wl(this.getInput(),!0)}function Cl(u){let h=Le.domCache.get(this),v=Le.innerParams.get(this);Ut(h.validationMessage,u),h.validationMessage.className=m["validation-message"],v.customClass&&v.customClass.validationMessage&&Se(h.validationMessage,v.customClass.validationMessage),ct(h.validationMessage);let b=this.getInput();b&&(b.setAttribute("aria-invalid","true"),b.setAttribute("aria-describedby",m["validation-message"]),nl(b),Se(b,m.inputerror))}function Jo(){let u=Le.domCache.get(this);u.validationMessage&&vt(u.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),yn(h,m.inputerror))}let _t={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},eh=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],th={allowEnterKey:void 0},Ji=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],c=u=>Object.prototype.hasOwnProperty.call(_t,u),f=u=>eh.indexOf(u)!==-1,g=u=>th[u],_=u=>{c(u)||V(`Unknown parameter "${u}"`)},O=u=>{Ji.includes(u)&&V(`The parameter "${u}" is incompatible with toasts`)},U=u=>{let h=g(u);h&&ie(u,h)},z=u=>{u.backdrop===!1&&u.allowOutsideClick&&V('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in u)_(h),u.toast&&O(h),U(h)};function He(u){let h=N(),v=Le.innerParams.get(this);if(!h||vn(h,v.hideClass.popup)){V("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let b=St(u),F=Object.assign({},v,b);kd(this,F),Le.innerParams.set(this,F),Object.defineProperties(this,{params:{value:Object.assign({},this.params,u),writable:!1,enumerable:!0}})}let St=u=>{let h={};return Object.keys(u).forEach(v=>{f(v)?h[v]=u[v]:V(`Invalid parameter to update: ${v}`)}),h};function Me(){let u=Le.domCache.get(this),h=Le.innerParams.get(this);if(!h){At(this);return}u.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),s.eventEmitter.emit("didDestroy"),Nt(this)}let Nt=u=>{At(u),delete u.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},At=u=>{u.isAwaitingPromise?(Dr(Le,u),u.isAwaitingPromise=!0):(Dr(Wi,u),Dr(Le,u),delete u.isAwaitingPromise,delete u.disableButtons,delete u.enableButtons,delete u.getInput,delete u.disableInput,delete u.enableInput,delete u.hideLoading,delete u.disableLoading,delete u.showValidationMessage,delete u.resetValidationMessage,delete u.close,delete u.closePopup,delete u.closeModal,delete u.closeToast,delete u.rejectPromise,delete u.update,delete u._destroy)},Dr=(u,h)=>{for(let v in u)u[v].delete(h)};var _n=Object.freeze({__proto__:null,_destroy:Me,close:ln,closeModal:ln,closePopup:ln,closeToast:ln,disableButtons:bl,disableInput:Il,disableLoading:Zi,enableButtons:Cr,enableInput:El,getInput:Zo,handleAwaitingPromise:Xn,hideLoading:Zi,rejectPromise:ml,resetValidationMessage:Jo,showValidationMessage:Cl,update:He});let fa=(u,h,v)=>{u.toast?Dl(u,h,v):(qP(h),GP(h),WP(u,h,v))},Dl=(u,h,v)=>{h.popup.onclick=()=>{u&&(zP(u)||u.timer||u.input)||v(cn.close)}},zP=u=>!!(u.showConfirmButton||u.showDenyButton||u.showCancelButton||u.showCloseButton),nh=!1,qP=u=>{u.popup.onmousedown=()=>{u.container.onmouseup=function(h){u.container.onmouseup=()=>{},h.target===u.container&&(nh=!0)}}},GP=u=>{u.container.onmousedown=h=>{h.target===u.container&&h.preventDefault(),u.popup.onmouseup=function(v){u.popup.onmouseup=()=>{},(v.target===u.popup||v.target instanceof HTMLElement&&u.popup.contains(v.target))&&(nh=!0)}}},WP=(u,h,v)=>{h.container.onclick=b=>{if(nh){nh=!1;return}b.target===h.container&&Ne(u.allowOutsideClick)&&v(cn.backdrop)}},KP=u=>typeof u=="object"&&u.jquery,GE=u=>u instanceof Element||KP(u),QP=u=>{let h={};return typeof u[0]=="object"&&!GE(u[0])?Object.assign(h,u[0]):["title","html","icon"].forEach((v,b)=>{let F=u[b];typeof F=="string"||GE(F)?h[v]=F:F!==void 0&&$(`Unexpected type of ${v}! Expected "string" or "Element", got ${typeof F}`)}),h};function YP(){for(var u=arguments.length,h=new Array(u),v=0;v<u;v++)h[v]=arguments[v];return new this(...h)}function ZP(u){class h extends this{_main(b,F){return super._main(b,Object.assign({},u,F))}}return h}let JP=()=>s.timeout&&s.timeout.getTimerLeft(),WE=()=>{if(s.timeout)return yd(),s.timeout.stop()},KE=()=>{if(s.timeout){let u=s.timeout.start();return na(u),u}},XP=()=>{let u=s.timeout;return u&&(u.running?WE():KE())},eM=u=>{if(s.timeout){let h=s.timeout.increase(u);return na(h,!0),h}},tM=()=>!!(s.timeout&&s.timeout.isRunning()),QE=!1,Og={};function nM(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Og[u]=this,QE||(document.body.addEventListener("click",rM),QE=!0)}let rM=u=>{for(let h=u.target;h&&h!==document;h=h.parentNode)for(let v in Og){let b=h.getAttribute(v);if(b){Og[v].fire({template:b});return}}};class iM{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,v){let b=this._getHandlersByEventName(h);b.includes(v)||b.push(v)}once(h,v){var b=this;let F=function(){b.removeListener(h,F);for(var W=arguments.length,be=new Array(W),Oe=0;Oe<W;Oe++)be[Oe]=arguments[Oe];v.apply(b,be)};this.on(h,F)}emit(h){for(var v=arguments.length,b=new Array(v>1?v-1:0),F=1;F<v;F++)b[F-1]=arguments[F];this._getHandlersByEventName(h).forEach(W=>{try{W.apply(this,b)}catch(be){console.error(be)}})}removeListener(h,v){let b=this._getHandlersByEventName(h),F=b.indexOf(v);F>-1&&b.splice(F,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}s.eventEmitter=new iM;var oM=Object.freeze({__proto__:null,argsToParams:QP,bindClickHandler:nM,clickCancel:Tg,clickConfirm:fl,clickDeny:Fd,enableLoading:Yi,fire:YP,getActions:Qn,getCancelButton:Vi,getCloseButton:el,getConfirmButton:gn,getContainer:T,getDenyButton:Gt,getFocusableElements:ji,getFooter:pd,getHtmlContainer:Xc,getIcon:S,getIconContent:Kn,getImage:Fi,getInputLabel:Pt,getLoader:Ui,getPopup:N,getProgressSteps:ti,getTimerLeft:JP,getTimerProgressBar:yr,getTitle:ki,getValidationMessage:Li,increaseTimer:eM,isDeprecatedParameter:g,isLoading:tl,isTimerRunning:tM,isUpdatableParameter:f,isValidParameter:c,isVisible:Dg,mixin:ZP,off:(u,h)=>{if(!u){s.eventEmitter.reset();return}h?s.eventEmitter.removeListener(u,h):s.eventEmitter.removeAllListeners(u)},on:(u,h)=>{s.eventEmitter.on(u,h)},once:(u,h)=>{s.eventEmitter.once(u,h)},resumeTimer:KE,showLoading:Yi,stopTimer:WE,toggleTimer:XP});class sM{constructor(h,v){this.callback=h,this.remaining=v,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let v=this.running;return v&&this.stop(),this.remaining+=h,v&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let YE=["swal-title","swal-html","swal-footer"],aM=u=>{let h=typeof u.template=="string"?document.querySelector(u.template):u.template;if(!h)return{};let v=h.content;return mM(v),Object.assign(cM(v),lM(v),uM(v),dM(v),hM(v),fM(v),pM(v,YE))},cM=u=>{let h={};return Array.from(u.querySelectorAll("swal-param")).forEach(b=>{Xo(b,["name","value"]);let F=b.getAttribute("name"),W=b.getAttribute("value");!F||!W||(typeof _t[F]=="boolean"?h[F]=W!=="false":typeof _t[F]=="object"?h[F]=JSON.parse(W):h[F]=W)}),h},lM=u=>{let h={};return Array.from(u.querySelectorAll("swal-function-param")).forEach(b=>{let F=b.getAttribute("name"),W=b.getAttribute("value");!F||!W||(h[F]=new Function(`return ${W}`)())}),h},uM=u=>{let h={};return Array.from(u.querySelectorAll("swal-button")).forEach(b=>{Xo(b,["type","color","aria-label"]);let F=b.getAttribute("type");!F||!["confirm","cancel","deny"].includes(F)||(h[`${F}ButtonText`]=b.innerHTML,h[`show${j(F)}Button`]=!0,b.hasAttribute("color")&&(h[`${F}ButtonColor`]=b.getAttribute("color")),b.hasAttribute("aria-label")&&(h[`${F}ButtonAriaLabel`]=b.getAttribute("aria-label")))}),h},dM=u=>{let h={},v=u.querySelector("swal-image");return v&&(Xo(v,["src","width","height","alt"]),v.hasAttribute("src")&&(h.imageUrl=v.getAttribute("src")||void 0),v.hasAttribute("width")&&(h.imageWidth=v.getAttribute("width")||void 0),v.hasAttribute("height")&&(h.imageHeight=v.getAttribute("height")||void 0),v.hasAttribute("alt")&&(h.imageAlt=v.getAttribute("alt")||void 0)),h},hM=u=>{let h={},v=u.querySelector("swal-icon");return v&&(Xo(v,["type","color"]),v.hasAttribute("type")&&(h.icon=v.getAttribute("type")),v.hasAttribute("color")&&(h.iconColor=v.getAttribute("color")),h.iconHtml=v.innerHTML),h},fM=u=>{let h={},v=u.querySelector("swal-input");v&&(Xo(v,["type","label","placeholder","value"]),h.input=v.getAttribute("type")||"text",v.hasAttribute("label")&&(h.inputLabel=v.getAttribute("label")),v.hasAttribute("placeholder")&&(h.inputPlaceholder=v.getAttribute("placeholder")),v.hasAttribute("value")&&(h.inputValue=v.getAttribute("value")));let b=Array.from(u.querySelectorAll("swal-input-option"));return b.length&&(h.inputOptions={},b.forEach(F=>{Xo(F,["value"]);let W=F.getAttribute("value");if(!W)return;let be=F.innerHTML;h.inputOptions[W]=be})),h},pM=(u,h)=>{let v={};for(let b in h){let F=h[b],W=u.querySelector(F);W&&(Xo(W,[]),v[F.replace(/^swal-/,"")]=W.innerHTML.trim())}return v},mM=u=>{let h=YE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(u.children).forEach(v=>{let b=v.tagName.toLowerCase();h.includes(b)||V(`Unrecognized element <${b}>`)})},Xo=(u,h)=>{Array.from(u.attributes).forEach(v=>{h.indexOf(v.name)===-1&&V([`Unrecognized attribute "${v.name}" on <${u.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},ZE=10,gM=u=>{let h=T(),v=N();typeof u.willOpen=="function"&&u.willOpen(v),s.eventEmitter.emit("willOpen",v);let F=window.getComputedStyle(document.body).overflowY;_M(h,v,u),setTimeout(()=>{vM(h,v)},ZE),Bi()&&(yM(h,u.scrollbarPadding,F),Ag()),!$i()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof u.didOpen=="function"&&setTimeout(()=>u.didOpen(v)),s.eventEmitter.emit("didOpen",v),yn(h,m["no-transition"])},rh=u=>{let h=N();if(u.target!==h)return;let v=T();h.removeEventListener("animationend",rh),h.removeEventListener("transitionend",rh),v.style.overflowY="auto"},vM=(u,h)=>{Hi(h)?(u.style.overflowY="hidden",h.addEventListener("animationend",rh),h.addEventListener("transitionend",rh)):u.style.overflowY="auto"},yM=(u,h,v)=>{Go(),h&&v!=="hidden"&&Rg(v),setTimeout(()=>{u.scrollTop=0})},_M=(u,h,v)=>{Se(u,v.showClass.backdrop),v.animation?(h.style.setProperty("opacity","0","important"),ct(h,"grid"),setTimeout(()=>{Se(h,v.showClass.popup),h.style.removeProperty("opacity")},ZE)):ct(h,"grid"),Se([document.documentElement,document.body],m.shown),v.heightAuto&&v.backdrop&&!v.toast&&Se([document.documentElement,document.body],m["height-auto"])};var JE={email:(u,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(u)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(u,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(u)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function wM(u){u.inputValidator||(u.input==="email"&&(u.inputValidator=JE.email),u.input==="url"&&(u.inputValidator=JE.url))}function bM(u){(!u.target||typeof u.target=="string"&&!document.querySelector(u.target)||typeof u.target!="string"&&!u.target.appendChild)&&(V('Target parameter is not valid, defaulting to "body"'),u.target="body")}function EM(u){wM(u),u.showLoaderOnConfirm&&!u.preConfirm&&V(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),bM(u),typeof u.title=="string"&&(u.title=u.title.split(`
`).join("<br />")),sl(u)}let Tr;var ih=new WeakMap;class ft{constructor(){if(r(this,ih,void 0),typeof window>"u")return;Tr=this;for(var h=arguments.length,v=new Array(h),b=0;b<h;b++)v[b]=arguments[b];let F=Object.freeze(this.constructor.argsToParams(v));this.params=F,this.isAwaitingPromise=!1,i(ih,this,this._main(Tr.params))}_main(h){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(z(Object.assign({},v,h)),s.currentInstance){let W=Wi.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:be}=s.currentInstance;s.currentInstance._destroy(),be||W({isDismissed:!0}),Bi()&&Vd()}s.currentInstance=Tr;let b=CM(h,v);EM(b),Object.freeze(b),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let F=DM(Tr);return kd(Tr,b),Le.innerParams.set(Tr,b),IM(Tr,F,b)}then(h){return n(ih,this).then(h)}finally(h){return n(ih,this).finally(h)}}let IM=(u,h,v)=>new Promise((b,F)=>{let W=be=>{u.close({isDismissed:!0,dismiss:be})};Wi.swalPromiseResolve.set(u,b),Wi.swalPromiseReject.set(u,F),h.confirmButton.onclick=()=>{da(u)},h.denyButton.onclick=()=>{Yd(u)},h.cancelButton.onclick=()=>{ha(u,W)},h.closeButton.onclick=()=>{W(cn.close)},fa(v,h,W),sa(s,v,W),qd(u,v),gM(v),TM(s,v,W),SM(h,v),setTimeout(()=>{h.container.scrollTop=0})}),CM=(u,h)=>{let v=aM(u),b=Object.assign({},_t,h,v,u);return b.showClass=Object.assign({},_t.showClass,b.showClass),b.hideClass=Object.assign({},_t.hideClass,b.hideClass),b.animation===!1&&(b.showClass={backdrop:"swal2-noanimation"},b.hideClass={}),b},DM=u=>{let h={popup:N(),container:T(),actions:Qn(),confirmButton:gn(),denyButton:Gt(),cancelButton:Vi(),loader:Ui(),closeButton:el(),validationMessage:Li(),progressSteps:ti()};return Le.domCache.set(u,h),h},TM=(u,h,v)=>{let b=yr();vt(b),h.timer&&(u.timeout=new sM(()=>{v("timer"),delete u.timeout},h.timer),h.timerProgressBar&&(ct(b),Wt(b,h,"timerProgressBar"),setTimeout(()=>{u.timeout&&u.timeout.running&&na(h.timer)})))},SM=(u,h)=>{if(!h.toast){if(!Ne(h.allowEnterKey)){ie("allowEnterKey"),RM();return}AM(u)||xM(u,h)||Gi(-1,1)}},AM=u=>{let h=Array.from(u.popup.querySelectorAll("[autofocus]"));for(let v of h)if(v instanceof HTMLElement&&jt(v))return v.focus(),!0;return!1},xM=(u,h)=>h.focusDeny&&jt(u.denyButton)?(u.denyButton.focus(),!0):h.focusCancel&&jt(u.cancelButton)?(u.cancelButton.focus(),!0):h.focusConfirm&&jt(u.confirmButton)?(u.confirmButton.focus(),!0):!1,RM=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let u=new Date,h=localStorage.getItem("swal-initiation");h?(u.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let v=document.createElement("audio");v.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",v.loop=!0,document.body.appendChild(v),setTimeout(()=>{v.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${u}`)}ft.prototype.disableButtons=bl,ft.prototype.enableButtons=Cr,ft.prototype.getInput=Zo,ft.prototype.disableInput=Il,ft.prototype.enableInput=El,ft.prototype.hideLoading=Zi,ft.prototype.disableLoading=Zi,ft.prototype.showValidationMessage=Cl,ft.prototype.resetValidationMessage=Jo,ft.prototype.close=ln,ft.prototype.closePopup=ln,ft.prototype.closeModal=ln,ft.prototype.closeToast=ln,ft.prototype.rejectPromise=ml,ft.prototype.update=He,ft.prototype._destroy=Me,Object.assign(ft,oM),Object.keys(_n).forEach(u=>{ft[u]=function(){return Tr&&Tr[u]?Tr[u](...arguments):null}}),ft.DismissReason=cn,ft.version="11.14.5";let oh=ft;return oh.default=oh,oh});typeof jr<"u"&&jr.Sweetalert2&&(jr.swal=jr.sweetAlert=jr.Swal=jr.SweetAlert=jr.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function rI(t,e){return Object.is(t,e)}var xt=null,sh=!1,ah=1,ri=Symbol("SIGNAL");function Ve(t){let e=xt;return xt=t,e}function iI(){return xt}var Sl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ug(t){if(sh)throw new Error("");if(xt===null)return;xt.consumerOnSignalRead(t);let e=xt.nextProducerIndex++;if(dh(xt),e<xt.producerNode.length&&xt.producerNode[e]!==t&&Tl(xt)){let n=xt.producerNode[e];uh(n,xt.producerIndexOfThis[e])}xt.producerNode[e]!==t&&(xt.producerNode[e]=t,xt.producerIndexOfThis[e]=Tl(xt)?cI(t,xt,e):0),xt.producerLastReadVersion[e]=t.version}function BM(){ah++}function oI(t){if(!(Tl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ah)){if(!t.producerMustRecompute(t)&&!Bg(t)){t.dirty=!1,t.lastCleanEpoch=ah;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ah}}function sI(t){if(t.liveConsumerNode===void 0)return;let e=sh;sh=!0;try{for(let n of t.liveConsumerNode)n.dirty||$M(n)}finally{sh=e}}function aI(){return xt?.consumerAllowSignalWrites!==!1}function $M(t){t.dirty=!0,sI(t),t.consumerMarkedDirty?.(t)}function lh(t){return t&&(t.nextProducerIndex=0),Ve(t)}function jg(t,e){if(Ve(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Tl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)uh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Bg(t){dh(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(oI(n),r!==n.version))return!0}return!1}function $g(t){if(dh(t),Tl(t))for(let e=0;e<t.producerNode.length;e++)uh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function cI(t,e,n){if(lI(t),t.liveConsumerNode.length===0&&uI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=cI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function uh(t,e){if(lI(t),t.liveConsumerNode.length===1&&uI(t))for(let r=0;r<t.producerNode.length;r++)uh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];dh(i),i.producerIndexOfThis[r]=e}}function Tl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function dh(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function lI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function uI(t){return t.producerNode!==void 0}function dI(t){let e=Object.create(HM);e.computation=t;let n=()=>{if(oI(e),Ug(e),e.value===ch)throw e.error;return e.value};return n[ri]=e,n}var Lg=Symbol("UNSET"),Vg=Symbol("COMPUTING"),ch=Symbol("ERRORED"),HM=ge(G({},Sl),{value:Lg,dirty:!0,error:null,equal:rI,producerMustRecompute(t){return t.value===Lg||t.value===Vg},producerRecomputeValue(t){if(t.value===Vg)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Vg;let n=lh(t),r;try{r=t.computation()}catch(i){r=ch,t.error=i}finally{jg(t,n)}if(e!==Lg&&e!==ch&&r!==ch&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function zM(){throw new Error}var hI=zM;function fI(){hI()}function pI(t){hI=t}var qM=null;function mI(t){let e=Object.create(vI);e.value=t;let n=()=>(Ug(e),e.value);return n[ri]=e,n}function Hg(t,e){aI()||fI(),t.equal(t.value,e)||(t.value=e,GM(t))}function gI(t,e){aI()||fI(),Hg(t,e(t.value))}var vI=ge(G({},Sl),{equal:rI,value:void 0});function GM(t){t.version++,BM(),sI(t),qM?.()}function ve(t){return typeof t=="function"}function ma(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var hh=ma(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function es(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var lt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ve(r))try{r()}catch(o){e=o instanceof hh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{yI(o)}catch(s){e=e??[],s instanceof hh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new hh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)yI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&es(n,e)}remove(e){let{_finalizers:n}=this;n&&es(n,e),e instanceof t&&e._removeParent(this)}};lt.EMPTY=(()=>{let t=new lt;return t.closed=!0,t})();var zg=lt.EMPTY;function fh(t){return t instanceof lt||t&&"closed"in t&&ve(t.remove)&&ve(t.add)&&ve(t.unsubscribe)}function yI(t){ve(t)?t():t.unsubscribe()}var tr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ga={setTimeout(t,e,...n){let{delegate:r}=ga;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ga;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ph(t){ga.setTimeout(()=>{let{onUnhandledError:e}=tr;if(e)e(t);else throw t})}function Al(){}var _I=qg("C",void 0,void 0);function wI(t){return qg("E",void 0,t)}function bI(t){return qg("N",t,void 0)}function qg(t,e,n){return{kind:t,value:e,error:n}}var ts=null;function va(t){if(tr.useDeprecatedSynchronousErrorHandling){let e=!ts;if(e&&(ts={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ts;if(ts=null,n)throw r}}else t()}function EI(t){tr.useDeprecatedSynchronousErrorHandling&&ts&&(ts.errorThrown=!0,ts.error=t)}var ns=class extends lt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fh(e)&&e.add(this)):this.destination=QM}static create(e,n,r){return new ya(e,n,r)}next(e){this.isStopped?Wg(bI(e),this):this._next(e)}error(e){this.isStopped?Wg(wI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wg(_I,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},WM=Function.prototype.bind;function Gg(t,e){return WM.call(t,e)}var Kg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){mh(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){mh(r)}else mh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){mh(n)}}},ya=class extends ns{constructor(e,n,r){super();let i;if(ve(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&tr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gg(e.next,o),error:e.error&&Gg(e.error,o),complete:e.complete&&Gg(e.complete,o)}):i=e}this.destination=new Kg(i)}};function mh(t){tr.useDeprecatedSynchronousErrorHandling?EI(t):ph(t)}function KM(t){throw t}function Wg(t,e){let{onStoppedNotification:n}=tr;n&&ga.setTimeout(()=>n(t,e))}var QM={closed:!0,next:Al,error:KM,complete:Al};var _a=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wn(t){return t}function gh(...t){return Qg(t)}function Qg(t){return t.length===0?wn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=ZM(n)?n:new ya(n,r,i);return va(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=II(r),new r((i,o)=>{let s=new ya({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[_a](){return this}pipe(...n){return Qg(n)(this)}toPromise(n){return n=II(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function II(t){var e;return(e=t??tr.Promise)!==null&&e!==void 0?e:Promise}function YM(t){return t&&ve(t.next)&&ve(t.error)&&ve(t.complete)}function ZM(t){return t&&t instanceof ns||YM(t)&&fh(t)}function Yg(t){return ve(t?.lift)}function ke(t){return e=>{if(Yg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xe(t,e,n,r,i){return new Zg(t,e,n,r,i)}var Zg=class extends ns{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function wa(){return ke((t,e)=>{let n=null;t._refCount++;let r=xe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ba=class extends Ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Yg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new lt;let n=this.getSubject();e.add(this.source.subscribe(xe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=lt.EMPTY)}return e}refCount(){return wa()(this)}};var CI=ma(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ot=(()=>{class t extends Ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new vh(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new CI}next(n){va(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){va(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){va(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zg:(this.currentObservers=null,o.push(n),new lt(()=>{this.currentObservers=null,es(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Ae;return n.source=this,n}}return t.create=(e,n)=>new vh(e,n),t})(),vh=class extends Ot{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:zg}};var st=class extends Ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Jg={now(){return(Jg.delegate||Date).now()},delegate:void 0};var yh=class extends lt{constructor(e,n){super()}schedule(e,n=0){return this}};var xl={setInterval(t,e,...n){let{delegate:r}=xl;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=xl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ea=class extends yh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return xl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&xl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,es(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ia=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ia.now=Jg.now;var Ca=class extends Ia{constructor(e,n=Ia.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Xg=new Ca(Ea);var _h=class extends Ea{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var wh=class extends Ca{};var ev=new wh(_h);var bn=new Ae(t=>t.complete());function DI(t){return t&&ve(t.schedule)}function TI(t){return t[t.length-1]}function bh(t){return ve(TI(t))?t.pop():void 0}function eo(t){return DI(TI(t))?t.pop():void 0}function tv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(m){s(m)}}function l(p){try{d(r.throw(p))}catch(m){s(m)}}function d(p){p.done?o(p.value):i(p.value).then(a,l)}d((r=r.apply(t,e||[])).next())})}function SI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rs(t){return this instanceof rs?(this.v=t,this):new rs(t)}function xI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(I){return function(A){return Promise.resolve(A).then(I,m)}}function a(I,A){r[I]&&(i[I]=function(j){return new Promise(function(V,$){o.push([I,j,V,$])>1||l(I,j)})},A&&(i[I]=A(i[I])))}function l(I,A){try{d(r[I](A))}catch(j){y(o[0][3],j)}}function d(I){I.value instanceof rs?Promise.resolve(I.value.v).then(p,m):y(o[0][2],I)}function p(I){l("next",I)}function m(I){l("throw",I)}function y(I,A){I(A),o.shift(),o.length&&l(o[0][0],o[0][1])}}function RI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof SI=="function"?SI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var Eh=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ih(t){return ve(t?.then)}function Ch(t){return ve(t[_a])}function Dh(t){return Symbol.asyncIterator&&ve(t?.[Symbol.asyncIterator])}function Th(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function JM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Sh=JM();function Ah(t){return ve(t?.[Sh])}function xh(t){return xI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield rs(n.read());if(i)return yield rs(void 0);yield yield rs(r)}}finally{n.releaseLock()}})}function Rh(t){return ve(t?.getReader)}function wt(t){if(t instanceof Ae)return t;if(t!=null){if(Ch(t))return XM(t);if(Eh(t))return eN(t);if(Ih(t))return tN(t);if(Dh(t))return PI(t);if(Ah(t))return nN(t);if(Rh(t))return rN(t)}throw Th(t)}function XM(t){return new Ae(e=>{let n=t[_a]();if(ve(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function eN(t){return new Ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function tN(t){return new Ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ph)})}function nN(t){return new Ae(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function PI(t){return new Ae(e=>{iN(t,e).catch(n=>e.error(n))})}function rN(t){return PI(xh(t))}function iN(t,e){var n,r,i,o;return AI(this,void 0,void 0,function*(){try{for(n=RI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function un(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function to(t,e=0){return ke((n,r)=>{n.subscribe(xe(r,i=>un(r,t,()=>r.next(i),e),()=>un(r,t,()=>r.complete(),e),i=>un(r,t,()=>r.error(i),e)))})}function no(t,e=0){return ke((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function MI(t,e){return wt(t).pipe(no(e),to(e))}function NI(t,e){return wt(t).pipe(no(e),to(e))}function OI(t,e){return new Ae(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function kI(t,e){return new Ae(n=>{let r;return un(n,e,()=>{r=t[Sh](),un(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ve(r?.return)&&r.return()})}function Ph(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ae(n=>{un(n,e,()=>{let r=t[Symbol.asyncIterator]();un(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function FI(t,e){return Ph(xh(t),e)}function LI(t,e){if(t!=null){if(Ch(t))return MI(t,e);if(Eh(t))return OI(t,e);if(Ih(t))return NI(t,e);if(Dh(t))return Ph(t,e);if(Ah(t))return kI(t,e);if(Rh(t))return FI(t,e)}throw Th(t)}function tt(t,e){return e?LI(t,e):wt(t)}function pe(...t){let e=eo(t);return tt(t,e)}function Da(t,e){let n=ve(t)?t:()=>t,r=i=>i.error(n());return new Ae(e?i=>e.schedule(r,0,i):r)}function nv(t){return!!t&&(t instanceof Ae||ve(t.lift)&&ve(t.subscribe))}var ii=ma(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ye(t,e){return ke((n,r)=>{let i=0;n.subscribe(xe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:oN}=Array;function sN(t,e){return oN(e)?t(...e):t(e)}function Mh(t){return ye(e=>sN(t,e))}var{isArray:aN}=Array,{getPrototypeOf:cN,prototype:lN,keys:uN}=Object;function Nh(t){if(t.length===1){let e=t[0];if(aN(e))return{args:e,keys:null};if(dN(e)){let n=uN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function dN(t){return t&&typeof t=="object"&&cN(t)===lN}function Oh(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function kh(...t){let e=eo(t),n=bh(t),{args:r,keys:i}=Nh(t);if(r.length===0)return tt([],e);let o=new Ae(hN(r,e,i?s=>Oh(i,s):wn));return n?o.pipe(Mh(n)):o}function hN(t,e,n=wn){return r=>{VI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)VI(e,()=>{let d=tt(t[l],e),p=!1;d.subscribe(xe(r,m=>{o[l]=m,p||(p=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function VI(t,e,n){t?un(n,t,e):e()}function UI(t,e,n,r,i,o,s,a){let l=[],d=0,p=0,m=!1,y=()=>{m&&!l.length&&!d&&e.complete()},I=j=>d<r?A(j):l.push(j),A=j=>{o&&e.next(j),d++;let V=!1;wt(n(j,p++)).subscribe(xe(e,$=>{i?.($),o?I($):e.next($)},()=>{V=!0},void 0,()=>{if(V)try{for(d--;l.length&&d<r;){let $=l.shift();s?un(e,s,()=>A($)):A($)}y()}catch($){e.error($)}}))};return t.subscribe(xe(e,I,()=>{m=!0,y()})),()=>{a?.()}}function Rt(t,e,n=1/0){return ve(e)?Rt((r,i)=>ye((o,s)=>e(r,o,i,s))(wt(t(r,i))),n):(typeof e=="number"&&(n=e),ke((r,i)=>UI(r,i,t,n)))}function rv(t=1/0){return Rt(wn,t)}function jI(){return rv(1)}function Ta(...t){return jI()(tt(t,eo(t)))}function Fh(t){return new Ae(e=>{wt(t()).subscribe(e)})}function iv(...t){let e=bh(t),{args:n,keys:r}=Nh(t),i=new Ae(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let p=0;p<s;p++){let m=!1;wt(n[p]).subscribe(xe(o,y=>{m||(m=!0,d--),a[p]=y},()=>l--,void 0,()=>{(!l||!m)&&(d||o.next(r?Oh(r,a):a),o.complete())}))}});return e?i.pipe(Mh(e)):i}function dn(t,e){return ke((n,r)=>{let i=0;n.subscribe(xe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function ro(t){return ke((e,n)=>{let r=null,i=!1,o;r=e.subscribe(xe(n,void 0,void 0,s=>{o=wt(t(s,ro(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function BI(t,e,n,r,i){return(o,s)=>{let a=n,l=e,d=0;o.subscribe(xe(s,p=>{let m=d++;l=a?t(l,p,m):(a=!0,p),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Sa(t,e){return ve(e)?Rt(t,e,1):Rt(t,1)}function io(t){return ke((e,n)=>{let r=!1;e.subscribe(xe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function oi(t){return t<=0?()=>bn:ke((e,n)=>{let r=0;e.subscribe(xe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ov(t){return ye(()=>t)}function Lh(t=fN){return ke((e,n)=>{let r=!1;e.subscribe(xe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function fN(){return new ii}function Rl(t){return ke((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Sr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?dn((i,o)=>t(i,o,r)):wn,oi(1),n?io(e):Lh(()=>new ii))}function Aa(t){return t<=0?()=>bn:ke((e,n)=>{let r=[];e.subscribe(xe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function sv(t,e){let n=arguments.length>=2;return r=>r.pipe(t?dn((i,o)=>t(i,o,r)):wn,Aa(1),n?io(e):Lh(()=>new ii))}function Vh(t,e){return ke(BI(t,e,arguments.length>=2,!0))}function Uh(...t){let e=eo(t);return ke((n,r)=>{(e?Ta(t,n,e):Ta(t,n)).subscribe(r)})}function nr(t,e){return ke((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(xe(r,l=>{i?.unsubscribe();let d=0,p=o++;wt(t(l,p)).subscribe(i=xe(r,m=>r.next(e?e(l,m,p,d++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function av(t){return ke((e,n)=>{wt(t).subscribe(xe(n,()=>n.complete(),Al)),!n.closed&&e.subscribe(n)})}function pt(t,e,n){let r=ve(t)||e||n?{next:t,error:e,complete:n}:t;return r?ke((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(xe(o,l=>{var d;(d=r.next)===null||d===void 0||d.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,l),o.error(l)},()=>{var l,d;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):wn}var TC="https://g.co/ng/security#xss",ce=class extends Error{constructor(e,n){super(cy(e,n)),this.code=e}};function cy(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Bl(t){return{toString:t}.toString()}var jh="__parameters__";function pN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function SC(t,e,n){return Bl(()=>{let r=pN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,d,p){let m=l.hasOwnProperty(jh)?l[jh]:Object.defineProperty(l,jh,{value:[]})[jh];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ze(t){for(let e in t)if(t[e]===Ze)return e;throw Error("Could not find renamed property on target object.")}function mN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function nn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(nn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function $I(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var gN=Ze({__forward_ref__:Ze});function En(t){return t.__forward_ref__=En,t.toString=function(){return nn(this())},t}function tn(t){return AC(t)?t():t}function AC(t){return typeof t=="function"&&t.hasOwnProperty(gN)&&t.__forward_ref__===En}function oe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function sr(t){return{providers:t.providers||[],imports:t.imports||[]}}function bf(t){return HI(t,RC)||HI(t,PC)}function xC(t){return bf(t)!==null}function HI(t,e){return t.hasOwnProperty(e)?t[e]:null}function vN(t){let e=t&&(t[RC]||t[PC]);return e||null}function zI(t){return t&&(t.hasOwnProperty(qI)||t.hasOwnProperty(yN))?t[qI]:null}var RC=Ze({\u0275prov:Ze}),qI=Ze({\u0275inj:Ze}),PC=Ze({ngInjectableDef:Ze}),yN=Ze({ngInjectorDef:Ze}),te=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=oe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function MC(t){return t&&!!t.\u0275providers}var _N=Ze({\u0275cmp:Ze}),wN=Ze({\u0275dir:Ze}),bN=Ze({\u0275pipe:Ze}),EN=Ze({\u0275mod:Ze}),Qh=Ze({\u0275fac:Ze}),Nl=Ze({__NG_ELEMENT_ID__:Ze}),GI=Ze({__NG_ENV_ID__:Ze});function is(t){return typeof t=="string"?t:t==null?"":String(t)}function IN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():is(t)}function CN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ce(-200,t)}function ly(t,e){throw new ce(-201,!1)}var Ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ee||{}),bv;function NC(){return bv}function hn(t){let e=bv;return bv=t,e}function OC(t,e,n){let r=bf(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Ee.Optional)return null;if(e!==void 0)return e;ly(t,"Injector")}var DN={},Ol=DN,Ev="__NG_DI_FLAG__",Yh="ngTempTokenPath",TN="ngTokenPath",SN=/\n/gm,AN="\u0275",WI="__source",Ma;function xN(){return Ma}function oo(t){let e=Ma;return Ma=t,e}function RN(t,e=Ee.Default){if(Ma===void 0)throw new ce(-203,!1);return Ma===null?OC(t,void 0,e):Ma.get(t,e&Ee.Optional?null:void 0,e)}function le(t,e=Ee.Default){return(NC()||RN)(tn(t),e)}function Y(t,e=Ee.Default){return le(t,Ef(e))}function Ef(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Iv(t){let e=[];for(let n=0;n<t.length;n++){let r=tn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ce(900,!1);let i,o=Ee.Default;for(let s=0;s<r.length;s++){let a=r[s],l=PN(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(le(i,o))}else e.push(le(r))}return e}function kC(t,e){return t[Ev]=e,t.prototype[Ev]=e,t}function PN(t){return t[Ev]}function MN(t,e,n,r){let i=t[Yh];throw e[WI]&&i.unshift(e[WI]),t.message=NN(`
`+t.message,i,n,r),t[TN]=i,t[Yh]=null,t}function NN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==AN?t.slice(2):t;let i=nn(e);if(Array.isArray(e))i=e.map(nn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):nn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(SN,`
  `)}`}var bt=kC(SC("Optional"),8);var FC=kC(SC("SkipSelf"),4);function ss(t,e){let n=t.hasOwnProperty(Qh);return n?t[Qh]:null}function uy(t,e){t.forEach(n=>Array.isArray(n)?uy(n,e):e(n))}function LC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ON(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function kN(t,e,n){let r=$l(t,e);return r>=0?t[r|1]=n:(r=~r,ON(t,r,e,n)),r}function cv(t,e){let n=$l(t,e);if(n>=0)return t[n|1]}function $l(t,e){return FN(t,e,1)}function FN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Oa={},Mn=[],ka=new te(""),VC=new te("",-1),UC=new te(""),Jh=class{get(e,n=Ol){if(n===Ol){let r=new Error(`NullInjectorError: No provider for ${nn(e)}!`);throw r.name="NullInjectorError",r}return n}},jC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(jC||{}),Rr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Rr||{}),co=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(co||{});function LN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Cv(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];UN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function VN(t){return t===3||t===4||t===6}function UN(t){return t.charCodeAt(0)===64}function kl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?KI(t,n,i,null,e[++r]):KI(t,n,i,null,null))}}return t}function KI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var BC="ng-template";function jN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&LN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(dy(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function dy(t){return t.type===4&&t.value!==BC}function BN(t,e,n){let r=t.type===4&&!n?BC:t.value;return e===r}function $N(t,e,n){let r=4,i=t.attrs,o=i!==null?qN(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!rr(r)&&!rr(l))return!1;if(s&&rr(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!BN(t,l,n)||l===""&&e.length===1){if(rr(r))return!1;s=!0}}else if(r&8){if(i===null||!jN(t,i,l,n)){if(rr(r))return!1;s=!0}}else{let d=e[++a],p=HN(l,i,dy(t),n);if(p===-1){if(rr(r))return!1;s=!0;continue}if(d!==""){let m;if(p>o?m="":m=i[p+1].toLowerCase(),r&2&&d!==m){if(rr(r))return!1;s=!0}}}}return rr(r)||s}function rr(t){return(t&1)===0}function HN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return GN(e,t)}function zN(t,e,n=!1){for(let r=0;r<e.length;r++)if($N(t,e[r],n))return!0;return!1}function qN(t){for(let e=0;e<t.length;e++){let n=t[e];if(VN(n))return e}return t.length}function GN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function QI(t,e){return t?":not("+e.trim()+")":e}function WN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!rr(s)&&(e+=QI(o,i),i=""),r=s,o=o||!rr(r);n++}return i!==""&&(e+=QI(o,i)),e}function KN(t){return t.map(WN).join(",")}function QN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!rr(i))break;i=o}r++}return{attrs:e,classes:n}}function ze(t){return Bl(()=>{let e=GC(t),n=ge(G({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===jC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Rr.Emulated,styles:t.styles||Mn,_:null,schemas:t.schemas||null,tView:null,id:""});WC(n);let r=t.dependencies;return n.directiveDefs=ZI(r,!1),n.pipeDefs=ZI(r,!0),n.id=JN(n),n})}function YN(t){return as(t)||$C(t)}function ZN(t){return t!==null}function ar(t){return Bl(()=>({type:t.type,bootstrap:t.bootstrap||Mn,declarations:t.declarations||Mn,imports:t.imports||Mn,exports:t.exports||Mn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function YI(t,e){if(t==null)return Oa;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=co.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==co.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ge(t){return Bl(()=>{let e=GC(t);return WC(e),e})}function hy(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function as(t){return t[_N]||null}function $C(t){return t[wN]||null}function HC(t){return t[bN]||null}function zC(t){let e=as(t)||$C(t)||HC(t);return e!==null?e.standalone:!1}function qC(t,e){let n=t[EN]||null;if(!n&&e===!0)throw new Error(`Type ${nn(t)} does not have '\u0275mod' property.`);return n}function GC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Oa,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Mn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:YI(t.inputs,e),outputs:YI(t.outputs),debugInfo:null}}function WC(t){t.features?.forEach(e=>e(t))}function ZI(t,e){if(!t)return null;let n=e?HC:YN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(ZN)}function JN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ln(t){return{\u0275providers:t}}function XN(...t){return{\u0275providers:KC(!0,t),\u0275fromNgModule:!0}}function KC(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return uy(e,s=>{let a=s;Dv(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&QC(i,o),n}function QC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];fy(i,o=>{e(o,r)})}}function Dv(t,e,n,r){if(t=tn(t),!t)return!1;let i=null,o=zI(t),s=!o&&as(t);if(!o&&!s){let l=t.ngModule;if(o=zI(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)Dv(d,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{uy(o.imports,p=>{Dv(p,e,n,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&QC(d,e)}if(!a){let d=ss(i)||(()=>new i);e({provide:i,useFactory:d,deps:Mn},i),e({provide:UC,useValue:i,multi:!0},i),e({provide:ka,useValue:()=>le(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let d=t;fy(l,p=>{e(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function fy(t,e){for(let n of t)MC(n)&&(n=n.\u0275providers),Array.isArray(n)?fy(n,e):e(n)}var eO=Ze({provide:String,useValue:Ze});function YC(t){return t!==null&&typeof t=="object"&&eO in t}function tO(t){return!!(t&&t.useExisting)}function nO(t){return!!(t&&t.useFactory)}function Fa(t){return typeof t=="function"}function rO(t){return!!t.useClass}var If=new te(""),zh={},iO={},lv;function py(){return lv===void 0&&(lv=new Jh),lv}var kn=class{},Fl=class extends kn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sv(e,s=>this.processProvider(s)),this.records.set(VC,xa(void 0,this)),i.has("environment")&&this.records.set(kn,xa(void 0,this));let o=this.records.get(If);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(UC,Mn,Ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=oo(this),r=hn(void 0),i;try{return e()}finally{oo(n),hn(r)}}get(e,n=Ol,r=Ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(GI))return e[GI](this);r=Ef(r);let i,o=oo(this),s=hn(void 0);try{if(!(r&Ee.SkipSelf)){let l=this.records.get(e);if(l===void 0){let d=lO(e)&&bf(e);d&&this.injectableDefInScope(d)?l=xa(Tv(e),zh):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&Ee.Self?py():this.parent;return n=r&Ee.Optional&&n===Ol?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Yh]=a[Yh]||[]).unshift(nn(e)),o)throw a;return MN(a,e,"R3InjectorError",this.source)}else throw a}finally{hn(s),oo(o)}}resolveInjectorInitializers(){let e=Ve(null),n=oo(this),r=hn(void 0),i;try{let o=this.get(ka,Mn,Ee.Self);for(let s of o)s()}finally{oo(n),hn(r),Ve(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(nn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(e){e=tn(e);let n=Fa(e)?e:tn(e&&e.provide),r=sO(e);if(!Fa(e)&&e.multi===!0){let i=this.records.get(n);i||(i=xa(void 0,zh,!0),i.factory=()=>Iv(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ve(null);try{return n.value===zh&&(n.value=iO,n.value=n.factory()),typeof n.value=="object"&&n.value&&cO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=tn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Tv(t){let e=bf(t),n=e!==null?e.factory:ss(t);if(n!==null)return n;if(t instanceof te)throw new ce(204,!1);if(t instanceof Function)return oO(t);throw new ce(204,!1)}function oO(t){if(t.length>0)throw new ce(204,!1);let n=vN(t);return n!==null?()=>n.factory(t):()=>new t}function sO(t){if(YC(t))return xa(void 0,t.useValue);{let e=ZC(t);return xa(e,zh)}}function ZC(t,e,n){let r;if(Fa(t)){let i=tn(t);return ss(i)||Tv(i)}else if(YC(t))r=()=>tn(t.useValue);else if(nO(t))r=()=>t.useFactory(...Iv(t.deps||[]));else if(tO(t))r=()=>le(tn(t.useExisting));else{let i=tn(t&&(t.useClass||t.provide));if(aO(t))r=()=>new i(...Iv(t.deps));else return ss(i)||Tv(i)}return r}function xa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function aO(t){return!!t.deps}function cO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function lO(t){return typeof t=="function"||typeof t=="object"&&t instanceof te}function Sv(t,e){for(let n of t)Array.isArray(n)?Sv(n,e):n&&MC(n)?Sv(n.\u0275providers,e):e(n)}function ui(t,e){t instanceof Fl&&t.assertNotDestroyed();let n,r=oo(t),i=hn(void 0);try{return e()}finally{oo(r),hn(i)}}function uO(){return NC()!==void 0||xN()!=null}function dO(t){return typeof t=="function"}var di=0,Te=1,fe=2,rn=3,ir=4,cr=5,Xh=6,ef=7,or=8,La=9,Pr=10,mt=11,Ll=12,JI=13,Ga=14,Mr=15,Va=16,Ra=17,Ua=18,Cf=19,JC=20,so=21,uv=22,Nn=23,Fn=25,XC=1;var cs=7,tf=8,nf=9,On=10,rf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(rf||{});function ao(t){return Array.isArray(t)&&typeof t[XC]=="object"}function hi(t){return Array.isArray(t)&&t[XC]===!0}function my(t){return(t.flags&4)!==0}function Df(t){return t.componentOffset>-1}function Tf(t){return(t.flags&1)===1}function lo(t){return!!t.template}function Av(t){return(t[fe]&512)!==0}var xv=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function eD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function fi(){return tD}function tD(t){return t.type.prototype.ngOnChanges&&(t.setInput=fO),hO}fi.ngInherit=!0;function hO(){let t=rD(this),e=t?.current;if(e){let n=t.previous;if(n===Oa)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function fO(t,e,n,r,i){let o=this.declaredInputs[r],s=rD(t)||pO(t,{previous:Oa,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new xv(d&&d.currentValue,n,l===Oa),eD(t,e,i,n)}var nD="__ngSimpleChanges__";function rD(t){return t[nD]||null}function pO(t,e){return t[nD]=e}var XI=null;var Ar=function(t,e,n){XI?.(t,e,n)},mO="svg",gO="math";function Nr(t){for(;Array.isArray(t);)t=t[di];return t}function iD(t,e){return Nr(e[t])}function Vn(t,e){return Nr(e[t.index])}function oD(t,e){return t.data[e]}function sD(t,e){return t[e]}function fo(t,e){let n=e[t];return ao(n)?n:n[di]}function gy(t){return(t[fe]&128)===128}function vO(t){return hi(t[rn])}function ja(t,e){return e==null?null:t[e]}function aD(t){t[Ra]=0}function cD(t){t[fe]&1024||(t[fe]|=1024,gy(t)&&Af(t))}function yO(t,e){for(;t>0;)e=e[Ga],t--;return e}function Sf(t){return!!(t[fe]&9216||t[Nn]?.dirty)}function Rv(t){t[Pr].changeDetectionScheduler?.notify(8),t[fe]&64&&(t[fe]|=1024),Sf(t)&&Af(t)}function Af(t){t[Pr].changeDetectionScheduler?.notify(0);let e=ls(t);for(;e!==null&&!(e[fe]&8192||(e[fe]|=8192,!gy(e)));)e=ls(e)}function lD(t,e){if((t[fe]&256)===256)throw new ce(911,!1);t[so]===null&&(t[so]=[]),t[so].push(e)}function _O(t,e){if(t[so]===null)return;let n=t[so].indexOf(e);n!==-1&&t[so].splice(n,1)}function ls(t){let e=t[rn];return hi(e)?e[rn]:e}var Ie={lFrame:wD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var uD=!1;function wO(){return Ie.lFrame.elementDepthCount}function bO(){Ie.lFrame.elementDepthCount++}function EO(){Ie.lFrame.elementDepthCount--}function dD(){return Ie.bindingsEnabled}function IO(){return Ie.skipHydrationRootTNode!==null}function CO(t){return Ie.skipHydrationRootTNode===t}function DO(){Ie.skipHydrationRootTNode=null}function $e(){return Ie.lFrame.lView}function Bt(){return Ie.lFrame.tView}function Ce(t){return Ie.lFrame.contextLView=t,t[or]}function De(t){return Ie.lFrame.contextLView=null,t}function on(){let t=hD();for(;t!==null&&t.type===64;)t=t.parent;return t}function hD(){return Ie.lFrame.currentTNode}function TO(){let t=Ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ps(t,e){let n=Ie.lFrame;n.currentTNode=t,n.isParent=e}function vy(){return Ie.lFrame.isParent}function fD(){Ie.lFrame.isParent=!1}function SO(){return Ie.lFrame.contextLView}function pD(){return uD}function eC(t){uD=t}function mD(){let t=Ie.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function AO(){return Ie.lFrame.bindingIndex}function xO(t){return Ie.lFrame.bindingIndex=t}function xf(){return Ie.lFrame.bindingIndex++}function gD(t){let e=Ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function RO(){return Ie.lFrame.inI18n}function PO(t,e){let n=Ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,Pv(e)}function MO(){return Ie.lFrame.currentDirectiveIndex}function Pv(t){Ie.lFrame.currentDirectiveIndex=t}function NO(t){let e=Ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function vD(t){Ie.lFrame.currentQueryIndex=t}function OO(t){let e=t[Te];return e.type===2?e.declTNode:e.type===1?t[cr]:null}function yD(t,e,n){if(n&Ee.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Ee.Host);)if(i=OO(o),i===null||(o=o[Ga],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Ie.lFrame=_D();return r.currentTNode=e,r.lView=t,!0}function yy(t){let e=_D(),n=t[Te];Ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _D(){let t=Ie.lFrame,e=t===null?null:t.child;return e===null?wD(t):e}function wD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function bD(){let t=Ie.lFrame;return Ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ED=bD;function _y(){let t=bD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function kO(t){return(Ie.lFrame.contextLView=yO(t,Ie.lFrame.contextLView))[or]}function ms(){return Ie.lFrame.selectedIndex}function us(t){Ie.lFrame.selectedIndex=t}function Rf(){let t=Ie.lFrame;return oD(t.tView,t.selectedIndex)}function FO(){return Ie.lFrame.currentNamespace}var ID=!0;function Pf(){return ID}function Mf(t){ID=t}function LO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=tD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Nf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function qh(t,e,n){CD(t,e,3,n)}function Gh(t,e,n,r){(t[fe]&3)===n&&CD(t,e,n,r)}function dv(t,e){let n=t[fe];(n&3)===e&&(n&=16383,n+=1,t[fe]=n)}function CD(t,e,n,r){let i=r!==void 0?t[Ra]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Ra]+=65536),(a<o||o==-1)&&(VO(t,n,e,l),t[Ra]=(t[Ra]&4294901760)+l+2),l++}function tC(t,e){Ar(4,t,e);let n=Ve(null);try{e.call(t)}finally{Ve(n),Ar(5,t,e)}}function VO(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[fe]>>14<t[Ra]>>16&&(t[fe]&3)===e&&(t[fe]+=16384,tC(a,o)):tC(a,o)}var Na=-1,ds=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function UO(t){return t instanceof ds}function jO(t){return(t.flags&8)!==0}function BO(t){return(t.flags&16)!==0}var hv={},Mv=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ef(r);let i=this.injector.get(e,hv,r);return i!==hv||n===hv?i:this.parentInjector.get(e,n,r)}};function DD(t){return t!==Na}function of(t){return t&32767}function $O(t){return t>>16}function sf(t,e){let n=$O(t),r=e;for(;n>0;)r=r[Ga],n--;return r}var Nv=!0;function af(t){let e=Nv;return Nv=t,e}var HO=256,TD=HO-1,SD=5,zO=0,xr={};function qO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Nl)&&(r=n[Nl]),r==null&&(r=n[Nl]=zO++);let i=r&TD,o=1<<i;e.data[t+(i>>SD)]|=o}function cf(t,e){let n=AD(t,e);if(n!==-1)return n;let r=e[Te];r.firstCreatePass&&(t.injectorIndex=e.length,fv(r.data,t),fv(e,null),fv(r.blueprint,null));let i=wy(t,e),o=t.injectorIndex;if(DD(i)){let s=of(i),a=sf(i,e),l=a[Te].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|l[s+d]}return e[o+8]=i,o}function fv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function AD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function wy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=ND(i),r===null)return Na;if(n++,i=i[Ga],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Na}function Ov(t,e,n){qO(t,e,n)}function xD(t,e,n){if(n&Ee.Optional||t!==void 0)return t;ly(e,"NodeInjector")}function RD(t,e,n,r){if(n&Ee.Optional&&r===void 0&&(r=null),!(n&(Ee.Self|Ee.Host))){let i=t[La],o=hn(void 0);try{return i?i.get(e,r,n&Ee.Optional):OC(e,r,n&Ee.Optional)}finally{hn(o)}}return xD(r,e,n)}function PD(t,e,n,r=Ee.Default,i){if(t!==null){if(e[fe]&2048&&!(r&Ee.Self)){let s=YO(t,e,n,r,xr);if(s!==xr)return s}let o=MD(t,e,n,r,xr);if(o!==xr)return o}return RD(e,n,r,i)}function MD(t,e,n,r,i){let o=KO(n);if(typeof o=="function"){if(!yD(e,t,r))return r&Ee.Host?xD(i,n,r):RD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Ee.Optional))ly(n);else return s}finally{ED()}}else if(typeof o=="number"){let s=null,a=AD(t,e),l=Na,d=r&Ee.Host?e[Mr][cr]:null;for((a===-1||r&Ee.SkipSelf)&&(l=a===-1?wy(t,e):e[a+8],l===Na||!rC(r,!1)?a=-1:(s=e[Te],a=of(l),e=sf(l,e)));a!==-1;){let p=e[Te];if(nC(o,a,p.data)){let m=GO(a,e,n,s,r,d);if(m!==xr)return m}l=e[a+8],l!==Na&&rC(r,e[Te].data[a+8]===d)&&nC(o,a,e)?(s=p,a=of(l),e=sf(l,e)):a=-1}}return i}function GO(t,e,n,r,i,o){let s=e[Te],a=s.data[t+8],l=r==null?Df(a)&&Nv:r!=s&&(a.type&3)!==0,d=i&Ee.Host&&o===a,p=WO(a,s,n,l,d);return p!==null?Ba(e,s,p,a):xr}function WO(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,d=t.directiveEnd,p=o>>20,m=r?a:a+p,y=i?a+p:d;for(let I=m;I<y;I++){let A=s[I];if(I<l&&n===A||I>=l&&A.type===n)return I}if(i){let I=s[l];if(I&&lo(I)&&I.type===n)return l}return null}function Ba(t,e,n,r){let i=t[n],o=e.data;if(UO(i)){let s=i;s.resolving&&CN(IN(o[n]));let a=af(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?hn(s.injectImpl):null,p=yD(t,r,Ee.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&LO(n,o[n],e)}finally{d!==null&&hn(d),af(a),s.resolving=!1,ED()}}return i}function KO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Nl)?t[Nl]:void 0;return typeof e=="number"?e>=0?e&TD:QO:e}function nC(t,e,n){let r=1<<t;return!!(n[e+(t>>SD)]&r)}function rC(t,e){return!(t&Ee.Self)&&!(t&Ee.Host&&e)}var os=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return PD(this._tNode,this._lView,e,Ef(r),n)}};function QO(){return new os(on(),$e())}function pi(t){return Bl(()=>{let e=t.prototype.constructor,n=e[Qh]||kv(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Qh]||kv(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function kv(t){return AC(t)?()=>{let e=kv(tn(t));return e&&e()}:ss(t)}function YO(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[fe]&2048&&!(s[fe]&512);){let a=MD(o,s,n,r|Ee.Self,xr);if(a!==xr)return a;let l=o.parent;if(!l){let d=s[JC];if(d){let p=d.get(n,xr,r);if(p!==xr)return p}l=ND(s),s=s[Ga]}o=l}return i}function ND(t){let e=t[Te],n=e.type;return n===2?e.declTNode:n===1?t[cr]:null}function iC(t,e=null,n=null,r){let i=OD(t,e,n,r);return i.resolveInjectorInitializers(),i}function OD(t,e=null,n=null,r,i=new Set){let o=[n||Mn,XN(t)];return r=r||(typeof t=="object"?void 0:nn(t)),new Fl(o,e||py(),r||null,i)}var Kt=class t{static{this.THROW_IF_NOT_FOUND=Ol}static{this.NULL=new Jh}static create(e,n){if(Array.isArray(e))return iC({name:""},n,e,"");{let r=e.name??"";return iC({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=oe({token:t,providedIn:"any",factory:()=>le(VC)})}static{this.__NG_ELEMENT_ID__=-1}};var ZO=new te("");ZO.__NG_ELEMENT_ID__=t=>{let e=on();if(e===null)throw new ce(204,!1);if(e.type&2)return e.value;if(t&Ee.Optional)return null;throw new ce(204,!1)};var JO="ngOriginalError";function pv(t){return t[JO]}var kD=!0,FD=(()=>{class t{static{this.__NG_ELEMENT_ID__=XO}static{this.__NG_ENV_ID__=n=>n}}return t})(),Fv=class extends FD{constructor(e){super(),this._lView=e}onDestroy(e){return lD(this._lView,e),()=>_O(this._lView,e)}};function XO(){return new Fv($e())}var Wa=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new st(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Lv=class extends Ot{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,uO()&&(this.destroyRef=Y(FD,{optional:!0})??void 0,this.pendingTasks=Y(Wa,{optional:!0})??void 0)}emit(e){let n=Ve(null);try{super.next(e)}finally{Ve(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof lt&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ue=Lv;function lf(...t){}function LD(t){let e,n;function r(){t=lf;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function oC(t){return queueMicrotask(()=>t()),()=>{t=lf}}var by="isAngularZone",uf=by+"_ID",ek=0,je=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ue(!1),this.onMicrotaskEmpty=new Ue(!1),this.onStable=new Ue(!1),this.onError=new Ue(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=kD}=e;if(typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,rk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(by)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ce(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,tk,lf,lf);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},tk={};function Ey(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nk(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){LD(()=>{t.callbackScheduled=!1,Vv(t),t.isCheckStableRunning=!0,Ey(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Vv(t)}function rk(t){let e=()=>{nk(t)},n=ek++;t._inner=t._inner.fork({name:"angular",properties:{[by]:!0,[uf]:n,[uf+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(ik(l))return r.invokeTask(o,s,a,l);try{return sC(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),aC(t)}},onInvoke:(r,i,o,s,a,l,d)=>{try{return sC(t),r.invoke(o,s,a,l,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!ok(l)&&e(),aC(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Vv(t),Ey(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Vv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function sC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function aC(t){t._nesting--,Ey(t)}var Uv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ue,this.onMicrotaskEmpty=new Ue,this.onStable=new Ue,this.onError=new Ue}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function ik(t){return VD(t,"__ignore_ng_zone__")}function ok(t){return VD(t,"__scheduler_tick__")}function VD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var si=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&pv(e);for(;n&&pv(n);)n=pv(n);return n||null}},sk=new te("",{providedIn:"root",factory:()=>{let t=Y(je),e=Y(si);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function ak(){return Of(on(),$e())}function Of(t,e){return new Qt(Vn(t,e))}var Qt=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=ak}}return t})();function UD(t){return(t.flags&128)===128}var jD=new Map,ck=0;function lk(){return ck++}function uk(t){jD.set(t[Cf],t)}function jv(t){jD.delete(t[Cf])}var cC="__ngContext__";function uo(t,e){ao(e)?(t[cC]=e[Cf],uk(e)):t[cC]=e}function BD(t){return HD(t[Ll])}function $D(t){return HD(t[ir])}function HD(t){for(;t!==null&&!hi(t);)t=t[ir];return t}var Bv;function zD(t){Bv=t}function dk(){if(Bv!==void 0)return Bv;if(typeof document<"u")return document;throw new ce(210,!1)}var Iy=new te("",{providedIn:"root",factory:()=>hk}),hk="ng",Cy=new te(""),Or=new te("",{providedIn:"platform",factory:()=>"unknown"});var Dy=new te("",{providedIn:"root",factory:()=>dk().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var fk="h",pk="b";var mk=()=>null;function Ty(t,e,n=!1){return mk(t,e,n)}var qD=!1,gk=new te("",{providedIn:"root",factory:()=>qD});var df=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${TC})`}};function kf(t){return t instanceof df?t.changingThisBreaksApplicationSecurity:t}function GD(t,e){let n=vk(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${TC})`)}return n===e}function vk(t){return t instanceof df&&t.getTypeName()||null}var yk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function WD(t){return t=String(t),t.match(yk)?t:"unsafe:"+t}var Sy=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Sy||{});function kr(t){let e=_k();return e?e.sanitize(Sy.URL,t)||"":GD(t,"URL")?kf(t):WD(is(t))}function _k(){let t=$e();return t&&t[Pr].sanitizer}var wk=/^>|^->|<!--|-->|--!>|<!-$/g,bk=/(<|>)/g,Ek="\u200B$1\u200B";function Ik(t){return t.replace(wk,e=>e.replace(bk,Ek))}function KD(t){return t instanceof Function?t():t}var ai=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ai||{}),Ck;function Ay(t,e){return Ck(t,e)}function Pa(t,e,n,r,i){if(r!=null){let o,s=!1;hi(r)?o=r:ao(r)&&(s=!0,r=r[di]);let a=Nr(r);t===0&&n!==null?i==null?XD(e,n,a):hf(e,n,a,i||null,!0):t===1&&n!==null?hf(e,n,a,i||null,!0):t===2?jk(e,a,s):t===3&&e.destroyNode(a),o!=null&&$k(e,t,o,n,i)}}function Dk(t,e){return t.createText(e)}function Tk(t,e,n){t.setValue(e,n)}function Sk(t,e){return t.createComment(Ik(e))}function QD(t,e,n){return t.createElement(e,n)}function Ak(t,e){YD(t,e),e[di]=null,e[cr]=null}function xk(t,e,n,r,i,o){r[di]=i,r[cr]=e,Lf(t,r,n,1,i,o)}function YD(t,e){e[Pr].changeDetectionScheduler?.notify(9),Lf(t,e,e[mt],2,null,null)}function Rk(t){let e=t[Ll];if(!e)return mv(t[Te],t);for(;e;){let n=null;if(ao(e))n=e[Ll];else{let r=e[On];r&&(n=r)}if(!n){for(;e&&!e[ir]&&e!==t;)ao(e)&&mv(e[Te],e),e=e[rn];e===null&&(e=t),ao(e)&&mv(e[Te],e),n=e&&e[ir]}e=n}}function Pk(t,e,n,r){let i=On+r,o=n.length;r>0&&(n[i-1][ir]=e),r<o-On?(e[ir]=n[i],LC(n,On+r,e)):(n.push(e),e[ir]=null),e[rn]=n;let s=e[Va];s!==null&&n!==s&&ZD(s,e);let a=e[Ua];a!==null&&a.insertView(t),Rv(e),e[fe]|=128}function ZD(t,e){let n=t[nf],r=e[rn];if(ao(r))t[fe]|=rf.HasTransplantedViews;else{let i=r[rn][Mr];e[Mr]!==i&&(t[fe]|=rf.HasTransplantedViews)}n===null?t[nf]=[e]:n.push(e)}function xy(t,e){let n=t[nf],r=n.indexOf(e);n.splice(r,1)}function $v(t,e){if(t.length<=On)return;let n=On+e,r=t[n];if(r){let i=r[Va];i!==null&&i!==t&&xy(i,r),e>0&&(t[n-1][ir]=r[ir]);let o=Zh(t,On+e);Ak(r[Te],r);let s=o[Ua];s!==null&&s.detachView(o[Te]),r[rn]=null,r[ir]=null,r[fe]&=-129}return r}function JD(t,e){if(!(e[fe]&256)){let n=e[mt];n.destroyNode&&Lf(t,e,n,3,null,null),Rk(e)}}function mv(t,e){if(e[fe]&256)return;let n=Ve(null);try{e[fe]&=-129,e[fe]|=256,e[Nn]&&$g(e[Nn]),Nk(t,e),Mk(t,e),e[Te].type===1&&e[mt].destroy();let r=e[Va];if(r!==null&&hi(e[rn])){r!==e[rn]&&xy(r,e);let i=e[Ua];i!==null&&i.detachView(t)}jv(e)}finally{Ve(n)}}function Mk(t,e){let n=t.cleanup,r=e[ef];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ef]=null);let i=e[so];if(i!==null){e[so]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Nk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ds)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Ar(4,a,l);try{l.call(a)}finally{Ar(5,a,l)}}else{Ar(4,i,o);try{o.call(i)}finally{Ar(5,i,o)}}}}}function Ok(t,e,n){return kk(t,e.parent,n)}function kk(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[di];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Rr.None||o===Rr.Emulated)return null}return Vn(r,n)}}function hf(t,e,n,r,i){t.insertBefore(e,n,r,i)}function XD(t,e,n){t.appendChild(e,n)}function lC(t,e,n,r,i){r!==null?hf(t,e,n,r,i):XD(t,e,n)}function eT(t,e){return t.parentNode(e)}function Fk(t,e){return t.nextSibling(e)}function Lk(t,e,n){return Uk(t,e,n)}function Vk(t,e,n){return t.type&40?Vn(t,n):null}var Uk=Vk,uC;function Ff(t,e,n,r){let i=Ok(t,r,e),o=e[mt],s=r.parent||e[cr],a=Lk(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)lC(o,i,n[l],a,!1);else lC(o,i,n,a,!1);uC!==void 0&&uC(o,r,e,n,i)}function Pl(t,e){if(e!==null){let n=e.type;if(n&3)return Vn(e,t);if(n&4)return Hv(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Pl(t,r);{let i=t[e.index];return hi(i)?Hv(-1,i):Nr(i)}}else{if(n&128)return Pl(t,e.next);if(n&32)return Ay(e,t)()||Nr(t[e.index]);{let r=tT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ls(t[Mr]);return Pl(i,r)}else return Pl(t,e.next)}}}return null}function tT(t,e){if(e!==null){let r=t[Mr][cr],i=e.projection;return r.projection[i]}return null}function Hv(t,e){let n=On+t+1;if(n<e.length){let r=e[n],i=r[Te].firstChild;if(i!==null)return Pl(r,i)}return e[cs]}function jk(t,e,n){t.removeChild(null,e,n)}function Ry(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&uo(Nr(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Ry(t,e,n.child,r,i,o,!1),Pa(e,t,i,a,o);else if(l&32){let d=Ay(n,r),p;for(;p=d();)Pa(e,t,i,p,o);Pa(e,t,i,a,o)}else l&16?Bk(t,e,r,n,i,o):Pa(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Lf(t,e,n,r,i,o){Ry(n,r,t.firstChild,e,i,o,!1)}function Bk(t,e,n,r,i,o){let s=n[Mr],l=s[cr].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let p=l[d];Pa(e,t,i,p,o)}else{let d=l,p=s[rn];UD(r)&&(d.flags|=128),Ry(t,e,d,p,i,o,!0)}}function $k(t,e,n,r,i){let o=n[cs],s=Nr(n);o!==s&&Pa(e,t,r,o,i);for(let a=On;a<n.length;a++){let l=n[a];Lf(l[Te],l,t,e,r,o)}}function Hk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:ai.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ai.Important),t.setStyle(n,r,i,o))}}function zk(t,e,n){t.setAttribute(e,"style",n)}function nT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function rT(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Cv(t,e,r),i!==null&&nT(t,e,i),o!==null&&zk(t,e,o)}var Fr={};function k(t=1){iT(Bt(),$e(),ms()+t,!1)}function iT(t,e,n,r){if(!r)if((e[fe]&3)===3){let o=t.preOrderCheckHooks;o!==null&&qh(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Gh(e,o,0,n)}us(n)}function q(t,e=Ee.Default){let n=$e();if(n===null)return le(t,e);let r=on();return PD(r,n,tn(t),e)}function oT(t,e,n,r,i,o){let s=Ve(null);try{let a=null;i&co.SignalBased&&(a=e[r][ri]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&co.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):eD(e,a,r,o)}finally{Ve(s)}}function qk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)us(~i);else{let o=i,s=n[++r],a=n[++r];PO(s,o);let l=e[o];a(2,l)}}}finally{us(-1)}}function Vf(t,e,n,r,i,o,s,a,l,d,p){let m=e.blueprint.slice();return m[di]=i,m[fe]=r|4|128|8|64,(d!==null||t&&t[fe]&2048)&&(m[fe]|=2048),aD(m),m[rn]=m[Ga]=t,m[or]=n,m[Pr]=s||t&&t[Pr],m[mt]=a||t&&t[mt],m[La]=l||t&&t[La]||null,m[cr]=o,m[Cf]=lk(),m[Xh]=p,m[JC]=d,m[Mr]=e.type==2?t[Mr]:m,m}function Hl(t,e,n,r,i){let o=t.data[e];if(o===null)o=Gk(t,e,n,r,i),RO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=TO();o.injectorIndex=s===null?-1:s.injectorIndex}return ps(o,!0),o}function Gk(t,e,n,r,i){let o=hD(),s=vy(),a=s?o:o&&o.parent,l=t.data[e]=Zk(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function sT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function aT(t,e,n,r,i){let o=ms(),s=r&2;try{us(-1),s&&e.length>Fn&&iT(t,e,Fn,!1),Ar(s?2:0,i),n(r,i)}finally{us(o),Ar(s?3:1,i)}}function Py(t,e,n){if(my(e)){let r=Ve(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Ve(r)}}}function My(t,e,n){dD()&&(rF(t,e,n,Vn(n,e)),(n.flags&64)===64&&uT(t,e,n))}function Ny(t,e,n=Vn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function cT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Oy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Oy(t,e,n,r,i,o,s,a,l,d,p){let m=Fn+r,y=m+i,I=Wk(m,y),A=typeof d=="function"?d():d;return I[Te]={type:t,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:A,incompleteFirstPass:!1,ssrId:p}}function Wk(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Fr);return n}function Kk(t,e,n,r){let o=r.get(gk,qD)||n===Rr.ShadowDom,s=t.selectRootElement(e,o);return Qk(s),s}function Qk(t){Yk(t)}var Yk=()=>null;function Zk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return IO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function dC(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=co.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}t===0?hC(r,n,d,a,l):hC(r,n,d,a)}return r}function hC(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function Jk(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,d=null;for(let p=r;p<i;p++){let m=o[p],y=n?n.get(m):null,I=y?y.inputs:null,A=y?y.outputs:null;l=dC(0,m.inputs,p,l,I),d=dC(1,m.outputs,p,d,A);let j=l!==null&&s!==null&&!dy(e)?pF(l,p,s):null;a.push(j)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=d}function Xk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ky(t,e,n,r,i,o,s,a){let l=Vn(e,n),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(Ly(t,n,p,r,i),Df(e)&&eF(n,e.index)):e.type&3?(r=Xk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function eF(t,e){let n=fo(e,t);n[fe]&16||(n[fe]|=64)}function Fy(t,e,n,r){if(dD()){let i=r===null?null:{"":-1},o=oF(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&lT(t,e,n,s,i,a),i&&sF(n,r,i)}n.mergedAttrs=kl(n.mergedAttrs,n.attrs)}function lT(t,e,n,r,i,o){for(let d=0;d<r.length;d++)Ov(cf(n,e),t,r[d].type);cF(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,l=sT(t,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];n.mergedAttrs=kl(n.mergedAttrs,p.hostAttrs),lF(t,n,e,l,p),aF(l,p,i),p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let m=p.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}Jk(t,n,o)}function tF(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;nF(s)!=a&&s.push(a),s.push(n,r,o)}}function nF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function rF(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Df(n)&&uF(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||cf(n,e),uo(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],d=Ba(e,t,a,n);if(uo(d,e),s!==null&&fF(e,a-i,d,l,n,s),lo(l)){let p=fo(n.index,e);p[or]=Ba(e,t,a,n)}}}function uT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=MO();try{us(o);for(let a=r;a<i;a++){let l=t.data[a],d=e[a];Pv(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&iF(l,d)}}finally{us(-1),Pv(s)}}function iF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function oF(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(zN(e,s.selectors,!1))if(r||(r=[]),lo(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;zv(t,e,l)}else r.unshift(s),zv(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function zv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function sF(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new ce(-301,!1);r.push(e[i],o)}}}function aF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;lo(e)&&(n[""]=t)}}function cF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function lF(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ss(i.type,!0)),s=new ds(o,lo(i),q);t.blueprint[r]=s,n[r]=s,tF(t,e,r,sT(t,n,i.hostVars,Fr),i)}function uF(t,e,n){let r=Vn(e,t),i=cT(n),o=t[Pr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Uf(t,Vf(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function dF(t,e,n,r,i,o){let s=Vn(t,e);hF(e[mt],s,o,t.value,n,r,i)}function hF(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?is(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function fF(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],d=s[a++],p=s[a++],m=s[a++];oT(r,n,l,d,p,m)}}function pF(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function dT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function hT(t,e){let n=t.contentQueries;if(n!==null){let r=Ve(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];vD(o),a.contentQueries(2,e[s],s)}}}finally{Ve(r)}}}function Uf(t,e){return t[Ll]?t[JI][ir]=e:t[Ll]=e,t[JI]=e,e}function qv(t,e,n){vD(0);let r=Ve(null);try{e(t,n)}finally{Ve(r)}}function mF(t){return t[ef]??=[]}function gF(t){return t.cleanup??=[]}function fT(t,e){let n=t[La],r=n?n.get(si,null):null;r&&r.handleError(e)}function Ly(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],d=e[s],p=t.data[s];oT(p,d,r,a,l,i)}}function pT(t,e,n){let r=iD(e,t);Tk(t[mt],r,n)}function vF(t,e){let n=fo(e,t),r=n[Te];yF(r,n);let i=n[di];i!==null&&n[Xh]===null&&(n[Xh]=Ty(i,n[La])),Vy(r,n,n[or])}function yF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Vy(t,e,n){yy(e);try{let r=t.viewQuery;r!==null&&qv(1,r,n);let i=t.template;i!==null&&aT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ua]?.finishViewCreation(t),t.staticContentQueries&&hT(t,e),t.staticViewQueries&&qv(2,t.viewQuery,n);let o=t.components;o!==null&&_F(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[fe]&=-5,_y()}}function _F(t,e){for(let n=0;n<e.length;n++)vF(t,e[n])}function wF(t,e,n,r){let i=Ve(null);try{let o=e.tView,a=t[fe]&4096?4096:16,l=Vf(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];l[Va]=d;let p=t[Ua];return p!==null&&(l[Ua]=p.createEmbeddedView(o)),Vy(o,l,n),l}finally{Ve(i)}}function fC(t,e){return!e||e.firstChild===null||UD(t)}function bF(t,e,n,r=!0){let i=e[Te];if(Pk(i,e,t,n),r){let s=Hv(n,t),a=e[mt],l=eT(a,t[cs]);l!==null&&xk(i,t[cr],a,e,l,s)}let o=e[Xh];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ff(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Nr(o)),hi(o)&&EF(o,r);let s=n.type;if(s&8)ff(t,e,n.child,r);else if(s&32){let a=Ay(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=tT(e,n);if(Array.isArray(a))r.push(...a);else{let l=ls(e[Mr]);ff(l[Te],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function EF(t,e){for(let n=On;n<t.length;n++){let r=t[n],i=r[Te].firstChild;i!==null&&ff(r[Te],r,i,e)}t[cs]!==t[di]&&e.push(t[cs])}var mT=[];function IF(t){return t[Nn]??CF(t)}function CF(t){let e=mT.pop()??Object.create(TF);return e.lView=t,e}function DF(t){t.lView[Nn]!==t&&(t.lView=null,mT.push(t))}var TF=ge(G({},Sl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Af(t.lView)},consumerOnSignalRead(){this.lView[Nn]=this}});function SF(t){let e=t[Nn]??Object.create(AF);return e.lView=t,e}var AF=ge(G({},Sl),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ls(t.lView);for(;e&&!gT(e[Te]);)e=ls(e);e&&cD(e)},consumerOnSignalRead(){this.lView[Nn]=this}});function gT(t){return t.type!==2}var xF=100;function vT(t,e=!0,n=0){let r=t[Pr],i=r.rendererFactory,o=!1;o||i.begin?.();try{RF(t,n)}catch(s){throw e&&fT(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function RF(t,e){let n=pD();try{eC(!0),Gv(t,e);let r=0;for(;Sf(t);){if(r===xF)throw new ce(103,!1);r++,Gv(t,1)}}finally{eC(n)}}function PF(t,e,n,r){let i=e[fe];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Pr].inlineEffectRunner?.flush(),yy(e);let a=!0,l=null,d=null;o||(gT(t)?(d=IF(e),l=lh(d)):iI()===null?(a=!1,d=SF(e),l=lh(d)):e[Nn]&&($g(e[Nn]),e[Nn]=null));try{aD(e),xO(t.bindingStartIndex),n!==null&&aT(t,e,n,2,r);let p=(i&3)===3;if(!o)if(p){let I=t.preOrderCheckHooks;I!==null&&qh(e,I,null)}else{let I=t.preOrderHooks;I!==null&&Gh(e,I,0,null),dv(e,0)}if(s||MF(e),yT(e,0),t.contentQueries!==null&&hT(t,e),!o)if(p){let I=t.contentCheckHooks;I!==null&&qh(e,I)}else{let I=t.contentHooks;I!==null&&Gh(e,I,1),dv(e,1)}qk(t,e);let m=t.components;m!==null&&wT(e,m,0);let y=t.viewQuery;if(y!==null&&qv(2,y,r),!o)if(p){let I=t.viewCheckHooks;I!==null&&qh(e,I)}else{let I=t.viewHooks;I!==null&&Gh(e,I,2),dv(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[uv]){for(let I of e[uv])I();e[uv]=null}o||(e[fe]&=-73)}catch(p){throw o||Af(e),p}finally{d!==null&&(jg(d,l),a&&DF(d)),_y()}}function yT(t,e){for(let n=BD(t);n!==null;n=$D(n))for(let r=On;r<n.length;r++){let i=n[r];_T(i,e)}}function MF(t){for(let e=BD(t);e!==null;e=$D(e)){if(!(e[fe]&rf.HasTransplantedViews))continue;let n=e[nf];for(let r=0;r<n.length;r++){let i=n[r];cD(i)}}}function NF(t,e,n){let r=fo(e,t);_T(r,n)}function _T(t,e){gy(t)&&Gv(t,e)}function Gv(t,e){let r=t[Te],i=t[fe],o=t[Nn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Bg(o)),s||=!1,o&&(o.dirty=!1),t[fe]&=-9217,s)PF(r,t,r.template,t[or]);else if(i&8192){yT(t,1);let a=r.components;a!==null&&wT(t,a,1)}}function wT(t,e,n){for(let r=0;r<e.length;r++)NF(t,e[r],n)}function Uy(t,e){let n=pD()?64:1088;for(t[Pr].changeDetectionScheduler?.notify(e);t;){t[fe]|=n;let r=ls(t);if(Av(t)&&!r)return t;t=r}return null}var hs=class{get rootNodes(){let e=this._lView,n=e[Te];return ff(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[or]}set context(e){this._lView[or]=e}get destroyed(){return(this._lView[fe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[rn];if(hi(e)){let n=e[tf],r=n?n.indexOf(this):-1;r>-1&&($v(e,r),Zh(n,r))}this._attachedToViewContainer=!1}JD(this._lView[Te],this._lView)}onDestroy(e){lD(this._lView,e)}markForCheck(){Uy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[fe]&=-129}reattach(){Rv(this._lView),this._lView[fe]|=128}detectChanges(){this._lView[fe]|=1024,vT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Av(this._lView),n=this._lView[Va];n!==null&&!e&&xy(n,this._lView),YD(this._lView[Te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=e;let n=Av(this._lView),r=this._lView[Va];r!==null&&!n&&ZD(r,this._lView),Rv(this._lView)}},jf=(()=>{class t{static{this.__NG_ELEMENT_ID__=FF}}return t})(),OF=jf,kF=class extends OF{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=wF(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new hs(i)}};function FF(){return bT(on(),$e())}function bT(t,e){return t.type&4?new kF(e,t,Of(t,e)):null}var bQ=new RegExp(`^(\\d+)*(${pk}|${fk})*(.*)`);var LF=()=>null;function pC(t,e){return LF(t,e)}var $a=class{},Bf=new te("",{providedIn:"root",factory:()=>!1});var ET=new te(""),IT=new te(""),Wv=class{},pf=class{};function VF(t){let e=Error(`No component factory found for ${nn(t)}.`);return e[UF]=t,e}var UF="ngComponent";var Kv=class{resolveComponentFactory(e){throw VF(e)}},Ha=class{static{this.NULL=new Kv}},za=class{},In=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>jF()}}return t})();function jF(){let t=$e(),e=on(),n=fo(e.index,t);return(ao(n)?n:t)[mt]}var BF=(()=>{class t{static{this.\u0275prov=oe({token:t,providedIn:"root",factory:()=>null})}}return t})();function mf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=$I(i,a);else if(o==2){let l=a,d=e[++s];r=$I(r,l+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var gf=class extends Ha{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=as(e);return new Vl(n,this.ngModule)}};function mC(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:co.None;e?n.push({propName:s,templateName:r,isSignal:(a&co.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function $F(t){let e=t.toLowerCase();return e==="svg"?mO:e==="math"?gO:null}var Vl=class extends pf{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=mC(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return mC(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=KN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Ve(null);try{i=i||this.ngModule;let s=i instanceof kn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Mv(e,s):e,l=a.get(za,null);if(l===null)throw new ce(407,!1);let d=a.get(BF,null),p=a.get($a,null),m={rendererFactory:l,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},y=l.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=r?Kk(y,r,this.componentDef.encapsulation,a):QD(y,I,$F(I)),j=512;this.componentDef.signals?j|=4096:this.componentDef.onPush||(j|=16);let V=null;A!==null&&(V=Ty(A,a,!0));let $=Oy(0,null,null,1,0,null,null,null,null,null,null),J=Vf(null,$,null,j,null,null,m,y,a,null,V);yy(J);let ee,ie,Ne=null;try{let ae=this.componentDef,R,C=null;ae.findHostDirectiveDefs?(R=[],C=new Map,ae.findHostDirectiveDefs(ae,R,C),R.push(ae)):R=[ae];let T=HF(J,A);Ne=zF(T,A,ae,R,J,m,y),ie=oD($,Fn),A&&WF(y,ae,A,r),n!==void 0&&KF(ie,this.ngContentSelectors,n),ee=GF(Ne,ae,R,C,J,[QF]),Vy($,J,null)}catch(ae){throw Ne!==null&&jv(Ne),jv(J),ae}finally{_y()}return new Qv(this.componentType,ee,Of(ie,J),J,ie)}finally{Ve(o)}}},Qv=class extends Wv{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new hs(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Ly(o[Te],o,i,e,n),this.previousInputValues.set(e,n);let s=fo(this._tNode.index,o);Uy(s,1)}}get injector(){return new os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function HF(t,e){let n=t[Te],r=Fn;return t[r]=e,Hl(n,r,2,"#host",null)}function zF(t,e,n,r,i,o,s){let a=i[Te];qF(r,t,e,s);let l=null;e!==null&&(l=Ty(e,i[La]));let d=o.rendererFactory.createRenderer(e,n),p=16;n.signals?p=4096:n.onPush&&(p=64);let m=Vf(i,cT(n),null,p,i[t.index],t,o,d,null,null,l);return a.firstCreatePass&&zv(a,t,r.length-1),Uf(i,m),i[t.index]=m}function qF(t,e,n,r){for(let i of t)e.mergedAttrs=kl(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(mf(e,e.mergedAttrs,!0),n!==null&&rT(r,n,e))}function GF(t,e,n,r,i,o){let s=on(),a=i[Te],l=Vn(s,i);lT(a,i,s,n,null,r);for(let p=0;p<n.length;p++){let m=s.directiveStart+p,y=Ba(i,a,m,s);uo(y,i)}uT(a,i,s),l&&uo(l,i);let d=Ba(i,a,s.directiveStart+s.componentOffset,s);if(t[or]=i[or]=d,o!==null)for(let p of o)p(d,e);return Py(a,s,i),d}function WF(t,e,n,r){if(r)Cv(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:o}=QN(e.selectors[0]);i&&Cv(t,n,i),o&&o.length>0&&nT(t,n,o.join(" "))}}function KF(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function QF(){let t=on();Nf($e()[Te],t)}var Ka=(()=>{class t{static{this.__NG_ELEMENT_ID__=YF}}return t})();function YF(){let t=on();return JF(t,$e())}var ZF=Ka,CT=class extends ZF{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Of(this._hostTNode,this._hostLView)}get injector(){return new os(this._hostTNode,this._hostLView)}get parentInjector(){let e=wy(this._hostTNode,this._hostLView);if(DD(e)){let n=sf(e,this._hostLView),r=of(e),i=n[Te].data[r+8];return new os(i,n)}else return new os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=gC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-On}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=pC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,fC(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!dO(e),a;if(s)a=n;else{let A=n||{};a=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let l=s?e:new Vl(as(e)),d=r||this.parentInjector;if(!o&&l.ngModule==null){let j=(s?d:this.parentInjector).get(kn,null);j&&(o=j)}let p=as(l.componentType??{}),m=pC(this._lContainer,p?.id??null),y=m?.firstChild??null,I=l.create(d,i,y,o);return this.insertImpl(I.hostView,a,fC(this._hostTNode,m)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(vO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[rn],d=new CT(l,l[cr],l[rn]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return bF(s,i,o,r),e.attachToViewContainerRef(),LC(gv(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=gC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=$v(this._lContainer,n);r&&(Zh(gv(this._lContainer),n),JD(r[Te],r))}detach(e){let n=this._adjustIndex(e,-1),r=$v(this._lContainer,n);return r&&Zh(gv(this._lContainer),n)!=null?new hs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function gC(t){return t[tf]}function gv(t){return t[tf]||(t[tf]=[])}function JF(t,e){let n,r=e[t.index];return hi(r)?n=r:(n=dT(r,e,null,t),e[t.index]=n,Uf(e,n)),e2(n,e,t,r),new CT(n,t,e)}function XF(t,e){let n=t[mt],r=n.createComment(""),i=Vn(e,t),o=eT(n,i);return hf(n,o,r,Fk(n,i),!1),r}var e2=r2,t2=()=>!1;function n2(t,e,n){return t2(t,e,n)}function r2(t,e,n,r){if(t[cs])return;let i;n.type&8?i=Nr(r):i=XF(e,n),t[cs]=i}var vC=new Set;function zl(t){vC.has(t)||(vC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function i2(t){return typeof t=="function"&&t[ri]!==void 0}function Un(t,e){zl("NgSignals");let n=mI(t),r=n[ri];return e?.equal&&(r.equal=e.equal),n.set=i=>Hg(r,i),n.update=i=>gI(r,i),n.asReadonly=o2.bind(n),n}function o2(){let t=this[ri];if(t.readonlyFn===void 0){let e=()=>this();e[ri]=t,t.readonlyFn=e}return t.readonlyFn}function DT(t){return i2(t)&&typeof t.set=="function"}function s2(t){return Object.getPrototypeOf(t.prototype).constructor}function fn(t){let e=s2(t.type),n=!0,r=[t];for(;e;){let i;if(lo(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ce(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Bh(t.inputs),s.inputTransforms=Bh(t.inputTransforms),s.declaredInputs=Bh(t.declaredInputs),s.outputs=Bh(t.outputs);let a=i.hostBindings;a&&d2(t,a);let l=i.viewQuery,d=i.contentQueries;if(l&&l2(t,l),d&&u2(t,d),a2(t,i),mN(t.outputs,i.outputs),lo(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===fn&&(n=!1)}}e=Object.getPrototypeOf(e)}c2(r)}function a2(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function c2(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=kl(i.hostAttrs,n=kl(n,i.hostAttrs))}}function Bh(t){return t===Oa?{}:t===Mn?[]:t}function l2(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function u2(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function d2(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var ho=class{},Ul=class{};var Yv=class extends ho{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gf(this);let o=qC(e);this._bootstrapComponents=KD(o.bootstrap),this._r3Injector=OD(e,n,[{provide:ho,useValue:this},{provide:Ha,useValue:this.componentFactoryResolver},...r],nn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Zv=class extends Ul{constructor(e){super(),this.moduleType=e}create(e){return new Yv(this.moduleType,e,[])}};var vf=class extends ho{constructor(e){super(),this.componentFactoryResolver=new gf(this),this.instance=null;let n=new Fl([...e.providers,{provide:ho,useValue:this},{provide:Ha,useValue:this.componentFactoryResolver}],e.parent||py(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function jy(t,e,n=null){return new vf({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function TT(t){return f2(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function h2(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function f2(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function p2(t,e,n){return t[e]=n}function ci(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function m2(t,e,n,r){let i=ci(t,e,n);return ci(t,e+1,r)||i}function g2(t,e,n,r,i){let o=m2(t,e,n,r);return ci(t,e+2,i)||o}function v2(t){return(t.flags&32)===32}function y2(t,e,n,r,i,o,s,a,l){let d=e.consts,p=Hl(e,t,4,s||null,a||null);Fy(e,n,p,ja(d,l)),Nf(e,p);let m=p.tView=Oy(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),m.queries=e.queries.embeddedTView(p)),p}function _2(t,e,n,r,i,o,s,a,l,d){let p=n+Fn,m=e.firstCreatePass?y2(p,e,t,r,i,o,s,a,l):e.data[p];ps(m,!1);let y=w2(e,t,m,n);Pf()&&Ff(e,t,y,m),uo(y,t);let I=dT(y,t,y,m);return t[p]=I,Uf(t,I),n2(I,m,t),Tf(m)&&My(e,t,m),l!=null&&Ny(t,m,d),m}function K(t,e,n,r,i,o,s,a){let l=$e(),d=Bt(),p=ja(d.consts,o);return _2(l,d,t,e,n,r,i,p,s,a),K}var w2=b2;function b2(t,e,n,r){return Mf(!0),e[mt].createComment("")}var Ml=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ml||{}),E2=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}}return t})(),yC=class t{constructor(){this.ngZone=Y(je),this.scheduler=Y($a),this.errorHandler=Y(si,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ml.EarlyRead,Ml.Write,Ml.MixedReadWrite,Ml.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}};function Qa(t,e,n,r){let i=$e(),o=xf();if(ci(i,o,e)){let s=Bt(),a=Rf();dF(a,i,t,e,n,r)}return Qa}function ST(t,e,n,r){return ci(t,xf(),n)?e+is(n)+r:Fr}function I2(t,e,n,r,i,o,s,a){let l=AO(),d=g2(t,l,n,i,s);return gD(3),d?e+is(n)+r+is(i)+o+is(s)+a:Fr}function $h(t,e){return t<<17|e<<2}function fs(t){return t>>17&32767}function C2(t){return(t&2)==2}function D2(t,e){return t&131071|e<<17}function Jv(t){return t|2}function qa(t){return(t&131068)>>2}function vv(t,e){return t&-131069|e<<2}function T2(t){return(t&1)===1}function Xv(t){return t|1}function S2(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=fs(s),l=qa(s);t[r]=n;let d=!1,p;if(Array.isArray(n)){let m=n;p=m[1],(p===null||$l(m,p)>0)&&(d=!0)}else p=n;if(i)if(l!==0){let y=fs(t[a+1]);t[r+1]=$h(y,a),y!==0&&(t[y+1]=vv(t[y+1],r)),t[a+1]=D2(t[a+1],r)}else t[r+1]=$h(a,0),a!==0&&(t[a+1]=vv(t[a+1],r)),a=r;else t[r+1]=$h(l,0),a===0?a=r:t[l+1]=vv(t[l+1],r),l=r;d&&(t[r+1]=Jv(t[r+1])),_C(t,p,r,!0),_C(t,p,r,!1),A2(e,p,t,r,o),s=$h(a,l),o?e.classBindings=s:e.styleBindings=s}function A2(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&$l(o,e)>=0&&(n[r+1]=Xv(n[r+1]))}function _C(t,e,n,r){let i=t[n+1],o=e===null,s=r?fs(i):qa(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],d=t[s+1];x2(l,e)&&(a=!0,t[s+1]=r?Xv(d):Jv(d)),s=r?fs(d):qa(d)}a&&(t[n+1]=r?Jv(i):Xv(i))}function x2(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?$l(t,e)>=0:!1}function L(t,e,n){let r=$e(),i=xf();if(ci(r,i,e)){let o=Bt(),s=Rf();ky(o,s,r,t,e,r[mt],n,!1)}return L}function wC(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Ly(t,n,o[s],s,r)}function $f(t,e){return R2(t,e,null,!0),$f}function R2(t,e,n,r){let i=$e(),o=Bt(),s=gD(2);if(o.firstUpdatePass&&M2(o,t,s,r),e!==Fr&&ci(i,s,e)){let a=o.data[ms()];L2(o,a,i,i[mt],t,i[s+1]=V2(e,n),r,s)}}function P2(t,e){return e>=t.expandoStartIndex}function M2(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ms()],s=P2(t,n);U2(o,r)&&e===null&&!s&&(e=!1),e=N2(i,o,e,r),S2(i,o,e,n,s,r)}}function N2(t,e,n,r){let i=NO(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=yv(null,t,e,n,r),n=jl(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=yv(i,t,e,n,r),o===null){let l=O2(t,e,r);l!==void 0&&Array.isArray(l)&&(l=yv(null,t,e,l[1],r),l=jl(l,e.attrs,r),k2(t,e,r,l))}else o=F2(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function O2(t,e,n){let r=n?e.classBindings:e.styleBindings;if(qa(r)!==0)return t[fs(r)]}function k2(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[fs(i)]=r}function F2(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=jl(r,s,n)}return jl(r,e.attrs,n)}function yv(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=jl(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function jl(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),kN(t,s,n?!0:e[++o]))}return t===void 0?null:t}function L2(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,d=l[a+1],p=T2(d)?bC(l,e,n,i,qa(d),s):void 0;if(!yf(p)){yf(o)||C2(d)&&(o=bC(l,null,n,i,a,s));let m=iD(ms(),n);Hk(r,s,m,i,o)}}function bC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],d=Array.isArray(l),p=d?l[1]:l,m=p===null,y=n[i+1];y===Fr&&(y=m?Mn:void 0);let I=m?cv(y,r):p===r?y:void 0;if(d&&!yf(I)&&(I=cv(l,r)),yf(I)&&(a=I,s))return a;let A=t[i+1];i=s?fs(A):qa(A)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=cv(l,r))}return a}function yf(t){return t!==void 0}function V2(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=nn(kf(t)))),t}function U2(t,e){return(t.flags&(e?8:16))!==0}function j2(t,e,n,r,i,o){let s=e.consts,a=ja(s,i),l=Hl(e,t,2,r,a);return Fy(e,n,l,ja(s,o)),l.attrs!==null&&mf(l,l.attrs,!1),l.mergedAttrs!==null&&mf(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function E(t,e,n,r){let i=$e(),o=Bt(),s=Fn+t,a=i[mt],l=o.firstCreatePass?j2(s,o,i,e,n,r):o.data[s],d=B2(o,i,l,a,e,t);i[s]=d;let p=Tf(l);return ps(l,!0),rT(a,d,l),!v2(l)&&Pf()&&Ff(o,i,d,l),wO()===0&&uo(d,i),bO(),p&&(My(o,i,l),Py(o,l,i)),r!==null&&Ny(i,l),E}function w(){let t=on();vy()?fD():(t=t.parent,ps(t,!1));let e=t;CO(e)&&DO(),EO();let n=Bt();return n.firstCreatePass&&(Nf(n,t),my(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&jO(e)&&wC(n,e,$e(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&BO(e)&&wC(n,e,$e(),e.stylesWithoutHost,!1),w}function X(t,e,n,r){return E(t,e,n,r),w(),X}var B2=(t,e,n,r,i,o)=>(Mf(!0),QD(r,i,FO()));function $2(t,e,n,r,i){let o=e.consts,s=ja(o,r),a=Hl(e,t,8,"ng-container",s);s!==null&&mf(a,s,!0);let l=ja(o,i);return Fy(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Hf(t,e,n){let r=$e(),i=Bt(),o=t+Fn,s=i.firstCreatePass?$2(o,i,r,e,n):i.data[o];ps(s,!0);let a=H2(i,r,s,t);return r[o]=a,Pf()&&Ff(i,r,a,s),uo(a,r),Tf(s)&&(My(i,r,s),Py(i,s,r)),n!=null&&Ny(r,s),Hf}function zf(){let t=on(),e=Bt();return vy()?fD():(t=t.parent,ps(t,!1)),e.firstCreatePass&&(Nf(e,t),my(t)&&e.queries.elementEnd(t)),zf}var H2=(t,e,n,r)=>(Mf(!0),Sk(e[mt],""));function Ke(){return $e()}var _f="en-US";var z2=_f;function q2(t){typeof t=="string"&&(z2=t.toLowerCase().replace(/_/g,"-"))}var G2=(t,e,n)=>{};function re(t,e,n,r){let i=$e(),o=Bt(),s=on();return AT(o,i,i[mt],s,t,e,r),re}function W2(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ef],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function AT(t,e,n,r,i,o,s){let a=Tf(r),d=t.firstCreatePass&&gF(t),p=e[or],m=mF(e),y=!0;if(r.type&3||s){let j=Vn(r,e),V=s?s(j):j,$=m.length,J=s?ie=>s(Nr(ie[r.index])):r.index,ee=null;if(!s&&a&&(ee=W2(t,e,i,r.index)),ee!==null){let ie=ee.__ngLastListenerFn__||ee;ie.__ngNextListenerFn__=o,ee.__ngLastListenerFn__=o,y=!1}else{o=IC(r,e,p,o),G2(j,i,o);let ie=n.listen(V,i,o);m.push(o,ie),d&&d.push(i,J,$,$+1)}}else o=IC(r,e,p,o);let I=r.outputs,A;if(y&&I!==null&&(A=I[i])){let j=A.length;if(j)for(let V=0;V<j;V+=2){let $=A[V],J=A[V+1],Ne=e[$][J].subscribe(o),ae=m.length;m.push(o,Ne),d&&d.push(i,r.index,ae,-(ae+1))}}}function EC(t,e,n,r){let i=Ve(null);try{return Ar(6,e,n),n(r)!==!1}catch(o){return fT(t,o),!1}finally{Ar(7,e,n),Ve(i)}}function IC(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?fo(t.index,e):e;Uy(s,5);let a=EC(e,n,r,o),l=i.__ngNextListenerFn__;for(;l;)a=EC(e,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Q(t=1){return kO(t)}function By(t,e,n){return xT(t,"",e,"",n),By}function xT(t,e,n,r,i){let o=$e(),s=ST(o,e,n,r);if(s!==Fr){let a=Bt(),l=Rf();ky(a,l,o,t,s,o[mt],i,!1)}return xT}function K2(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function RT(t){let e=SO();return sD(e,Fn+t)}function x(t,e=""){let n=$e(),r=Bt(),i=t+Fn,o=r.firstCreatePass?Hl(r,i,1,e,null):r.data[i],s=Q2(r,n,o,e,t);n[i]=s,Pf()&&Ff(r,n,s,o),ps(o,!1)}var Q2=(t,e,n,r,i)=>(Mf(!0),Dk(e[mt],r));function kt(t){return jn("",t,""),kt}function jn(t,e,n){let r=$e(),i=ST(r,t,e,n);return i!==Fr&&pT(r,ms(),i),jn}function $y(t,e,n,r,i,o,s){let a=$e(),l=I2(a,t,e,n,r,i,o,s);return l!==Fr&&pT(a,ms(),l),$y}function qf(t,e,n){DT(e)&&(e=e());let r=$e(),i=xf();if(ci(r,i,e)){let o=Bt(),s=Rf();ky(o,s,r,t,e,r[mt],n,!1)}return qf}function Hy(t,e){let n=DT(t);return n&&t.set(e),n}function Gf(t,e){let n=$e(),r=Bt(),i=on();return AT(r,n,n[mt],i,t,e),Gf}function Y2(t,e,n){let r=Bt();if(r.firstCreatePass){let i=lo(t);ey(n,r.data,r.blueprint,i,!0),ey(e,r.data,r.blueprint,i,!1)}}function ey(t,e,n,r,i){if(t=tn(t),Array.isArray(t))for(let o=0;o<t.length;o++)ey(t[o],e,n,r,i);else{let o=Bt(),s=$e(),a=on(),l=Fa(t)?t:tn(t.provide),d=ZC(t),p=a.providerIndexes&1048575,m=a.directiveStart,y=a.providerIndexes>>20;if(Fa(t)||!t.multi){let I=new ds(d,i,q),A=wv(l,e,i?p:p+y,m);A===-1?(Ov(cf(a,s),o,l),_v(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),s.push(I)):(n[A]=I,s[A]=I)}else{let I=wv(l,e,p+y,m),A=wv(l,e,p,p+y),j=I>=0&&n[I],V=A>=0&&n[A];if(i&&!V||!i&&!j){Ov(cf(a,s),o,l);let $=X2(i?J2:Z2,n.length,i,r,d);!i&&V&&(n[A].providerFactory=$),_v(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push($),s.push($)}else{let $=PT(n[i?A:I],d,!i&&r);_v(o,t,I>-1?I:A,$)}!i&&r&&V&&n[A].componentProviders++}}}function _v(t,e,n,r){let i=Fa(e),o=rO(e);if(i||o){let l=(o?tn(e.useClass):e).prototype.ngOnDestroy;if(l){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(n);p===-1?d.push(n,[r,l]):d[p+1].push(r,l)}else d.push(n,l)}}}function PT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function wv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Z2(t,e,n,r){return ty(this.multi,[])}function J2(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ba(n,n[Te],this.providerFactory.index,r);o=a.slice(0,s),ty(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],ty(i,o);return o}function ty(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function X2(t,e,n,r,i){let o=new ds(t,n,q);return o.multi=[],o.index=e,o.componentProviders=0,PT(o,i,r&&!n),o}function lr(t,e=[]){return n=>{n.providersResolver=(r,i)=>Y2(r,i?i(t):t,e)}}var eL=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=KC(!1,n.type),i=r.length>0?jy([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=oe({token:t,providedIn:"environment",factory:()=>new t(le(kn))})}}return t})();function Qe(t){zl("NgStandalone"),t.getStandaloneInjector=e=>e.get(eL).getOrCreateStandaloneInjector(t)}function MT(t,e,n,r){return NT($e(),mD(),t,e,n,r)}function tL(t,e){let n=t[e];return n===Fr?void 0:n}function NT(t,e,n,r,i,o){let s=e+n;return ci(t,s,i)?p2(t,s+1,o?r.call(o,i):r(i)):tL(t,s+1)}function OT(t,e){let n=Bt(),r,i=t+Fn;n.firstCreatePass?(r=nL(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ss(r.type,!0)),s,a=hn(q);try{let l=af(!1),d=o();return af(l),K2(n,$e(),i,d),d}finally{hn(a)}}function nL(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function kT(t,e,n){let r=t+Fn,i=$e(),o=sD(i,r);return rL(i,r)?NT(i,mD(),e,o.transform,n,o):o.transform(n)}function rL(t,e){return t[Te].data[e].pure}function FT(t,e){return bT(t,e)}var li=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},LT=new li("18.2.9");var Wf=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var VT=new te("");function gs(t){return!!t&&typeof t.then=="function"}function UT(t){return!!t&&typeof t.subscribe=="function"}var jT=new te(""),BT=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Y(jT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(gs(o))n.push(o);else if(UT(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zy=new te("");function iL(){pI(()=>{throw new ce(600,!1)})}function oL(t){return t.isBoundToModule}var sL=10;function aL(t,e,n){try{let r=n();return gs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var vs=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Y(sk),this.afterRenderManager=Y(E2),this.zonelessEnabled=Y(Bf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ot,this.afterTick=new Ot,this.componentTypes=[],this.components=[],this.isStable=Y(Wa).hasPendingTasks.pipe(ye(n=>!n)),this._injector=Y(kn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof pf;if(!this._injector.get(BT).done){let y=!i&&zC(n),I=!1;throw new ce(405,I)}let s;i?s=n:s=this._injector.get(Ha).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=oL(s)?void 0:this._injector.get(ho),l=r||s.selector,d=s.create(Kt.NULL,[],l,a),p=d.location.nativeElement,m=d.injector.get(VT,null);return m?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Wh(this.components,d),m?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ce(101,!1);let n=Ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ve(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(za,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<sL;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)cL(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Sf(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Wh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(zy,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Wh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ce(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Wh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cL(t,e,n,r){if(!n&&!Sf(t))return;vT(t,e,n&&!r?0:1)}var ny=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},qy=(()=>{class t{compileModuleSync(n){return new Zv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=qC(n),o=KD(i.declarations).reduce((s,a)=>{let l=as(a);return l&&s.push(new Vl(l)),s},[]);return new ny(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var lL=(()=>{class t{constructor(){this.zone=Y(je),this.changeDetectionScheduler=Y($a),this.applicationRef=Y(vs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),uL=new te("",{factory:()=>!1});function $T({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new je(ge(G({},zT()),{scheduleInRootZone:n})),[{provide:je,useFactory:t},{provide:ka,multi:!0,useFactory:()=>{let r=Y(lL,{optional:!0});return()=>r.initialize()}},{provide:ka,multi:!0,useFactory:()=>{let r=Y(dL);return()=>{r.initialize()}}},e===!0?{provide:ET,useValue:!0}:[],{provide:IT,useValue:n??kD}]}function HT(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=$T({ngZoneFactory:()=>{let i=zT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&zl("NgZone_CoalesceEvent"),new je(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Ln([{provide:uL,useValue:!0},{provide:Bf,useValue:!1},r])}function zT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var dL=(()=>{class t{constructor(){this.subscription=new lt,this.initialized=!1,this.zone=Y(je),this.pendingTasks=Y(Wa)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{je.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var hL=(()=>{class t{constructor(){this.appRef=Y(vs),this.taskService=Y(Wa),this.ngZone=Y(je),this.zonelessEnabled=Y(Bf),this.disableScheduling=Y(ET,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new lt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(uf):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Y(IT,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Uv||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?oC:LD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(uf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,oC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function fL(){return typeof $localize<"u"&&$localize.locale||_f}var Gy=new te("",{providedIn:"root",factory:()=>Y(Gy,Ee.Optional|Ee.SkipSelf)||fL()});var ry=new te("");function Hh(t){return!t.moduleRef}function pL(t){let e=Hh(t)?t.r3Injector:t.moduleRef.injector,n=e.get(je);return n.run(()=>{Hh(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(si,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Hh(t)){let o=()=>e.destroy(),s=t.platformInjector.get(ry);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ry);s.add(o),t.moduleRef.onDestroy(()=>{Wh(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return aL(r,n,()=>{let o=e.get(BT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Gy,_f);if(q2(s||_f),Hh(t)){let a=e.get(vs);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return mL(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function mL(t,e){let n=t.injector.get(vs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new ce(-403,!1);e.push(t)}var Kh=null;function gL(t=[],e){return Kt.create({name:e,providers:[{provide:If,useValue:"platform"},{provide:ry,useValue:new Set([()=>Kh=null])},...t]})}function vL(t=[]){if(Kh)return Kh;let e=gL(t);return Kh=e,iL(),yL(e),e}function yL(t){t.get(Cy,null)?.forEach(n=>n())}var ys=(()=>{class t{static{this.__NG_ELEMENT_ID__=_L}}return t})();function _L(t){return wL(on(),$e(),(t&16)===16)}function wL(t,e,n){if(Df(t)&&!n){let r=fo(t.index,e);return new hs(r,r)}else if(t.type&175){let r=e[Mr];return new hs(r,e)}return null}var iy=class{constructor(){}supports(e){return TT(e)}create(e){return new oy(e)}},bL=(t,e)=>e,oy=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||bL}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<CC(r,i,o)?n:r,a=CC(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=l-i;if(d!=p){for(let y=0;y<d;y++){let I=y<o.length?o[y]:o[y]=0,A=I+y;p<=A&&A<d&&(o[y]=I+1)}let m=s.previousIndex;o[m]=p-d}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!TT(e))throw new ce(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,h2(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new sy(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new wf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new wf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},sy=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ay=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},wf=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new ay,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function CC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function DC(){return new Wy([new iy])}var Wy=(()=>{class t{static{this.\u0275prov=oe({token:t,providedIn:"root",factory:DC})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||DC()),deps:[[t,new FC,new bt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new ce(901,!1)}}return t})();function qT(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=vL(r),o=[$T({}),{provide:$a,useExisting:hL},...n||[]],s=new vf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return pL({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function ql(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ya(t,e){zl("NgSignals");let n=dI(t);return e?.equal&&(n[ri].equal=e.equal),n}function Lr(t){let e=Ve(null);try{return t()}finally{Ve(e)}}var ZT=null;function mi(){return ZT}function JT(t){ZT??=t}var Kf=class{};var Bn=new te(""),XT=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:()=>Y(CL),providedIn:"platform"})}}return t})();var CL=(()=>{class t extends XT{constructor(){super(),this._doc=Y(Bn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mi().getBaseHref(this._doc)}onPopState(n){let r=mi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=mi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function eS(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function GT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function _s(t){return t&&t[0]!=="?"?"?"+t:t}var Yf=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:()=>Y(tS),providedIn:"root"})}}return t})(),DL=new te(""),tS=(()=>{class t extends Yf{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Y(Bn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return eS(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+_s(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+_s(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+_s(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(le(XT),le(DL,8))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Gl=(()=>{class t{constructor(n){this._subject=new Ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=AL(GT(WT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+_s(r))}normalize(n){return t.stripTrailingSlash(SL(this._basePath,WT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_s(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_s(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=_s}static{this.joinWithSlash=eS}static{this.stripTrailingSlash=GT}static{this.\u0275fac=function(r){return new(r||t)(le(Yf))}}static{this.\u0275prov=oe({token:t,factory:()=>TL(),providedIn:"root"})}}return t})();function TL(){return new Gl(le(Yf))}function SL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function WT(t){return t.replace(/\/index.html$/,"")}function AL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function nS(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ky=/\s+/,KT=[],rS=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=KT,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Ky):KT}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Ky):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Ky).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(q(Qt),q(In))}}static{this.\u0275dir=Ge({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var Qy=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},po=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Qy(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),QT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);QT(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(q(Ka),q(jf),q(Wy))}}static{this.\u0275dir=Ge({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function QT(t,e){t.context.$implicit=e.item}var Yt=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Yy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){YT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){YT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(q(Ka),q(jf))}}static{this.\u0275dir=Ge({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Yy=class{constructor(){this.$implicit=null,this.ngIf=null}};function YT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${nn(e)}'.`)}var $t=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ar({type:t})}static{this.\u0275inj=sr({})}}return t})(),Zy="browser",xL="server";function iS(t){return t===Zy}function Jy(t){return t===xL}var Qf=class{};var t_=class extends Kf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},n_=class t extends t_{static makeCurrent(){JT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=RL();return n==null?null:PL(n)}resetBaseElement(){Wl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return nS(document.cookie,e)}},Wl=null;function RL(){return Wl=Wl||document.querySelector("base"),Wl?Wl.getAttribute("href"):null}function PL(t){return new URL(t,document.baseURI).pathname}var ML=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac})}}return t})(),r_=new te(""),cS=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new ce(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(le(r_),le(je))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac})}}return t})(),Zf=class{constructor(e){this._doc=e}},Xy="ng-app-id",lS=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Jy(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Xy}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Xy),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Xy,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(le(Bn),le(Iy),le(Dy,8),le(Or))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac})}}return t})(),e_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},o_=/%COMP%/g,uS="%COMP%",NL=`_nghost-${uS}`,OL=`_ngcontent-${uS}`,kL=!0,FL=new te("",{providedIn:"root",factory:()=>kL});function LL(t){return OL.replace(o_,t)}function VL(t){return NL.replace(o_,t)}function dS(t,e){return e.map(n=>n.replace(o_,t))}var oS=(()=>{class t{constructor(n,r,i,o,s,a,l,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Jy(a),this.defaultRenderer=new Kl(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Rr.ShadowDom&&(r=ge(G({},r),{encapsulation:Rr.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Jf?i.applyToHost(n):i instanceof Ql&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Rr.Emulated:o=new Jf(l,d,r,this.appId,p,s,a,m);break;case Rr.ShadowDom:return new i_(l,d,n,r,s,a,this.nonce,m);default:o=new Ql(l,d,r,p,s,a,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(le(cS),le(lS),le(Iy),le(FL),le(Bn),le(Or),le(je),le(Dy))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac})}}return t})(),Kl=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(e_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(sS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(sS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ce(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=e_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=e_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ai.DashCase|ai.Important)?e.style.setProperty(n,r,i&ai.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ai.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=mi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function sS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var i_=class extends Kl{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=dS(i.id,i.styles);for(let p of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ql=class extends Kl{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?dS(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Jf=class extends Ql{constructor(e,n,r,i,o,s,a,l){let d=i+"-"+r.id;super(e,n,r,o,s,a,l,d),this.contentAttr=LL(d),this.hostAttr=VL(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},UL=(()=>{class t extends Zf{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(le(Bn))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac})}}return t})(),aS=["alt","control","meta","shift"],jL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},$L=(()=>{class t extends Zf{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mi().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),aS.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=jL[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),aS.forEach(s=>{if(s!==i){let a=BL[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(le(Bn))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac})}}return t})();function hS(t,e){return qT(G({rootComponent:t},HL(e)))}function HL(t){return{appProviders:[...KL,...t?.providers??[]],platformProviders:WL}}function zL(){n_.makeCurrent()}function qL(){return new si}function GL(){return zD(document),document}var WL=[{provide:Or,useValue:Zy},{provide:Cy,useValue:zL,multi:!0},{provide:Bn,useFactory:GL,deps:[]}];var KL=[{provide:If,useValue:"root"},{provide:si,useFactory:qL,deps:[]},{provide:r_,useClass:UL,multi:!0,deps:[Bn,je,Or]},{provide:r_,useClass:$L,multi:!0,deps:[Bn]},oS,lS,cS,{provide:za,useExisting:oS},{provide:Qf,useClass:ML,deps:[]},[]];var fS=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(le(Bn))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var we="primary",hu=Symbol("RouteTitle"),u_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function nc(t){return new u_(t)}function YL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ZL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vr(t[n],e[n]))return!1;return!0}function Vr(t,e){let n=t?d_(t):void 0,r=e?d_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!bS(t[i],e[i]))return!1;return!0}function d_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function bS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function ES(t){return t.length>0?t[t.length-1]:null}function go(t){return nv(t)?t:gs(t)?tt(Promise.resolve(t)):pe(t)}var JL={exact:CS,subset:DS},IS={exact:XL,subset:eV,ignored:()=>!0};function pS(t,e,n){return JL[n.paths](t.root,e.root,n.matrixParams)&&IS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function XL(t,e){return Vr(t,e)}function CS(t,e,n){if(!bs(t.segments,e.segments)||!tp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!CS(t.children[r],e.children[r],n))return!1;return!0}function eV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bS(t[n],e[n]))}function DS(t,e,n){return TS(t,e,e.segments,n)}function TS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!bs(i,n)||e.hasChildren()||!tp(i,n,r))}else if(t.segments.length===n.length){if(!bs(t.segments,n)||!tp(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!DS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!bs(t.segments,i)||!tp(t.segments,i,r)||!t.children[we]?!1:TS(t.children[we],e,o,r)}}function tp(t,e,n){return e.every((r,i)=>IS[n](t[i].parameters,r.parameters))}var vi=class{constructor(e=new qe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=nc(this.queryParams),this._queryParamMap}toString(){return rV.serialize(this)}},qe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return np(this)}},ws=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=nc(this.parameters),this._parameterMap}toString(){return AS(this)}};function tV(t,e){return bs(t,e)&&t.every((n,r)=>Vr(n.parameters,e[r].parameters))}function bs(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function nV(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===we&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==we&&(n=n.concat(e(i,r)))}),n}var L_=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:()=>new nu,providedIn:"root"})}}return t})(),nu=class{parse(e){let n=new f_(e);return new vi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Yl(e.root,!0)}`,r=sV(e.queryParams),i=typeof e.fragment=="string"?`#${iV(e.fragment)}`:"";return`${n}${r}${i}`}},rV=new nu;function np(t){return t.segments.map(e=>AS(e)).join("/")}function Yl(t,e){if(!t.hasChildren())return np(t);if(e){let n=t.children[we]?Yl(t.children[we],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==we&&r.push(`${i}:${Yl(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=nV(t,(r,i)=>i===we?[Yl(t.children[we],!1)]:[`${i}:${Yl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[we]!=null?`${np(t)}/${n[0]}`:`${np(t)}/(${n.join("//")})`}}function SS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xf(t){return SS(t).replace(/%3B/gi,";")}function iV(t){return encodeURI(t)}function h_(t){return SS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rp(t){return decodeURIComponent(t)}function mS(t){return rp(t.replace(/\+/g,"%20"))}function AS(t){return`${h_(t.path)}${oV(t.parameters)}`}function oV(t){return Object.entries(t).map(([e,n])=>`;${h_(e)}=${h_(n)}`).join("")}function sV(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Xf(n)}=${Xf(i)}`).join("&"):`${Xf(n)}=${Xf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var aV=/^[^\/()?;#]+/;function s_(t){let e=t.match(aV);return e?e[0]:""}var cV=/^[^\/()?;=#]+/;function lV(t){let e=t.match(cV);return e?e[0]:""}var uV=/^[^=?&#]+/;function dV(t){let e=t.match(uV);return e?e[0]:""}var hV=/^[^&#]+/;function fV(t){let e=t.match(hV);return e?e[0]:""}var f_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new qe([],{}):new qe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[we]=new qe(e,n)),r}parseSegment(){let e=s_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ce(4009,!1);return this.capture(e),new ws(rp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=lV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=s_(this.remaining);i&&(r=i,this.capture(r))}e[rp(n)]=rp(r)}parseQueryParam(e){let n=dV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=fV(this.remaining);s&&(r=s,this.capture(r))}let i=mS(n),o=mS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=s_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ce(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=we);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[we]:new qe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ce(4011,!1)}};function xS(t){return t.segments.length>0?new qe([],{[we]:t}):t}function RS(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=RS(i);if(r===we&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new qe(t.segments,e);return pV(n)}function pV(t){if(t.numberOfChildren===1&&t.children[we]){let e=t.children[we];return new qe(t.segments.concat(e.segments),e.children)}return t}function ru(t){return t instanceof vi}function mV(t,e,n=null,r=null){let i=PS(t);return MS(i,e,n,r)}function PS(t){let e;function n(o){let s={};for(let l of o.children){let d=n(l);s[l.outlet]=d}let a=new qe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=xS(r);return e??i}function MS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return a_(i,i,i,n,r);let o=gV(e);if(o.toRoot())return a_(i,i,new qe([],{}),n,r);let s=vV(o,i,t),a=s.processChildren?Xl(s.segmentGroup,s.index,o.commands):OS(s.segmentGroup,s.index,o.commands);return a_(i,s.segmentGroup,a,n,r)}function ip(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function iu(t){return typeof t=="object"&&t!=null&&t.outlets}function a_(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let s;t===e?s=n:s=NS(t,e,n);let a=xS(RS(s));return new vi(a,o,i)}function NS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=NS(o,e,n)}),new qe(t.segments,r)}var op=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ip(r[0]))throw new ce(4003,!1);let i=r.find(iu);if(i&&i!==ES(r))throw new ce(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new op(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new op(n,e,r)}var Xa=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function vV(t,e,n){if(t.isAbsolute)return new Xa(e,!0,0);if(!n)return new Xa(e,!1,NaN);if(n.parent===null)return new Xa(n,!0,0);let r=ip(t.commands[0])?0:1,i=n.segments.length-1+r;return yV(n,i,t.numberOfDoubleDots)}function yV(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ce(4005,!1);i=r.segments.length}return new Xa(r,!1,i-o)}function _V(t){return iu(t[0])?t[0].outlets:{[we]:t}}function OS(t,e,n){if(t??=new qe([],{}),t.segments.length===0&&t.hasChildren())return Xl(t,e,n);let r=wV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new qe(t.segments.slice(0,r.pathIndex),{});return o.children[we]=new qe(t.segments.slice(r.pathIndex),t.children),Xl(o,0,i)}else return r.match&&i.length===0?new qe(t.segments,{}):r.match&&!t.hasChildren()?p_(t,e,n):r.match?Xl(t,0,i):p_(t,e,n)}function Xl(t,e,n){if(n.length===0)return new qe(t.segments,{});{let r=_V(n),i={};if(Object.keys(r).some(o=>o!==we)&&t.children[we]&&t.numberOfChildren===1&&t.children[we].segments.length===0){let o=Xl(t.children[we],e,n);return new qe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=OS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new qe(t.segments,i)}}function wV(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(iu(a))break;let l=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!vS(l,d,s))return o;r+=2}else{if(!vS(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function p_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(iu(o)){let l=bV(o.outlets);return new qe(r,l)}if(i===0&&ip(n[0])){let l=t.segments[e];r.push(new ws(l.path,gS(n[0]))),i++;continue}let s=iu(o)?o.outlets[we]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ip(a)?(r.push(new ws(s,gS(a))),i+=2):(r.push(new ws(s,{})),i++)}return new qe(r,{})}function bV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=p_(new qe([],{}),0,r))}),e}function gS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function vS(t,e,n){return t==n.path&&Vr(e,n.parameters)}var eu="imperative",Ht=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ht||{}),$n=class{constructor(e,n){this.id=e,this.url=n}},ou=class extends $n{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ht.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Es=class extends $n{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ht.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Dn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Dn||{}),m_=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(m_||{}),gi=class extends $n{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ht.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Is=class extends $n{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ht.NavigationSkipped}},su=class extends $n{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ht.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sp=class extends $n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ht.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},g_=class extends $n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ht.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},v_=class extends $n{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ht.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},y_=class extends $n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ht.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},__=class extends $n{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ht.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},w_=class{constructor(e){this.route=e,this.type=Ht.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},b_=class{constructor(e){this.route=e,this.type=Ht.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},E_=class{constructor(e){this.snapshot=e,this.type=Ht.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},I_=class{constructor(e){this.snapshot=e,this.type=Ht.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},C_=class{constructor(e){this.snapshot=e,this.type=Ht.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},D_=class{constructor(e){this.snapshot=e,this.type=Ht.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var au=class{},rc=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function EV(t,e){return t.providers&&!t._injector&&(t._injector=jy(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ur(t){return t.outlet||we}function IV(t,e){let n=t.filter(r=>ur(r)===e);return n.push(...t.filter(r=>ur(r)!==e)),n}function fu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var T_=class{get injector(){return fu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new fp(this.rootInjector),this.attachRef=null}},fp=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new T_(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(le(kn))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ap=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=S_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=S_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=A_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return A_(e,this._root).map(n=>n.value)}};function S_(t,e){if(t===e.value)return e;for(let n of e.children){let r=S_(t,n);if(r)return r}return null}function A_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=A_(t,n);if(r.length)return r.unshift(e),r}return[]}var Cn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ja(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var cp=class extends ap{constructor(e,n){super(e),this.snapshot=n,V_(this,e)}toString(){return this.snapshot.toString()}};function kS(t){let e=CV(t),n=new st([new ws("",{})]),r=new st({}),i=new st({}),o=new st({}),s=new st(""),a=new ic(n,r,o,s,i,we,t,e.root);return a.snapshot=e.root,new cp(new Cn(a,[]),e)}function CV(t){let e={},n={},r={},i="",o=new ec([],e,r,i,n,we,t,null,{});return new up("",new Cn(o,[]))}var ic=class{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ye(d=>d[hu]))??pe(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ye(e=>nc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ye(e=>nc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function lp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:G(G({},e.params),t.params),data:G(G({},e.data),t.data),resolve:G(G(G(G({},t.data),e.data),i?.data),t._resolvedData)}:r={params:G({},t.params),data:G({},t.data),resolve:G(G({},t.data),t._resolvedData??{})},i&&LS(i)&&(r.resolve[hu]=i.title),r}var ec=class{get title(){return this.data?.[hu]}constructor(e,n,r,i,o,s,a,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=nc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=nc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},up=class extends ap{constructor(e,n){super(n),this.url=e,V_(this,n)}toString(){return FS(this._root)}};function V_(t,e){e.value._routerState=t,e.children.forEach(n=>V_(t,n))}function FS(t){let e=t.children.length>0?` { ${t.children.map(FS).join(", ")} } `:"";return`${t.value}${e}`}function c_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vr(e.params,n.params)||t.paramsSubject.next(n.params),ZL(e.url,n.url)||t.urlSubject.next(n.url),Vr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function x_(t,e){let n=Vr(t.params,e.params)&&tV(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||x_(t.parent,e.parent))}function LS(t){return typeof t.title=="string"||t.title===null}var U_=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new Ue,this.deactivateEvents=new Ue,this.attachEvents=new Ue,this.detachEvents=new Ue,this.parentContexts=Y(fp),this.location=Y(Ka),this.changeDetector=Y(ys),this.inputBinder=Y(j_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ce(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ce(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ce(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ce(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new R_(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ge({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fi]})}}return t})(),R_=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ic?this.route:e===fp?this.childContexts:this.parent.get(e,n)}},j_=new te("");function DV(t,e,n){let r=cu(t,e._root,n?n._root:void 0);return new cp(r,e)}function cu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=TV(t,e,n);return new Cn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>cu(t,a)),s}}let r=SV(e.value),i=e.children.map(o=>cu(t,o));return new Cn(r,i)}}function TV(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return cu(t,r,i);return cu(t,r)})}function SV(t){return new ic(new st(t.url),new st(t.params),new st(t.queryParams),new st(t.fragment),new st(t.data),t.outlet,t.component,t)}var lu=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},VS="ngNavigationCancelingError";function dp(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ru(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=US(!1,Dn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function US(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[VS]=!0,n.cancellationCode=e,n}function AV(t){return jS(t)&&ru(t.url)}function jS(t){return!!t&&t[VS]}var xV=(t,e,n,r)=>ye(i=>(new P_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),P_=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),c_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ja(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ja(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ja(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ja(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new D_(o.value.snapshot))}),e.children.length&&this.forwardEvent(new I_(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(c_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),c_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},hp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},tc=class{constructor(e,n){this.component=e,this.route=n}};function RV(t,e,n){let r=t._root,i=e?e._root:null;return Zl(r,i,n,[r.value])}function PV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function sc(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!xC(t)?t:e.get(t):r}function Zl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ja(e);return t.children.forEach(s=>{MV(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>tu(a,n.getContext(s),i)),i}function MV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=NV(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new hp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Zl(t,e,a?a.children:null,r,i):Zl(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new tc(a.outlet.component,s))}else s&&tu(e,a,i),i.canActivateChecks.push(new hp(r)),o.component?Zl(t,null,a?a.children:null,r,i):Zl(t,null,n,r,i);return i}function NV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!bs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bs(t.url,e.url)||!Vr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!x_(t,e)||!Vr(t.queryParams,e.queryParams);case"paramsChange":default:return!x_(t,e)}}function tu(t,e,n){let r=Ja(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?tu(s,e.children.getContext(o),n):tu(s,null,n):tu(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new tc(e.outlet.component,i)):n.canDeactivateChecks.push(new tc(null,i)):n.canDeactivateChecks.push(new tc(null,i))}function pu(t){return typeof t=="function"}function OV(t){return typeof t=="boolean"}function kV(t){return t&&pu(t.canLoad)}function FV(t){return t&&pu(t.canActivate)}function LV(t){return t&&pu(t.canActivateChild)}function VV(t){return t&&pu(t.canDeactivate)}function UV(t){return t&&pu(t.canMatch)}function BS(t){return t instanceof ii||t?.name==="EmptyError"}var ep=Symbol("INITIAL_VALUE");function oc(){return nr(t=>kh(t.map(e=>e.pipe(oi(1),Uh(ep)))).pipe(ye(e=>{for(let n of e)if(n!==!0){if(n===ep)return ep;if(n===!1||jV(n))return n}return!0}),dn(e=>e!==ep),oi(1)))}function jV(t){return ru(t)||t instanceof lu}function BV(t,e){return Rt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?pe(ge(G({},n),{guardsResult:!0})):$V(s,r,i,t).pipe(Rt(a=>a&&OV(a)?HV(r,o,t,e):pe(a)),ye(a=>ge(G({},n),{guardsResult:a})))})}function $V(t,e,n,r){return tt(t).pipe(Rt(i=>KV(i.component,i.route,n,e,r)),Sr(i=>i!==!0,!0))}function HV(t,e,n,r){return tt(e).pipe(Sa(i=>Ta(qV(i.route.parent,r),zV(i.route,r),WV(t,i.path,n),GV(t,i.route,n))),Sr(i=>i!==!0,!0))}function zV(t,e){return t!==null&&e&&e(new C_(t)),pe(!0)}function qV(t,e){return t!==null&&e&&e(new E_(t)),pe(!0)}function GV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return pe(!0);let i=r.map(o=>Fh(()=>{let s=fu(e)??n,a=sc(o,s),l=FV(a)?a.canActivate(e,t):ui(s,()=>a(e,t));return go(l).pipe(Sr())}));return pe(i).pipe(oc())}function WV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>PV(s)).filter(s=>s!==null).map(s=>Fh(()=>{let a=s.guards.map(l=>{let d=fu(s.node)??n,p=sc(l,d),m=LV(p)?p.canActivateChild(r,t):ui(d,()=>p(r,t));return go(m).pipe(Sr())});return pe(a).pipe(oc())}));return pe(o).pipe(oc())}function KV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return pe(!0);let s=o.map(a=>{let l=fu(e)??i,d=sc(a,l),p=VV(d)?d.canDeactivate(t,e,n,r):ui(l,()=>d(t,e,n,r));return go(p).pipe(Sr())});return pe(s).pipe(oc())}function QV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return pe(!0);let o=i.map(s=>{let a=sc(s,t),l=kV(a)?a.canLoad(e,n):ui(t,()=>a(e,n));return go(l)});return pe(o).pipe(oc(),$S(r))}function $S(t){return gh(pt(e=>{if(typeof e!="boolean")throw dp(t,e)}),ye(e=>e===!0))}function YV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return pe(!0);let o=i.map(s=>{let a=sc(s,t),l=UV(a)?a.canMatch(e,n):ui(t,()=>a(e,n));return go(l)});return pe(o).pipe(oc(),$S(r))}var uu=class{constructor(e){this.segmentGroup=e||null}},du=class extends Error{constructor(e){super(),this.urlTree=e}};function Za(t){return Da(new uu(t))}function ZV(t){return Da(new ce(4e3,!1))}function JV(t){return Da(US(!1,Dn.GuardRejected))}var M_=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return pe(r);if(i.numberOfChildren>1||!i.children[we])return ZV(`${e.redirectTo}`);i=i.children[we]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:d,routeConfig:p,url:m,outlet:y,params:I,data:A,title:j}=i,V=ui(o,()=>a({params:I,data:A,queryParams:l,fragment:d,routeConfig:p,url:m,outlet:y,title:j}));if(V instanceof vi)throw new du(V);n=V}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new du(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new vi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new qe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new ce(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},N_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XV(t,e,n,r,i){let o=HS(t,e,n);return o.matched?(r=EV(e,r),YV(r,e,n,i).pipe(ye(s=>s===!0?o:G({},N_)))):pe(o)}function HS(t,e,n){if(e.path==="**")return eU(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?G({},N_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||YL)(n,t,e);if(!i)return G({},N_);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?G(G({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function eU(t){return{matched:!0,parameters:t.length>0?ES(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function yS(t,e,n,r){return n.length>0&&rU(t,n,r)?{segmentGroup:new qe(e,nU(r,new qe(n,t.children))),slicedSegments:[]}:n.length===0&&iU(t,n,r)?{segmentGroup:new qe(t.segments,tU(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new qe(t.segments,t.children),slicedSegments:n}}function tU(t,e,n,r){let i={};for(let o of n)if(pp(t,e,o)&&!r[ur(o)]){let s=new qe([],{});i[ur(o)]=s}return G(G({},r),i)}function nU(t,e){let n={};n[we]=e;for(let r of t)if(r.path===""&&ur(r)!==we){let i=new qe([],{});n[ur(r)]=i}return n}function rU(t,e,n){return n.some(r=>pp(t,e,r)&&ur(r)!==we)}function iU(t,e,n){return n.some(r=>pp(t,e,r))}function pp(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function oU(t,e,n){return e.length===0&&!t.children[n]}var O_=class{};function sU(t,e,n,r,i,o,s="emptyOnly"){return new k_(t,e,n,r,i,s,o).recognize()}var aU=31,k_=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new M_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ce(4002,`'${e.segmentGroup}'`)}recognize(){let e=yS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ye(({children:n,rootSnapshot:r})=>{let i=new Cn(r,n),o=new up("",i),s=mV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ec([],Object.freeze({}),Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),we,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,we,n).pipe(ye(r=>({children:r,rootSnapshot:n})),ro(r=>{if(r instanceof du)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof uu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ye(s=>s instanceof Cn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return tt(o).pipe(Sa(s=>{let a=r.children[s],l=IV(n,s);return this.processSegmentGroup(e,l,a,s,i)}),Vh((s,a)=>(s.push(...a),s)),io(null),sv(),Rt(s=>{if(s===null)return Za(r);let a=zS(s);return cU(a),pe(a)}))}processSegment(e,n,r,i,o,s,a){return tt(n).pipe(Sa(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,s,a).pipe(ro(d=>{if(d instanceof uu)return pe(null);throw d}))),Sr(l=>!!l),ro(l=>{if(BS(l))return oU(r,i,o)?pe(new O_):Za(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,l){return ur(r)!==s&&(s===we||!pp(i,o,r))?Za(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l):Za(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:l,parameters:d,consumedSegments:p,positionalParamSegments:m,remainingSegments:y}=HS(n,i,o);if(!l)return Za(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>aU&&(this.allowRedirects=!1));let I=new ec(o,d,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,_S(i),ur(i),i.component??i._loadedComponent??null,i,wS(i)),A=lp(I,a,this.paramsInheritanceStrategy);I.params=Object.freeze(A.params),I.data=Object.freeze(A.data);let j=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,m,I,e);return this.applyRedirects.lineralizeSegments(i,j).pipe(Rt(V=>this.processSegment(e,r,n,V.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=XV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(nr(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(nr(({routes:d})=>{let p=r._loadedInjector??e,{parameters:m,consumedSegments:y,remainingSegments:I}=l,A=new ec(y,m,Object.freeze(G({},this.urlTree.queryParams)),this.urlTree.fragment,_S(r),ur(r),r.component??r._loadedComponent??null,r,wS(r)),j=lp(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(j.params),A.data=Object.freeze(j.data);let{segmentGroup:V,slicedSegments:$}=yS(n,y,I,d);if($.length===0&&V.hasChildren())return this.processChildren(p,d,V,A).pipe(ye(ee=>new Cn(A,ee)));if(d.length===0&&$.length===0)return pe(new Cn(A,[]));let J=ur(r)===o;return this.processSegment(p,d,V,$,J?we:o,!0,A).pipe(ye(ee=>new Cn(A,ee instanceof Cn?[ee]:[])))}))):Za(n)))}getChildConfig(e,n,r){return n.children?pe({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?pe({routes:n._loadedRoutes,injector:n._loadedInjector}):QV(e,n,r,this.urlSerializer).pipe(Rt(i=>i?this.configLoader.loadChildren(e,n).pipe(pt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):JV(n))):pe({routes:[],injector:e})}};function cU(t){t.sort((e,n)=>e.value.outlet===we?-1:n.value.outlet===we?1:e.value.outlet.localeCompare(n.value.outlet))}function lU(t){let e=t.value.routeConfig;return e&&e.path===""}function zS(t){let e=[],n=new Set;for(let r of t){if(!lU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=zS(r.children);e.push(new Cn(r.value,i))}return e.filter(r=>!n.has(r))}function _S(t){return t.data||{}}function wS(t){return t.resolve||{}}function uU(t,e,n,r,i,o){return Rt(s=>sU(t,e,n,r,s.extractedUrl,i,o).pipe(ye(({state:a,tree:l})=>ge(G({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function dU(t,e){return Rt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return pe(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of qS(l))s.add(d);let a=0;return tt(s).pipe(Sa(l=>o.has(l)?hU(l,r,t,e):(l.data=lp(l,l.parent,t).resolve,pe(void 0))),pt(()=>a++),Aa(1),Rt(l=>a===s.size?pe(n):bn))})}function qS(t){let e=t.children.map(n=>qS(n)).flat();return[t,...e]}function hU(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!LS(i)&&(o[hu]=i.title),fU(o,t,e,r).pipe(ye(s=>(t._resolvedData=s,t.data=lp(t,t.parent,n).resolve,null)))}function fU(t,e,n,r){let i=d_(t);if(i.length===0)return pe({});let o={};return tt(i).pipe(Rt(s=>pU(t[s],e,n,r).pipe(Sr(),pt(a=>{if(a instanceof lu)throw dp(new nu,a);o[s]=a}))),Aa(1),ov(o),ro(s=>BS(s)?bn:Da(s)))}function pU(t,e,n,r){let i=fu(e)??r,o=sc(t,i),s=o.resolve?o.resolve(e,n):ui(i,()=>o(e,n));return go(s)}function l_(t){return nr(e=>{let n=t(e);return n?tt(n).pipe(ye(()=>e)):pe(e)})}var GS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===we);return r}getResolvedTitleForRoute(n){return n.data[hu]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:()=>Y(mU),providedIn:"root"})}}return t})(),mU=(()=>{class t extends GS{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(le(fS))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),B_=new te("",{providedIn:"root",factory:()=>({})}),gU=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=ze({type:t,selectors:[["ng-component"]],standalone:!0,features:[Qe],decls:1,vars:0,template:function(r,i){r&1&&X(0,"router-outlet")},dependencies:[U_],encapsulation:2})}}return t})();function $_(t){let e=t.children&&t.children.map($_),n=e?ge(G({},t),{children:e}):G({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==we&&(n.component=gU),n}var H_=new te(""),vU=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Y(qy)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return pe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=go(n.loadComponent()).pipe(ye(WS),pt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Rl(()=>{this.componentLoaders.delete(n)})),i=new ba(r,()=>new Ot).pipe(wa());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=yU(r,this.compiler,n,this.onLoadEndListener).pipe(Rl(()=>{this.childrenLoaders.delete(r)})),s=new ba(o,()=>new Ot).pipe(wa());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function yU(t,e,n,r){return go(t.loadChildren()).pipe(ye(WS),Rt(i=>i instanceof Ul||Array.isArray(i)?pe(i):tt(e.compileModuleAsync(i))),ye(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(H_,[],{optional:!0,self:!0}).flat()),{routes:s.map($_),injector:o}}))}function _U(t){return t&&typeof t=="object"&&"default"in t}function WS(t){return _U(t)?t.default:t}var z_=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:()=>Y(wU),providedIn:"root"})}}return t})(),wU=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bU=new te("");var EU=new te(""),IU=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ot,this.transitionAbortSubject=new Ot,this.configLoader=Y(vU),this.environmentInjector=Y(kn),this.urlSerializer=Y(L_),this.rootContexts=Y(fp),this.location=Y(Gl),this.inputBindingEnabled=Y(j_,{optional:!0})!==null,this.titleStrategy=Y(GS),this.options=Y(B_,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Y(z_),this.createViewTransition=Y(bU,{optional:!0}),this.navigationErrorHandler=Y(EU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>pe(void 0),this.rootComponentType=null;let n=i=>this.events.next(new w_(i)),r=i=>this.events.next(new b_(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ge(G(G({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new st({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:eu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(dn(o=>o.id!==0),ye(o=>ge(G({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),nr(o=>{let s=!1,a=!1;return pe(o).pipe(nr(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Dn.SupersededByNewNavigation),bn;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ge(G({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&p!=="reload"){let m="";return this.events.next(new Is(l.id,this.urlSerializer.serialize(l.rawUrl),m,m_.IgnoredSameUrlNavigation)),l.resolve(!1),bn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return pe(l).pipe(nr(m=>{let y=this.transitions?.getValue();return this.events.next(new ou(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?bn:Promise.resolve(m)}),uU(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),pt(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ge(G({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new sp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:I,restoredState:A,extras:j}=l,V=new ou(m,this.urlSerializer.serialize(y),I,A);this.events.next(V);let $=kS(this.rootComponentType).snapshot;return this.currentTransition=o=ge(G({},l),{targetSnapshot:$,urlAfterRedirects:y,extras:ge(G({},j),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,pe(o)}else{let m="";return this.events.next(new Is(l.id,this.urlSerializer.serialize(l.extractedUrl),m,m_.IgnoredByUrlHandlingStrategy)),l.resolve(!1),bn}}),pt(l=>{let d=new g_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ye(l=>(this.currentTransition=o=ge(G({},l),{guards:RV(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),BV(this.environmentInjector,l=>this.events.next(l)),pt(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw dp(this.urlSerializer,l.guardsResult);let d=new v_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),dn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Dn.GuardRejected),!1)),l_(l=>{if(l.guards.canActivateChecks.length)return pe(l).pipe(pt(d=>{let p=new y_(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),nr(d=>{let p=!1;return pe(d).pipe(dU(this.paramsInheritanceStrategy,this.environmentInjector),pt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",Dn.NoDataFromResolver)}}))}),pt(d=>{let p=new __(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),l_(l=>{let d=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(pt(y=>{p.component=y}),ye(()=>{})));for(let y of p.children)m.push(...d(y));return m};return kh(d(l.targetSnapshot.root)).pipe(io(null),oi(1))}),l_(()=>this.afterPreactivation()),nr(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return p?tt(p).pipe(ye(()=>o)):pe(o)}),ye(l=>{let d=DV(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ge(G({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),pt(()=>{this.events.next(new au)}),xV(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),oi(1),pt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Es(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),av(this.transitionAbortSubject.pipe(pt(l=>{throw l}))),Rl(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Dn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ro(l=>{if(a=!0,jS(l))this.events.next(new gi(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),AV(l)?this.events.next(new rc(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new su(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let p=ui(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof lu){let{message:m,cancellationCode:y}=dp(this.urlSerializer,p);this.events.next(new gi(o.id,this.urlSerializer.serialize(o.extractedUrl),m,y)),this.events.next(new rc(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let m=n.errorHandler(l);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return bn}))}))}cancelNavigationTransition(n,r,i){let o=new gi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function CU(t){return t!==eu}var DU=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:()=>Y(TU),providedIn:"root"})}}return t})(),F_=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},TU=(()=>{class t extends F_{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),KS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:()=>Y(SU),providedIn:"root"})}}return t})(),SU=(()=>{class t extends KS{constructor(){super(...arguments),this.location=Y(Gl),this.urlSerializer=Y(L_),this.options=Y(B_,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Y(z_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new vi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=kS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ou)this.stateMemento=this.createStateMemento();else if(n instanceof Is)this.rawUrlTree=r.initialUrl;else if(n instanceof sp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof au?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof gi&&(n.code===Dn.GuardRejected||n.code===Dn.NoDataFromResolver)?this.restoreHistory(r):n instanceof su?this.restoreHistory(r,!0):n instanceof Es&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof vi?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=G(G({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=G(G({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Jl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Jl||{});function AU(t,e){t.events.pipe(dn(n=>n instanceof Es||n instanceof gi||n instanceof su||n instanceof Is),ye(n=>n instanceof Es||n instanceof Is?Jl.COMPLETE:(n instanceof gi?n.code===Dn.Redirect||n.code===Dn.SupersededByNewNavigation:!1)?Jl.REDIRECTING:Jl.FAILED),dn(n=>n!==Jl.REDIRECTING),oi(1)).subscribe(()=>{e()})}function xU(t){throw t}var RU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ur=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Y(Wf),this.stateManager=Y(KS),this.options=Y(B_,{optional:!0})||{},this.pendingTasks=Y(Wa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Y(IU),this.urlSerializer=Y(L_),this.location=Y(Gl),this.urlHandlingStrategy=Y(z_),this._events=new Ot,this.errorHandler=this.options.errorHandler||xU,this.navigated=!1,this.routeReuseStrategy=Y(DU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Y(H_,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Y(j_,{optional:!0}),this.eventsSubscription=new lt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof gi&&r.code!==Dn.Redirect&&r.code!==Dn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Es)this.navigated=!0;else if(r instanceof rc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=G({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||CU(i.source)},s);this.scheduleNavigation(a,eu,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}NU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),eu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=G({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map($_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=G(G({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=i?i.snapshot:this.routerState.snapshot.root;m=PS(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),m=this.currentUrlTree.root}return MS(m,n,p,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ru(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,eu,null,r)}navigate(n,r={skipLocationChange:!1}){return MU(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=G({},RU):r===!1?i=G({},PU):i=r,ru(n))return pS(this.currentUrlTree,n,i);let o=this.parseUrl(n);return pS(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((m,y)=>{a=m,l=y});let p=this.pendingTasks.add();return AU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function MU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ce(4008,!1)}function NU(t){return!(t instanceof au)&&!(t instanceof rc)}var OU=new te("");function QS(t,...e){return Ln([{provide:H_,multi:!0,useValue:t},[],{provide:ic,useFactory:kU,deps:[Ur]},{provide:zy,multi:!0,useFactory:FU},e.map(n=>n.\u0275providers)])}function kU(t){return t.routerState.root}function FU(){let t=Y(Kt);return e=>{let n=t.get(vs);if(e!==n.components[0])return;let r=t.get(Ur),i=t.get(LU);t.get(VU)===1&&r.initialNavigation(),t.get(UU,null,Ee.Optional)?.setUpPreloading(),t.get(OU,null,Ee.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var LU=new te("",{factory:()=>new Ot}),VU=new te("",{providedIn:"root",factory:()=>1});var UU=new te("");var gp=class t{transform(e){switch(e){case"especialista":return"\u{1F468}\u200D\u2695\uFE0F";case"administrador":return"\u{1F9D1}\u200D\u{1F4BB}";default:return"\u{1F7E2}"}}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=hy({name:"iconosUsuario",type:t,pure:!0,standalone:!0})};var vo=class t{constructor(e,n){this.el=e;this.renderer=n}onMouseEnter(){this.expand()}onMouseLeave(){this.contract()}expand(){this.renderer.setStyle(this.el.nativeElement,"transform","scale(1.1)")}contract(){this.renderer.setStyle(this.el.nativeElement,"transform","scale(1)")}static \u0275fac=function(n){return new(n||t)(q(Qt),q(In))};static \u0275dir=Ge({type:t,selectors:[["","appExpandirHover",""]],hostBindings:function(n,r){n&1&&re("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},standalone:!0})};var XR=jM(YS());var ac=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(ac||{});function Cs(t,e){return{type:ac.Trigger,name:t,definitions:e,options:{}}}function Ds(t,e=null){return{type:ac.Animate,styles:e,timings:t}}function Hn(t){return{type:ac.Style,styles:t,offset:null}}function zn(t,e,n){return{type:ac.State,name:t,styles:e,options:n}}function Ts(t,e,n=null){return{type:ac.Transition,expr:t,animation:e,options:n}}var yi={deslizarAbajo:Cs("deslizarAbajo",[zn("void",Hn({transform:"translateY(100%)",opacity:0})),zn("*",Hn({transform:"translateY(0)",opacity:1})),Ts("void => *",Ds("0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940)"))]),deslizarArriba:Cs("deslizarArriba",[zn("void",Hn({transform:"translateY(-1000px)",opacity:0})),zn("*",Hn({transform:"translateY(0)",opacity:1})),Ts("void => *",Ds("0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940)"))]),escalaCentro:Cs("escalaCentro",[zn("void",Hn({transform:"scale(0)",opacity:0})),zn("*",Hn({transform:"scale(1)",opacity:1})),Ts("void => *",Ds("0.5s cubic-bezier(.25,.46,.45,.94)"))]),rotarVerticalIzquierda:Cs("rotarVerticalIzquierda",[zn("*",Hn({transform:"rotateY(360deg)",transformOrigin:"left"})),Ts("void => *",Ds("1s cubic-bezier(.25,.46,.45,.94)"))]),reboteArriba:Cs("reboteArriba",[zn("void",Hn({transform:"translateY(-45px)",animationTimingFunction:"ease-in",opacity:1})),zn("*",Hn({transform:"translateY(0)",animationTimingFunction:"ease-out",opacity:1})),Ts("void => *",Ds("0.9s 0.5s"))]),contraccionSeguimiento:Cs("contraccionSeguimiento",[zn("void",Hn({letterSpacing:"1em",opacity:0})),zn("*",Hn({letterSpacing:"normal",opacity:1})),Ts("void => *",Ds("0.8s cubic-bezier(.215,.61,.355,1.000)"))])};var JS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},XS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,d=l?t[i+2]:0,p=o>>2,m=(o&3)<<4|a>>4,y=(a&15)<<2|d>>6,I=d&63;l||(I=64,s||(y=64)),r.push(n[p],n[m],n[y],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||d==null||m==null)throw new W_;let y=o<<2|a>>4;if(r.push(y),d!==64){let I=a<<4&240|d>>2;if(r.push(I),m!==64){let A=d<<6&192|m;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},W_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},BU=function(t){let e=JS(t);return XS.encodeByteArray(e,!0)},mu=function(t){return BU(t).replace(/\./g,"")},Q_=function(t){try{return XS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $U(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var HU=()=>$U().__FIREBASE_DEFAULTS__,zU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Q_(t[1]);return e&&JSON.parse(e)},yp=()=>{try{return HU()||zU()||qU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Y_=t=>{var e,n;return(n=(e=yp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_p=t=>{let e=Y_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Z_=()=>{var t;return(t=yp())===null||t===void 0?void 0:t.config},J_=t=>{var e;return(e=yp())===null||e===void 0?void 0:e[`_${t}`]};var vp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function wp(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mu(JSON.stringify(n)),mu(JSON.stringify(s)),""].join(".")}function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function GU(){var t;let e=(t=yp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iA(){let t=Ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oA(){return!GU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X_(){try{return typeof indexedDB=="object"}catch{return!1}}function sA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var WU="FirebaseError",sn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_i.prototype.create)}},_i=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?KU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new sn(i,a,r)}};function KU(t,e){return t.replace(QU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var QU=/\{\$([^}]+)}/g;function aA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ss(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(ZS(o)&&ZS(s)){if(!Ss(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function ZS(t){return t!==null&&typeof t=="object"}function gu(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function lc(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cA(t,e){let n=new K_(t,e);return n.subscribe.bind(n)}var K_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=G_),i.error===void 0&&(i.error=G_),i.complete===void 0&&(i.complete=G_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function YU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function G_(){}var JY=4*60*60*1e3;function Je(t){return t&&t._delegate?t._delegate:t}var pn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var As="[DEFAULT]";var ew=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new vp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JU(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ZU(t){return t===As?void 0:t}function JU(t){return t.instantiationMode==="EAGER"}var bp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ew(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var XU=[],Re=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Re||{}),ej={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},tj=Re.INFO,nj={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},rj=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=nj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},yo=class{constructor(e){this.name=e,this._logLevel=tj,this._logHandler=rj,this._userLogHandler=null,XU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ej[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}};var ij=(t,e)=>e.some(n=>t instanceof n),lA,uA;function oj(){return lA||(lA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sj(){return uA||(uA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var dA=new WeakMap,nw=new WeakMap,hA=new WeakMap,tw=new WeakMap,iw=new WeakMap;function aj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Br(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&dA.set(n,t)}).catch(()=>{}),iw.set(e,t),e}function cj(t){if(nw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});nw.set(t,e)}var rw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fA(t){rw=t(rw)}function lj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ep(this),e,...n);return hA.set(r,e.sort?e.sort():[e]),Br(r)}:sj().includes(t)?function(...e){return t.apply(Ep(this),e),Br(dA.get(this))}:function(...e){return Br(t.apply(Ep(this),e))}}function uj(t){return typeof t=="function"?lj(t):(t instanceof IDBTransaction&&cj(t),ij(t,oj())?new Proxy(t,rw):t)}function Br(t){if(t instanceof IDBRequest)return aj(t);if(tw.has(t))return tw.get(t);let e=uj(t);return e!==t&&(tw.set(t,e),iw.set(e,t)),e}var Ep=t=>iw.get(t);function mA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Br(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Br(s.result),l.oldVersion,l.newVersion,Br(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var dj=["get","getKey","getAll","getAllKeys","count"],hj=["put","add","delete","clear"],ow=new Map;function pA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ow.get(e))return ow.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=hj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dj.includes(n)))return;let o=function(s,...a){return D(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),d=l.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[n](...a),i&&l.done]))[0]})};return ow.set(e,o),o}fA(t=>ge(G({},t),{get:(e,n,r)=>pA(e,n)||t.get(e,n,r),has:(e,n)=>!!pA(e,n)||t.has(e,n)}));var aw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function fj(t){let e=t.getComponent();return e?.type==="VERSION"}var cw="@firebase/app",gA="0.10.13";var wi=new yo("@firebase/app"),pj="@firebase/app-compat",mj="@firebase/analytics-compat",gj="@firebase/analytics",vj="@firebase/app-check-compat",yj="@firebase/app-check",_j="@firebase/auth",wj="@firebase/auth-compat",bj="@firebase/database",Ej="@firebase/data-connect",Ij="@firebase/database-compat",Cj="@firebase/functions",Dj="@firebase/functions-compat",Tj="@firebase/installations",Sj="@firebase/installations-compat",Aj="@firebase/messaging",xj="@firebase/messaging-compat",Rj="@firebase/performance",Pj="@firebase/performance-compat",Mj="@firebase/remote-config",Nj="@firebase/remote-config-compat",Oj="@firebase/storage",kj="@firebase/storage-compat",Fj="@firebase/firestore",Lj="@firebase/vertexai-preview",Vj="@firebase/firestore-compat",Uj="firebase",jj="10.14.1";var lw="[DEFAULT]",Bj={[cw]:"fire-core",[pj]:"fire-core-compat",[gj]:"fire-analytics",[mj]:"fire-analytics-compat",[yj]:"fire-app-check",[vj]:"fire-app-check-compat",[_j]:"fire-auth",[wj]:"fire-auth-compat",[bj]:"fire-rtdb",[Ej]:"fire-data-connect",[Ij]:"fire-rtdb-compat",[Cj]:"fire-fn",[Dj]:"fire-fn-compat",[Tj]:"fire-iid",[Sj]:"fire-iid-compat",[Aj]:"fire-fcm",[xj]:"fire-fcm-compat",[Rj]:"fire-perf",[Pj]:"fire-perf-compat",[Mj]:"fire-rc",[Nj]:"fire-rc-compat",[Oj]:"fire-gcs",[kj]:"fire-gcs-compat",[Fj]:"fire-fst",[Vj]:"fire-fst-compat",[Lj]:"fire-vertex","fire-js":"fire-js",[Uj]:"fire-js-all"};var vu=new Map,$j=new Map,uw=new Map;function vA(t,e){try{t.container.addComponent(e)}catch(n){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $r(t){let e=t.name;if(uw.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;uw.set(e,t);for(let n of vu.values())vA(n,t);for(let n of $j.values())vA(n,t);return!0}function xs(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dr(t){return t.settings!==void 0}var Hj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_o=new _i("app","Firebase",Hj);var dw=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}};var Hr=jj;function pw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:lw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _o.create("bad-app-name",{appName:String(i)});if(n||(n=Z_()),!n)throw _o.create("no-options");let o=vu.get(i);if(o){if(Ss(n,o.options)&&Ss(r,o.config))return o;throw _o.create("duplicate-app",{appName:i})}let s=new bp(i);for(let l of uw.values())s.addComponent(l);let a=new dw(n,r,s);return vu.set(i,a),a}function wo(t=lw){let e=vu.get(t);if(!e&&t===lw&&Z_())return pw();if(!e)throw _o.create("no-app",{appName:t});return e}function Ip(){return Array.from(vu.values())}function rt(t,e,n){var r;let i=(r=Bj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(a.join(" "));return}$r(new pn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var zj="firebase-heartbeat-database",qj=1,yu="firebase-heartbeat-store",sw=null;function bA(){return sw||(sw=mA(zj,qj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw _o.create("idb-open",{originalErrorMessage:t.message})})),sw}function Gj(t){return D(this,null,function*(){try{let n=(yield bA()).transaction(yu),r=yield n.objectStore(yu).get(EA(t));return yield n.done,r}catch(e){if(e instanceof sn)wi.warn(e.message);else{let n=_o.create("idb-get",{originalErrorMessage:e?.message});wi.warn(n.message)}}})}function yA(t,e){return D(this,null,function*(){try{let r=(yield bA()).transaction(yu,"readwrite");yield r.objectStore(yu).put(e,EA(t)),yield r.done}catch(n){if(n instanceof sn)wi.warn(n.message);else{let r=_o.create("idb-set",{originalErrorMessage:n?.message});wi.warn(r.message)}}})}function EA(t){return`${t.name}!${t.options.appId}`}var Wj=1024,Kj=30*24*60*60*1e3,hw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new fw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_A();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=Kj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){wi.warn(r)}})}getHeartbeatsHeader(){return D(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=_A(),{heartbeatsToSend:r,unsentEntries:i}=Qj(this._heartbeatsCache.heartbeats),o=mu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return wi.warn(n),""}})}};function _A(){return new Date().toISOString().substring(0,10)}function Qj(t,e=Wj){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),wA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var fw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return X_()?sA().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Gj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function wA(t){return mu(JSON.stringify({version:2,heartbeats:t})).length}function Yj(t){$r(new pn("platform-logger",e=>new aw(e),"PRIVATE")),$r(new pn("heartbeat",e=>new hw(e),"PRIVATE")),rt(cw,gA,t),rt(cw,gA,"esm2017"),rt("fire-js","")}Yj("");var Zj="firebase",Jj="10.14.1";rt(Zj,Jj,"app");var bi=new li("ANGULARFIRE2_VERSION");function dc(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ps=(t,e)=>{let n=e?[e]:Ip(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},bo=class{constructor(){return Ps(Xj)}},Xj="app-check";function uc(){}var Cp=class{zone;delegate;constructor(e,n=ev){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},mw=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uc,{},uc,uc)),n.pipe(pt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Eo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Cp(Zone.current)),this.insideAngular=n.run(()=>new Cp(Zone.current,Xg)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(le(je))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dp(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function eB(t){return Dp().ngZone.runOutsideAngular(()=>t())}function Rs(t){return Dp().ngZone.run(()=>t())}function tB(t){return nB(Dp())(t)}function nB(t){return function(n){return n=n.lift(new mw(t.ngZone)),n.pipe(no(t.outsideAngular),to(t.insideAngular))}}var rB=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Rs(()=>t.apply(void 0,r))},ut=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Rs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uc,{},uc,uc))),r[o]=rB(r[o],n));let i=eB(()=>t.apply(this,r));if(!e)if(i instanceof Ae){let o=Dp();return i.pipe(no(o.outsideAngular),to(o.insideAngular))}else return Rs(()=>i);return i instanceof Ae?i.pipe(tB):i instanceof Promise?Rs(()=>new Promise((o,s)=>i.then(a=>Rs(()=>o(a)),a=>Rs(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Rs(()=>i)};var hr=class{constructor(e){return e}},Ei=class{constructor(){return Ip()}};function iB(t){return t&&t.length===1?t[0]:new hr(wo())}var gw=new te("angularfire2._apps"),oB={provide:hr,useFactory:iB,deps:[[new bt,gw]]},sB={provide:Ei,deps:[[new bt,gw]]};function aB(t){return(e,n)=>{let r=n.get(Or);rt("angularfire",bi.full,"core"),rt("angularfire",bi.full,"app"),rt("angular",LT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new hr(i)}}function IA(t,...e){return Ln([oB,sB,{provide:gw,useFactory:aB(t),multi:!0,deps:[je,Kt,Eo,...e]}])}var CA=ut(pw,!0);function BA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var $A=BA,HA=new _i("auth","Firebase",BA());var Pp=new yo("@firebase/auth");function cB(t,...e){Pp.logLevel<=Re.WARN&&Pp.warn(`Auth (${Hr}): ${t}`,...e)}function Sp(t,...e){Pp.logLevel<=Re.ERROR&&Pp.error(`Auth (${Hr}): ${t}`,...e)}function qr(t,...e){throw Uw(t,...e)}function Ms(t,...e){return Uw(t,...e)}function zA(t,e,n){let r=Object.assign(Object.assign({},$A()),{[e]:n});return new _i("auth","Firebase",r).create(e,{appName:t.name})}function Di(t){return zA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uw(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HA.create(t,...e)}function de(t,e,...n){if(!t)throw Uw(e,...n)}function Ii(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Sp(e),new Error(e)}function Co(t,e){t||Ii(e)}function ww(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lB(){return DA()==="http:"||DA()==="https:"}function DA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function uB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lB()||nA()||"connection"in navigator)?navigator.onLine:!0}function dB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ns=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Co(n>e,"Short delay should be less than long delay!"),this.isMobile=eA()||rA()}get(){return uB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function jw(t,e){Co(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Mp=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var hB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var fB=new Ns(3e4,6e4);function Ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Si(o,s,a,l){return D(this,arguments,function*(t,e,n,r,i={}){return qA(t,i,()=>D(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let m=gu(Object.assign({key:t.config.apiKey},p)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let I=Object.assign({method:e,headers:y},d);return tA()||(I.referrerPolicy="no-referrer"),Mp.fetch()(GA(t,t.config.apiHost,n,m),I)}))})}function qA(t,e,n){return D(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},hB),e);try{let i=new bw(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Tp(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tp(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Tp(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Tp(t,"user-disabled",s);let p=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw zA(t,p,d);qr(t,p)}}catch(i){if(i instanceof sn)throw i;qr(t,"network-request-failed",{message:String(i)})}})}function Tu(o,s,a,l){return D(this,arguments,function*(t,e,n,r,i={}){let d=yield Si(t,e,n,r,i);return"mfaPendingCredential"in d&&qr(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function GA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?jw(t.config,i):`${t.config.apiScheme}://${i}`}function pB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var bw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ms(this.auth,"network-request-failed")),fB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Tp(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ms(t,e,r);return i.customData._tokenResponse=n,i}function TA(t){return t!==void 0&&t.enterprise!==void 0}var Ew=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function mB(t,e){return D(this,null,function*(){return Si(t,"GET","/v2/recaptchaConfig",Ti(t,e))})}function gB(t,e){return D(this,null,function*(){return Si(t,"POST","/v1/accounts:delete",e)})}function WA(t,e){return D(this,null,function*(){return Si(t,"POST","/v1/accounts:lookup",e)})}function _u(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Bw(t,e=!1){return D(this,null,function*(){let n=Je(t),r=yield n.getIdToken(e),i=$w(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:_u(vw(i.auth_time)),issuedAtTime:_u(vw(i.iat)),expirationTime:_u(vw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function vw(t){return Number(t)*1e3}function $w(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sp("JWT malformed, contained fewer than 3 sections"),null;try{let i=Q_(n);return i?JSON.parse(i):(Sp("Failed to decode base64 JWT payload"),null)}catch(i){return Sp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function SA(t){let e=$w(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function bu(t,e,n=!1){return D(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof sn&&vB(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function vB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Iw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),n)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Eu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Np(t){return D(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield bu(t,WA(n,{idToken:r}));de(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?KA(o.providerUserInfo):[],a=yB(t.providerData,s),l=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!a?.length,p=l?d:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Eu(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,m)})}function Hw(t){return D(this,null,function*(){let e=Je(t);yield Np(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function yB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KA(t){return t.map(e=>{var{providerId:n}=e,r=tv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _B(t,e){return D(this,null,function*(){let n=yield qA(t,{},()=>D(this,null,function*(){let r=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=GA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Mp.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function wB(t,e){return D(this,null,function*(){return Si(t,"POST","/v2/accounts:revokeToken",Ti(t,e))})}var wu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");let n=SA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return D(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield _B(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ii("not implemented")}};function Io(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var hc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=tv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Iw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Eu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let n=yield bu(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Bw(this,e)}reload(){return Hw(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Np(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(dr(this.auth.app))return Promise.reject(Di(this.auth));let e=yield this.getIdToken();return yield bu(this,gB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,d,p;let m=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,I=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,j=(a=n.tenantId)!==null&&a!==void 0?a:void 0,V=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,$=(d=n.createdAt)!==null&&d!==void 0?d:void 0,J=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:ee,emailVerified:ie,isAnonymous:Ne,providerData:ae,stsTokenManager:R}=n;de(ee&&R,e,"internal-error");let C=wu.fromJSON(this.name,R);de(typeof ee=="string",e,"internal-error"),Io(m,e.name),Io(y,e.name),de(typeof ie=="boolean",e,"internal-error"),de(typeof Ne=="boolean",e,"internal-error"),Io(I,e.name),Io(A,e.name),Io(j,e.name),Io(V,e.name),Io($,e.name),Io(J,e.name);let T=new t({uid:ee,auth:e,email:y,emailVerified:ie,displayName:m,isAnonymous:Ne,photoURL:A,phoneNumber:I,tenantId:j,stsTokenManager:C,createdAt:$,lastLoginAt:J});return ae&&Array.isArray(ae)&&(T.providerData=ae.map(P=>Object.assign({},P))),V&&(T._redirectEventId=V),T}static _fromIdTokenResponse(e,n,r=!1){return D(this,null,function*(){let i=new wu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Np(o),o})}static _fromGetAccountInfoResponse(e,n,r){return D(this,null,function*(){let i=n.users[0];de(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?KA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new wu;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Eu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,d),l})}};var AA=new Map;function Ci(t){Co(t instanceof Function,"Expected a class definition");let e=AA.get(t);return e?(Co(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AA.set(t,e),e)}var bB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(n,r){return D(this,null,function*(){this.storage[n]=r})}_get(n){return D(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return D(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Cw=bB;function Ap(t,e,n){return`firebase:${t}:${e}:${n}`}var Op=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ap(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ap("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?hc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return D(this,null,function*(){if(!n.length)return new t(Ci(Cw),e,r);let i=(yield Promise.all(n.map(d=>D(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||Ci(Cw),s=Ap(r,e.config.apiKey,e.name),a=null;for(let d of n)try{let p=yield d._get(s);if(p){let m=hc._fromJSON(e,p);d!==o&&(a=m),o=d;break}}catch{}let l=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new t(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(d=>D(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new t(o,e,r))})}};function xA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ex(e))return"Blackberry";if(tx(e))return"Webos";if(YA(e))return"Safari";if((e.includes("chrome/")||ZA(e))&&!e.includes("edge/"))return"Chrome";if(XA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function QA(t=Ft()){return/firefox\//i.test(t)}function YA(t=Ft()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZA(t=Ft()){return/crios\//i.test(t)}function JA(t=Ft()){return/iemobile/i.test(t)}function XA(t=Ft()){return/android/i.test(t)}function ex(t=Ft()){return/blackberry/i.test(t)}function tx(t=Ft()){return/webos/i.test(t)}function zw(t=Ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EB(t=Ft()){var e;return zw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IB(){return iA()&&document.documentMode===10}function nx(t=Ft()){return zw(t)||XA(t)||tx(t)||ex(t)||/windows phone/i.test(t)||JA(t)}function rx(t,e=[]){let n;switch(t){case"Browser":n=xA(Ft());break;case"Worker":n=`${xA(Ft())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hr}/${r}`}var Dw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function CB(n){return D(this,arguments,function*(t,e={}){return Si(t,"GET","/v2/passwordPolicy",Ti(t,e))})}var DB=6,Tw=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:DB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Sw=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kp(this),this.idTokenSubscription=new kp(this),this.beforeStateQueue=new Dw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ci(n)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Op.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let n=yield WA(this,{idToken:e}),r=yield hc._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var n;if(dr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield Np(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=dB()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(dr(this.app))return Promise.reject(Di(this));let n=e?Je(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return D(this,null,function*(){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return dr(this.app)?Promise.reject(Di(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return dr(this.app)?Promise.reject(Di(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(Ci(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield CB(this),n=new Tw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _i("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield wB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ci(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=yield Op.create(this,[Ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return D(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&cB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ks(t){return Je(t)}var kp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=cA(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var $p={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TB(t){$p=t}function ix(t){return $p.loadJS(t)}function SB(){return $p.recaptchaEnterpriseScript}function AB(){return $p.gapiScript}function ox(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var xB="recaptcha-enterprise",RB="NO_RECAPTCHA",Aw=class{constructor(e){this.type=xB,this.auth=ks(e)}verify(e="verify",n=!1){return D(this,null,function*(){function r(o){return D(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>D(this,null,function*(){mB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new Ew(l);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(l=>{a(l)})}))})}function i(o,s,a){let l=window.grecaptcha;TA(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(RB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&TA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=SB();l.length!==0&&(l+=a),ix(l).then(()=>{i(a,o,s)}).catch(d=>{s(d)})}}).catch(a=>{s(a)})})})}};function RA(t,e,n,r=!1){return D(this,null,function*(){let i=new Aw(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function xw(t,e,n,r){return D(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield RA(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>D(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield RA(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function qw(t,e){let n=xs(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Ss(o,e??{}))return i;qr(i,"already-initialized")}return n.initialize({options:e})}function PB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ci);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Gw(t,e,n){let r=ks(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=sx(e),{host:s,port:a}=MB(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||NB()}function sx(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MB(t){let e=sx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:PA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:PA(s)}}}function PA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function NB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Iu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,n){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}};function OB(t,e){return D(this,null,function*(){return Si(t,"POST","/v1/accounts:signUp",e)})}function kB(t,e){return D(this,null,function*(){return Tu(t,"POST","/v1/accounts:signInWithPassword",Ti(t,e))})}function FB(t,e){return D(this,null,function*(){return Si(t,"POST","/v1/accounts:sendOobCode",Ti(t,e))})}function LB(t,e){return D(this,null,function*(){return FB(t,e)})}function VB(t,e){return D(this,null,function*(){return Tu(t,"POST","/v1/accounts:signInWithEmailLink",Ti(t,e))})}function UB(t,e){return D(this,null,function*(){return Tu(t,"POST","/v1/accounts:signInWithEmailLink",Ti(t,e))})}var Cu=class t extends Iu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return D(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xw(e,n,"signInWithPassword",kB);case"emailLink":return VB(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}})}_linkToIdToken(e,n){return D(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xw(e,r,"signUpPassword",OB);case"emailLink":return UB(e,{idToken:n,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function yw(t,e){return D(this,null,function*(){return Tu(t,"POST","/v1/accounts:signInWithIdp",Ti(t,e))})}function jB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BB(t){let e=cc(lc(t)).link,n=e?cc(lc(e)).deep_link_id:null,r=cc(lc(t)).deep_link_id;return(r?cc(lc(r)).link:null)||r||n||e||t}var Fp=class t{constructor(e){var n,r,i,o,s,a;let l=cc(lc(e)),d=(n=l.apiKey)!==null&&n!==void 0?n:null,p=(r=l.oobCode)!==null&&r!==void 0?r:null,m=jB((i=l.mode)!==null&&i!==void 0?i:null);de(d&&p&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=p,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=BB(e);try{return new t(n)}catch{return null}}};var ax=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Cu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Fp.parseLink(r);return de(i,"argument-error"),Cu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Lp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Rw=class extends Lp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function $B(t,e){return D(this,null,function*(){return Tu(t,"POST","/v1/accounts:signUp",Ti(t,e))})}var fc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return D(this,null,function*(){let o=yield hc._fromIdTokenResponse(e,r,i),s=MA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return D(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=MA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function MA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Pw=class t extends sn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function cx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Pw._fromErrorAndOperation(t,o,e,r):o})}function HB(t,e,n=!1){return D(this,null,function*(){let r=yield bu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return fc._forOperation(t,"link",r)})}function zB(t,e,n=!1){return D(this,null,function*(){let{auth:r}=t;if(dr(r.app))return Promise.reject(Di(r));let i="reauthenticate";try{let o=yield bu(t,cx(r,i,e,t),n);de(o.idToken,r,"internal-error");let s=$w(o.idToken);de(s,r,"internal-error");let{sub:a}=s;return de(t.uid===a,r,"user-mismatch"),fc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&qr(r,"user-mismatch"),o}})}function lx(t,e,n=!1){return D(this,null,function*(){if(dr(t.app))return Promise.reject(Di(t));let r="signIn",i=yield cx(t,r,e),o=yield fc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Ww(t,e){return D(this,null,function*(){return lx(ks(t),e)})}function qB(t,e,n){var r;de(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),de(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(de(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(de(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function ux(t){return D(this,null,function*(){let e=ks(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Kw(t,e,n){return D(this,null,function*(){if(dr(t.app))return Promise.reject(Di(t));let r=ks(t),s=yield xw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$B).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ux(t),l}),a=yield fc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Qw(t,e,n){return dr(t.app)?Promise.reject(Di(t)):Ww(Je(t),ax.credential(e,n)).catch(r=>D(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&ux(t),r}))}function Yw(t,e){return D(this,null,function*(){let n=Je(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&qB(n.auth,i,e);let{email:o}=yield LB(n.auth,i);o!==t.email&&(yield t.reload())})}function Zw(t,e,n,r){return Je(t).onIdTokenChanged(e,n,r)}function Jw(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}function Xw(t,e,n,r){return Je(t).onAuthStateChanged(e,n,r)}var Vp="__sak";var Up=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vp,"1"),this.storage.removeItem(Vp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var GB=1e3,WB=10,KB=(()=>{class t extends Up{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nx(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,d)=>{this.notifyListeners(a,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);IB()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,WB):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},GB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return D(this,null,function*(){yield Xi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return D(this,null,function*(){let r=yield Xi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return D(this,null,function*(){yield Xi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),dx=KB;var QB=(()=>{class t extends Up{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),e0=QB;function YB(t){return Promise.all(t.map(e=>D(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var ZB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return D(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let l=Array.from(a).map(p=>D(this,null,function*(){return p(r.origin,s)})),d=yield YB(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function hx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Mw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return D(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let d=hx("",20);i.port1.start();let p=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){let y=m;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(p),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function zr(){return window}function JB(t){zr().location.href=t}function fx(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}function XB(){return D(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function e$(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function t$(){return fx()?self:null}var px="firebaseLocalStorageDb",n$=1,jp="firebaseLocalStorage",mx="fbase_key",Os=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Hp(t,e){return t.transaction([jp],e?"readwrite":"readonly").objectStore(jp)}function r$(){let t=indexedDB.deleteDatabase(px);return new Os(t).toPromise()}function Nw(){let t=indexedDB.open(px,n$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(jp,{keyPath:mx})}catch(i){n(i)}}),t.addEventListener("success",()=>D(this,null,function*(){let r=t.result;r.objectStoreNames.contains(jp)?e(r):(r.close(),yield r$(),e(yield Nw()))}))})}function NA(t,e,n){return D(this,null,function*(){let r=Hp(t,!0).put({[mx]:e,value:n});return new Os(r).toPromise()})}function i$(t,e){return D(this,null,function*(){let n=Hp(t,!1).get(e),r=yield new Os(n).toPromise();return r===void 0?null:r.value})}function OA(t,e){let n=Hp(t,!0).delete(e);return new Os(n).toPromise()}var o$=800,s$=3,a$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return D(this,null,function*(){return this.db?this.db:(this.db=yield Nw(),this.db)})}_withRetries(n){return D(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>s$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return D(this,null,function*(){return fx()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return D(this,null,function*(){this.receiver=ZB._getInstance(t$()),this.receiver._subscribe("keyChanged",(n,r)=>D(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>D(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return D(this,null,function*(){var n,r;if(this.activeServiceWorker=yield XB(),!this.activeServiceWorker)return;this.sender=new Mw(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return D(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||e$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return D(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Nw();return yield NA(n,Vp,"1"),yield OA(n,Vp),!0}catch{}return!1})}_withPendingWrite(n){return D(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(i=>NA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return D(this,null,function*(){let r=yield this._withRetries(i=>i$(i,n));return this.localCache[n]=r,r})}_remove(n){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(r=>OA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return D(this,null,function*(){let n=yield this._withRetries(o=>{let s=Hp(o,!1).getAll();return new Os(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>D(this,null,function*(){return this._poll()}),o$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),gx=a$;var qZ=ox("rcb"),GZ=new Ns(3e4,6e4);function c$(t,e){return e?Ci(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Du=class extends Iu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yw(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yw(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yw(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function l$(t){return lx(t.auth,new Du(t),t.bypassAuthState)}function u$(t){let{auth:e,user:n}=t;return de(n,e,"internal-error"),zB(n,new Du(t),t.bypassAuthState)}function d$(t){return D(this,null,function*(){let{auth:e,user:n}=t;return de(n,e,"internal-error"),HB(n,new Du(t),t.bypassAuthState)})}var Ow=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>D(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return D(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l$;case"linkViaPopup":case"linkViaRedirect":return d$;case"reauthViaPopup":case"reauthViaRedirect":return u$;default:qr(this.auth,"internal-error")}}resolve(e){Co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var WZ=new Ns(2e3,1e4);var h$="pendingRedirect",xp=new Map,kw=class t extends Ow{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return D(this,null,function*(){let e=xp.get(this.auth._key());if(!e){try{let r=(yield f$(this.resolver,this.auth))?yield Xi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xp.set(this.auth._key(),e)}return this.bypassAuthState||xp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return D(this,null,function*(){if(e.type==="signInViaRedirect")return Xi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Xi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return D(this,null,function*(){})}cleanUp(){}};function f$(t,e){return D(this,null,function*(){let n=g$(e),r=m$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function p$(t,e){xp.set(t._key(),e)}function m$(t){return Ci(t._redirectPersistence)}function g$(t){return Ap(h$,t.config.apiKey,t.name)}function v$(t,e,n=!1){return D(this,null,function*(){if(dr(t.app))return Promise.reject(Di(t));let r=ks(t),i=c$(r,e),s=yield new kw(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var y$=10*60*1e3,Fw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vx(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ms(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y$&&this.cachedEventUids.clear(),this.cachedEventUids.has(kA(e))}saveEventToCache(e){this.cachedEventUids.add(kA(e)),this.lastProcessedEventTime=Date.now()}};function kA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function _$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vx(t);default:return!1}}function w$(n){return D(this,arguments,function*(t,e={}){return Si(t,"GET","/v1/projects",e)})}var b$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E$=/^https?/;function I$(t){return D(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield w$(t);for(let n of e)try{if(C$(n))return}catch{}qr(t,"unauthorized-domain")})}function C$(t){let e=ww(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!E$.test(n))return!1;if(b$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var D$=new Ns(3e4,6e4);function FA(){let t=zr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function T$(t){return new Promise((e,n)=>{var r,i,o;function s(){FA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FA(),n(Ms(t,"network-request-failed"))},timeout:D$.get()})}if(!((i=(r=zr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=zr().gapi)===null||o===void 0)&&o.load)s();else{let a=ox("iframefcb");return zr()[a]=()=>{gapi.load?s():n(Ms(t,"network-request-failed"))},ix(`${AB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Rp=null,e})}var Rp=null;function S$(t){return Rp=Rp||T$(t),Rp}var A$=new Ns(5e3,15e3),x$="__/auth/iframe",R$="emulator/auth/iframe",P$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N$(t){let e=t.config;de(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?jw(e,R$):`https://${t.config.authDomain}/${x$}`,r={apiKey:e.apiKey,appName:t.name,v:Hr},i=M$.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${gu(r).slice(1)}`}function O$(t){return D(this,null,function*(){let e=yield S$(t),n=zr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:N$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P$,dontclear:!0},r=>new Promise((i,o)=>D(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ms(t,"network-request-failed"),a=zr().setTimeout(()=>{o(s)},A$.get());function l(){zr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})})))})}var k$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F$=500,L$=600,V$="_blank",U$="http://localhost",Bp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function j$(t,e,n,r=F$,i=L$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},k$),{width:r.toString(),height:i.toString(),top:o,left:s}),d=Ft().toLowerCase();n&&(a=ZA(d)?V$:n),QA(d)&&(e=e||U$,l.scrollbars="yes");let p=Object.entries(l).reduce((y,[I,A])=>`${y}${I}=${A},`,"");if(EB(d)&&a!=="_self")return B$(e||"",a),new Bp(null);let m=window.open(e||"",a,p);de(m,t,"popup-blocked");try{m.focus()}catch{}return new Bp(m)}function B$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var $$="__/auth/handler",H$="emulator/auth/handler",z$=encodeURIComponent("fac");function LA(t,e,n,r,i,o){return D(this,null,function*(){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hr,eventId:i};if(e instanceof Lp){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",aA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,m]of Object.entries(o||{}))s[p]=m}if(e instanceof Rw){let p=e.getScopes().filter(m=>m!=="");p.length>0&&(s.scopes=p.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let l=yield t._getAppCheckToken(),d=l?`#${z$}=${encodeURIComponent(l)}`:"";return`${q$(t)}?${gu(a).slice(1)}${d}`})}function q$({config:t}){return t.emulator?jw(t,H$):`https://${t.authDomain}/${$$}`}var _w="webStorageSupport",Lw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e0,this._completeRedirectFn=v$,this._overrideRedirectResult=p$}_openPopup(e,n,r,i){return D(this,null,function*(){var o;Co((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield LA(e,n,r,ww(),i);return j$(e,s,hx())})}_openRedirect(e,n,r,i){return D(this,null,function*(){yield this._originValidation(e);let o=yield LA(e,n,r,ww(),i);return JB(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Co(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return D(this,null,function*(){let n=yield O$(e),r=new Fw(e);return n.register("authEvent",i=>(de(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_w,{type:_w},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[_w];s!==void 0&&n(!!s),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nx()||YA()||zw()}},yx=Lw;var VA="@firebase/auth",UA="1.7.9";var Vw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function G$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W$(t){$r(new pn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rx(t)},d=new Sw(r,i,o,l);return PB(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$r(new pn("auth-internal",e=>{let n=ks(e.getProvider("auth").getImmediate());return(r=>new Vw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rt(VA,UA,G$(t)),rt(VA,UA,"esm2017")}var K$=5*60,Q$=J_("authIdTokenMaxAge")||K$,jA=null,Y$=t=>e=>D(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Q$)return;let i=n?.token;jA!==i&&(jA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function t0(t=wo()){let e=xs(t,"auth");if(e.isInitialized())return e.getImmediate();let n=qw(t,{popupRedirectResolver:yx,persistence:[gx,dx,e0]}),r=J_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Y$(o.toString());Jw(n,s,()=>s(n.currentUser)),Zw(n,a=>s(a))}}let i=Y_("auth");return i&&Gw(n,`http://${i}`),n}function Z$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}TB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ms("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Z$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W$("Browser");var _x="auth",Fs=class{constructor(e){return e}},Ls=class{constructor(){return Ps(_x)}};var n0=new te("angularfire2.auth-instances");function j4(t,e){let n=dc(_x,t,e);return n&&new Fs(n)}function B4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fs(r)}}var $4={provide:Ls,deps:[[new bt,n0]]},H4={provide:Fs,useFactory:j4,deps:[[new bt,n0],hr]};function wx(t,...e){return rt("angularfire",bi.full,"auth"),Ln([H4,$4,{provide:n0,useFactory:B4(t),multi:!0,deps:[je,Kt,Eo,Ei,[new bt,bo],...e]}])}var bx=ut(Kw,!0);var Ex=ut(t0,!0);var Ix=ut(Xw,!0);var Cx=ut(Yw,!0);var Dx=ut(Qw,!0);var Mx="firebasestorage.googleapis.com",Nx="storageBucket",q4=2*60*1e3,G4=10*60*1e3;var dt=class t extends sn{constructor(e,n,r=0){super(r0(e),`Firebase Storage: ${n} (${r0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return r0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},gt=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(gt||{});function r0(t){return"storage/"+t}function l0(){let t="An unknown error occurred, please check the error payload for server response.";return new dt(gt.UNKNOWN,t)}function W4(t){return new dt(gt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function K4(t){return new dt(gt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Q4(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(gt.UNAUTHENTICATED,t)}function Y4(){return new dt(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Z4(t){return new dt(gt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function J4(){return new dt(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function X4(){return new dt(gt.CANCELED,"User canceled the upload/download.")}function e3(t){return new dt(gt.INVALID_URL,"Invalid URL '"+t+"'.")}function t3(t){return new dt(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function n3(){return new dt(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Nx+"' property when initializing the app?")}function r3(){return new dt(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function i3(){return new dt(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function o3(t){return new dt(gt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function i0(t){return new dt(gt.INVALID_ARGUMENT,t)}function Ox(){return new dt(gt.APP_DELETED,"The Firebase app was deleted.")}function s3(t){return new dt(gt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Au(t,e){return new dt(gt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Su(t){throw new dt(gt.INTERNAL_ERROR,"Internal error: "+t)}var fr=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw t3(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function d(ie){ie.path_=decodeURIComponent(ie.path)}let p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",I=new RegExp(`^https?://${m}/${p}/b/${i}/o${y}`,"i"),A={bucket:1,path:3},j=n===Mx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",$=new RegExp(`^https?://${j}/${i}/${V}`,"i"),ee=[{regex:a,indices:l,postModify:o},{regex:I,indices:A,postModify:d},{regex:$,indices:{bucket:1,path:2},postModify:d}];for(let ie=0;ie<ee.length;ie++){let Ne=ee[ie],ae=Ne.regex.exec(e);if(ae){let R=ae[Ne.indices.bucket],C=ae[Ne.indices.path];C||(C=""),r=new t(R,C),Ne.postModify(r);break}}if(r==null)throw e3(e);return r}},o0=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function a3(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let d=!1;function p(...V){d||(d=!0,e.apply(null,V))}function m(V){i=setTimeout(()=>{i=null,t(I,l())},V)}function y(){o&&clearTimeout(o)}function I(V,...$){if(d){y();return}if(V){y(),p.call(null,V,...$);return}if(l()||s){y(),p.call(null,V,...$);return}r<64&&(r*=2);let ee;a===1?(a=2,ee=0):ee=(r+Math.random())*1e3,m(ee)}let A=!1;function j(V){A||(A=!0,y(),!d&&(i!==null?(V||(a=2),clearTimeout(i),m(0)):V||(a=1)))}return m(0),o=setTimeout(()=>{s=!0,j(!0)},n),j}function c3(t){t(!1)}function l3(t){return t!==void 0}function u3(t){return typeof t=="object"&&!Array.isArray(t)}function u0(t){return typeof t=="string"||t instanceof String}function Tx(t){return d0()&&t instanceof Blob}function d0(){return typeof Blob<"u"}function Sx(t,e,n,r){if(r<e)throw i0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw i0(`Invalid value for '${t}'. Expected ${n} or less.`)}function h0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function kx(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var mc=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(mc||{});function d3(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var s0=class{constructor(e,n,r,i,o,s,a,l,d,p,m,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=m,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,A)=>{this.resolve_=I,this.reject_=A,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new pc(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let l=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===mc.NO_ERROR,l=o.getStatus();if(!a||d3(l,this.additionalRetryCodes_)&&this.retry){let p=o.getErrorCode()===mc.ABORT;r(!1,new pc(!1,null,p));return}let d=this.successCodes_.indexOf(l)!==-1;r(!0,new pc(d,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());l3(l)?o(l):o()}catch(l){s(l)}else if(a!==null){let l=l0();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){let l=this.appDelete_?Ox():X4();s(l)}else{let l=J4();s(l)}};this.canceled_?n(!1,new pc(!1,null,!0)):this.backoffId_=a3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&c3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},pc=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function h3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function f3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function p3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function m3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function g3(t,e,n,r,i,o,s=!0){let a=kx(t.urlParams),l=t.url+a,d=Object.assign({},t.headers);return p3(d,e),h3(d,n),f3(d,o),m3(d,r),new s0(l,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}function v3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function y3(...t){let e=v3();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(d0())return new Blob(t);throw new dt(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function w3(t){if(typeof atob>"u")throw o3("base-64");return atob(t)}var Gr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},xu=class{constructor(e,n){this.data=e,this.contentType=n||null}};function b3(t,e){switch(t){case Gr.RAW:return new xu(Fx(e));case Gr.BASE64:case Gr.BASE64URL:return new xu(Lx(t,e));case Gr.DATA_URL:return new xu(I3(e),C3(e))}throw l0()}function Fx(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function E3(t){let e;try{e=decodeURIComponent(t)}catch{throw Au(Gr.DATA_URL,"Malformed data URL.")}return Fx(e)}function Lx(t,e){switch(t){case Gr.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Au(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Gr.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Au(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=w3(e)}catch(i){throw i.message.includes("polyfill")?i:Au(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var qp=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Au(Gr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=D3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function I3(t){let e=new qp(t);return e.base64?Lx(Gr.BASE64,e.rest):E3(e.rest)}function C3(t){return new qp(t).contentType}function D3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Gp=class t{constructor(e,n){let r=0,i="";Tx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Tx(this.data_)){let r=this.data_,i=_3(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(d0()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(y3.apply(null,n))}else{let n=e.map(s=>u0(s)?b3(Gr.RAW,s).data:s.data_),r=0;n.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new t(i,!0)}}uploadData(){return this.data_}};function Vx(t){let e;try{e=JSON.parse(t)}catch{return null}return u3(e)?e:null}function T3(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function S3(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Ux(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function A3(t,e){return e}var zt=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||A3}},zp=null;function x3(t){return!u0(t)||t.length<2?t:Ux(t)}function jx(){if(zp)return zp;let t=[];t.push(new zt("bucket")),t.push(new zt("generation")),t.push(new zt("metageneration")),t.push(new zt("name","fullPath",!0));function e(o,s){return x3(s)}let n=new zt("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}let i=new zt("size");return i.xform=r,t.push(i),t.push(new zt("timeCreated")),t.push(new zt("updated")),t.push(new zt("md5Hash",null,!0)),t.push(new zt("cacheControl",null,!0)),t.push(new zt("contentDisposition",null,!0)),t.push(new zt("contentEncoding",null,!0)),t.push(new zt("contentLanguage",null,!0)),t.push(new zt("contentType",null,!0)),t.push(new zt("metadata","customMetadata",!0)),zp=t,zp}function R3(t,e){function n(){let r=t.bucket,i=t.fullPath,o=new fr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function P3(t,e,n){let r={};r.type="file";let i=n.length;for(let o=0;o<i;o++){let s=n[o];r[s.local]=s.xform(r,e[s.server])}return R3(r,t),r}function Bx(t,e,n){let r=Vx(e);return r===null?null:P3(t,r,n)}function M3(t,e,n,r){let i=Vx(e);if(i===null||!u0(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(d=>{let p=t.bucket,m=t.fullPath,y="/b/"+s(p)+"/o/"+s(m),I=h0(y,n,r),A=kx({alt:"media",token:d});return I+A})[0]}function N3(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Wp=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function $x(t){if(!t)throw l0()}function O3(t,e){function n(r,i){let o=Bx(t,i,e);return $x(o!==null),o}return n}function k3(t,e){function n(r,i){let o=Bx(t,i,e);return $x(o!==null),M3(o,i,t.host,t._protocol)}return n}function Hx(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Y4():i=Q4():n.getStatus()===402?i=K4(t.bucket):n.getStatus()===403?i=Z4(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function F3(t){let e=Hx(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=W4(t.path)),o.serverResponse=i.serverResponse,o}return n}function L3(t,e,n){let r=e.fullServerUrl(),i=h0(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new Wp(i,o,k3(t,n),s);return a.errorHandler=F3(e),a}function V3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function U3(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=V3(null,e)),r}function j3(t,e,n,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let ee="";for(let ie=0;ie<2;ie++)ee=ee+Math.random().toString().slice(2);return ee}let l=a();s["Content-Type"]="multipart/related; boundary="+l;let d=U3(e,r,i),p=N3(d,n),m="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+l+`\r
Content-Type: `+d.contentType+`\r
\r
`,y=`\r
--`+l+"--",I=Gp.getBlob(m,r,y);if(I===null)throw r3();let A={name:d.fullPath},j=h0(o,t.host,t._protocol),V="POST",$=t.maxUploadRetryTime,J=new Wp(j,V,O3(t,n),$);return J.urlParams=A,J.headers=s,J.body=I.uploadData(),J.errorHandler=Hx(e),J}var OJ=256*1024;var Ax=null,a0=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Su("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Su("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Su("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Su("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Su("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},c0=class extends a0{initXhr(){this.xhr_.responseType="text"}};function zx(){return Ax?Ax():new c0}var gc=class t{constructor(e,n){this._service=e,n instanceof fr?this._location=n:this._location=fr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ux(this._location.path)}get storage(){return this._service}get parent(){let e=T3(this._location.path);if(e===null)return null;let n=new fr(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw s3(e)}};function B3(t,e,n){t._throwIfRoot("uploadBytes");let r=j3(t.storage,t._location,jx(),new Gp(e,!0),n);return t.storage.makeRequestWithTokens(r,zx).then(i=>({metadata:i,ref:t}))}function $3(t){t._throwIfRoot("getDownloadURL");let e=L3(t.storage,t._location,jx());return t.storage.makeRequestWithTokens(e,zx).then(n=>{if(n===null)throw i3();return n})}function H3(t,e){let n=S3(t._location.path,e),r=new fr(t._location.bucket,n);return new gc(t.storage,r)}function z3(t){return/^[A-Za-z]+:\/\//.test(t)}function q3(t,e){return new gc(t,e)}function qx(t,e){if(t instanceof Ru){let n=t;if(n._bucket==null)throw n3();let r=new gc(n,n._bucket);return e!=null?qx(r,e):r}else return e!==void 0?H3(t,e):t}function G3(t,e){if(e&&z3(e)){if(t instanceof Ru)return q3(t,e);throw i0("To use ref(service, url), the first argument must be a Storage instance.")}else return qx(t,e)}function xx(t,e){let n=e?.[Nx];return n==null?null:fr.makeFromBucketSpec(n,t)}function W3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:wp(i,t.app.options.projectId))}var Ru=class{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Mx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=q4,this._maxUploadRetryTime=G4,this._requests=new Set,i!=null?this._bucket=fr.makeFromBucketSpec(i,this._host):this._bucket=xx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=xx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Sx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Sx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return D(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return D(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gc(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new o0(Ox());{let s=g3(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return D(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},Rx="@firebase/storage",Px="0.13.2";var Gx="storage";function f0(t,e,n){return t=Je(t),B3(t,e,n)}function p0(t){return t=Je(t),$3(t)}function m0(t,e){return t=Je(t),G3(t,e)}function Kp(t=wo(),e){t=Je(t);let r=xs(t,Gx).getImmediate({identifier:e}),i=_p("storage");return i&&Wx(r,...i),r}function Wx(t,e,n,r={}){W3(t,e,n,r)}function K3(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ru(n,r,i,e,Hr)}function Q3(){$r(new pn(Gx,K3,"PUBLIC").setMultipleInstances(!0)),rt(Rx,Px,""),rt(Rx,Px,"esm2017")}Q3();var Kx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qx={};var Do,g0;(function(){var t;function e(R,C){function T(){}T.prototype=C.prototype,R.D=C.prototype,R.prototype=new T,R.prototype.constructor=R,R.C=function(P,M,N){for(var S=Array(arguments.length-2),Kn=2;Kn<arguments.length;Kn++)S[Kn-2]=arguments[Kn];return C.prototype[M].apply(P,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,C,T){T||(T=0);var P=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)P[M]=C.charCodeAt(T++)|C.charCodeAt(T++)<<8|C.charCodeAt(T++)<<16|C.charCodeAt(T++)<<24;else for(M=0;16>M;++M)P[M]=C[T++]|C[T++]<<8|C[T++]<<16|C[T++]<<24;C=R.g[0],T=R.g[1],M=R.g[2];var N=R.g[3],S=C+(N^T&(M^N))+P[0]+3614090360&4294967295;C=T+(S<<7&4294967295|S>>>25),S=N+(M^C&(T^M))+P[1]+3905402710&4294967295,N=C+(S<<12&4294967295|S>>>20),S=M+(T^N&(C^T))+P[2]+606105819&4294967295,M=N+(S<<17&4294967295|S>>>15),S=T+(C^M&(N^C))+P[3]+3250441966&4294967295,T=M+(S<<22&4294967295|S>>>10),S=C+(N^T&(M^N))+P[4]+4118548399&4294967295,C=T+(S<<7&4294967295|S>>>25),S=N+(M^C&(T^M))+P[5]+1200080426&4294967295,N=C+(S<<12&4294967295|S>>>20),S=M+(T^N&(C^T))+P[6]+2821735955&4294967295,M=N+(S<<17&4294967295|S>>>15),S=T+(C^M&(N^C))+P[7]+4249261313&4294967295,T=M+(S<<22&4294967295|S>>>10),S=C+(N^T&(M^N))+P[8]+1770035416&4294967295,C=T+(S<<7&4294967295|S>>>25),S=N+(M^C&(T^M))+P[9]+2336552879&4294967295,N=C+(S<<12&4294967295|S>>>20),S=M+(T^N&(C^T))+P[10]+4294925233&4294967295,M=N+(S<<17&4294967295|S>>>15),S=T+(C^M&(N^C))+P[11]+2304563134&4294967295,T=M+(S<<22&4294967295|S>>>10),S=C+(N^T&(M^N))+P[12]+1804603682&4294967295,C=T+(S<<7&4294967295|S>>>25),S=N+(M^C&(T^M))+P[13]+4254626195&4294967295,N=C+(S<<12&4294967295|S>>>20),S=M+(T^N&(C^T))+P[14]+2792965006&4294967295,M=N+(S<<17&4294967295|S>>>15),S=T+(C^M&(N^C))+P[15]+1236535329&4294967295,T=M+(S<<22&4294967295|S>>>10),S=C+(M^N&(T^M))+P[1]+4129170786&4294967295,C=T+(S<<5&4294967295|S>>>27),S=N+(T^M&(C^T))+P[6]+3225465664&4294967295,N=C+(S<<9&4294967295|S>>>23),S=M+(C^T&(N^C))+P[11]+643717713&4294967295,M=N+(S<<14&4294967295|S>>>18),S=T+(N^C&(M^N))+P[0]+3921069994&4294967295,T=M+(S<<20&4294967295|S>>>12),S=C+(M^N&(T^M))+P[5]+3593408605&4294967295,C=T+(S<<5&4294967295|S>>>27),S=N+(T^M&(C^T))+P[10]+38016083&4294967295,N=C+(S<<9&4294967295|S>>>23),S=M+(C^T&(N^C))+P[15]+3634488961&4294967295,M=N+(S<<14&4294967295|S>>>18),S=T+(N^C&(M^N))+P[4]+3889429448&4294967295,T=M+(S<<20&4294967295|S>>>12),S=C+(M^N&(T^M))+P[9]+568446438&4294967295,C=T+(S<<5&4294967295|S>>>27),S=N+(T^M&(C^T))+P[14]+3275163606&4294967295,N=C+(S<<9&4294967295|S>>>23),S=M+(C^T&(N^C))+P[3]+4107603335&4294967295,M=N+(S<<14&4294967295|S>>>18),S=T+(N^C&(M^N))+P[8]+1163531501&4294967295,T=M+(S<<20&4294967295|S>>>12),S=C+(M^N&(T^M))+P[13]+2850285829&4294967295,C=T+(S<<5&4294967295|S>>>27),S=N+(T^M&(C^T))+P[2]+4243563512&4294967295,N=C+(S<<9&4294967295|S>>>23),S=M+(C^T&(N^C))+P[7]+1735328473&4294967295,M=N+(S<<14&4294967295|S>>>18),S=T+(N^C&(M^N))+P[12]+2368359562&4294967295,T=M+(S<<20&4294967295|S>>>12),S=C+(T^M^N)+P[5]+4294588738&4294967295,C=T+(S<<4&4294967295|S>>>28),S=N+(C^T^M)+P[8]+2272392833&4294967295,N=C+(S<<11&4294967295|S>>>21),S=M+(N^C^T)+P[11]+1839030562&4294967295,M=N+(S<<16&4294967295|S>>>16),S=T+(M^N^C)+P[14]+4259657740&4294967295,T=M+(S<<23&4294967295|S>>>9),S=C+(T^M^N)+P[1]+2763975236&4294967295,C=T+(S<<4&4294967295|S>>>28),S=N+(C^T^M)+P[4]+1272893353&4294967295,N=C+(S<<11&4294967295|S>>>21),S=M+(N^C^T)+P[7]+4139469664&4294967295,M=N+(S<<16&4294967295|S>>>16),S=T+(M^N^C)+P[10]+3200236656&4294967295,T=M+(S<<23&4294967295|S>>>9),S=C+(T^M^N)+P[13]+681279174&4294967295,C=T+(S<<4&4294967295|S>>>28),S=N+(C^T^M)+P[0]+3936430074&4294967295,N=C+(S<<11&4294967295|S>>>21),S=M+(N^C^T)+P[3]+3572445317&4294967295,M=N+(S<<16&4294967295|S>>>16),S=T+(M^N^C)+P[6]+76029189&4294967295,T=M+(S<<23&4294967295|S>>>9),S=C+(T^M^N)+P[9]+3654602809&4294967295,C=T+(S<<4&4294967295|S>>>28),S=N+(C^T^M)+P[12]+3873151461&4294967295,N=C+(S<<11&4294967295|S>>>21),S=M+(N^C^T)+P[15]+530742520&4294967295,M=N+(S<<16&4294967295|S>>>16),S=T+(M^N^C)+P[2]+3299628645&4294967295,T=M+(S<<23&4294967295|S>>>9),S=C+(M^(T|~N))+P[0]+4096336452&4294967295,C=T+(S<<6&4294967295|S>>>26),S=N+(T^(C|~M))+P[7]+1126891415&4294967295,N=C+(S<<10&4294967295|S>>>22),S=M+(C^(N|~T))+P[14]+2878612391&4294967295,M=N+(S<<15&4294967295|S>>>17),S=T+(N^(M|~C))+P[5]+4237533241&4294967295,T=M+(S<<21&4294967295|S>>>11),S=C+(M^(T|~N))+P[12]+1700485571&4294967295,C=T+(S<<6&4294967295|S>>>26),S=N+(T^(C|~M))+P[3]+2399980690&4294967295,N=C+(S<<10&4294967295|S>>>22),S=M+(C^(N|~T))+P[10]+4293915773&4294967295,M=N+(S<<15&4294967295|S>>>17),S=T+(N^(M|~C))+P[1]+2240044497&4294967295,T=M+(S<<21&4294967295|S>>>11),S=C+(M^(T|~N))+P[8]+1873313359&4294967295,C=T+(S<<6&4294967295|S>>>26),S=N+(T^(C|~M))+P[15]+4264355552&4294967295,N=C+(S<<10&4294967295|S>>>22),S=M+(C^(N|~T))+P[6]+2734768916&4294967295,M=N+(S<<15&4294967295|S>>>17),S=T+(N^(M|~C))+P[13]+1309151649&4294967295,T=M+(S<<21&4294967295|S>>>11),S=C+(M^(T|~N))+P[4]+4149444226&4294967295,C=T+(S<<6&4294967295|S>>>26),S=N+(T^(C|~M))+P[11]+3174756917&4294967295,N=C+(S<<10&4294967295|S>>>22),S=M+(C^(N|~T))+P[2]+718787259&4294967295,M=N+(S<<15&4294967295|S>>>17),S=T+(N^(M|~C))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(M+(S<<21&4294967295|S>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+N&4294967295}r.prototype.u=function(R,C){C===void 0&&(C=R.length);for(var T=C-this.blockSize,P=this.B,M=this.h,N=0;N<C;){if(M==0)for(;N<=T;)i(this,R,N),N+=this.blockSize;if(typeof R=="string"){for(;N<C;)if(P[M++]=R.charCodeAt(N++),M==this.blockSize){i(this,P),M=0;break}}else for(;N<C;)if(P[M++]=R[N++],M==this.blockSize){i(this,P),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;var T=8*this.o;for(C=R.length-8;C<R.length;++C)R[C]=T&255,T/=256;for(this.u(R),R=Array(16),C=T=0;4>C;++C)for(var P=0;32>P;P+=8)R[T++]=this.g[C]>>>P&255;return R};function o(R,C){var T=a;return Object.prototype.hasOwnProperty.call(T,R)?T[R]:T[R]=C(R)}function s(R,C){this.h=C;for(var T=[],P=!0,M=R.length-1;0<=M;M--){var N=R[M]|0;P&&N==C||(T[M]=N,P=!1)}this.g=T}var a={};function l(R){return-128<=R&&128>R?o(R,function(C){return new s([C|0],0>C?-1:0)}):new s([R|0],0>R?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return m;if(0>R)return V(d(-R));for(var C=[],T=1,P=0;R>=T;P++)C[P]=R/T|0,T*=4294967296;return new s(C,0)}function p(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return V(p(R.substring(1),C));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=d(Math.pow(C,8)),P=m,M=0;M<R.length;M+=8){var N=Math.min(8,R.length-M),S=parseInt(R.substring(M,M+N),C);8>N?(N=d(Math.pow(C,N)),P=P.j(N).add(d(S))):(P=P.j(T),P=P.add(d(S)))}return P}var m=l(0),y=l(1),I=l(16777216);t=s.prototype,t.m=function(){if(j(this))return-V(this).m();for(var R=0,C=1,T=0;T<this.g.length;T++){var P=this.i(T);R+=(0<=P?P:4294967296+P)*C,C*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(A(this))return"0";if(j(this))return"-"+V(this).toString(R);for(var C=d(Math.pow(R,6)),T=this,P="";;){var M=ie(T,C).g;T=$(T,M.j(C));var N=((0<T.g.length?T.g[0]:T.h)>>>0).toString(R);if(T=M,A(T))return N+P;for(;6>N.length;)N="0"+N;P=N+P}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function A(R){if(R.h!=0)return!1;for(var C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function j(R){return R.h==-1}t.l=function(R){return R=$(this,R),j(R)?-1:A(R)?0:1};function V(R){for(var C=R.g.length,T=[],P=0;P<C;P++)T[P]=~R.g[P];return new s(T,~R.h).add(y)}t.abs=function(){return j(this)?V(this):this},t.add=function(R){for(var C=Math.max(this.g.length,R.g.length),T=[],P=0,M=0;M<=C;M++){var N=P+(this.i(M)&65535)+(R.i(M)&65535),S=(N>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);P=S>>>16,N&=65535,S&=65535,T[M]=S<<16|N}return new s(T,T[T.length-1]&-2147483648?-1:0)};function $(R,C){return R.add(V(C))}t.j=function(R){if(A(this)||A(R))return m;if(j(this))return j(R)?V(this).j(V(R)):V(V(this).j(R));if(j(R))return V(this.j(V(R)));if(0>this.l(I)&&0>R.l(I))return d(this.m()*R.m());for(var C=this.g.length+R.g.length,T=[],P=0;P<2*C;P++)T[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<R.g.length;M++){var N=this.i(P)>>>16,S=this.i(P)&65535,Kn=R.i(M)>>>16,ki=R.i(M)&65535;T[2*P+2*M]+=S*ki,J(T,2*P+2*M),T[2*P+2*M+1]+=N*ki,J(T,2*P+2*M+1),T[2*P+2*M+1]+=S*Kn,J(T,2*P+2*M+1),T[2*P+2*M+2]+=N*Kn,J(T,2*P+2*M+2)}for(P=0;P<C;P++)T[P]=T[2*P+1]<<16|T[2*P];for(P=C;P<2*C;P++)T[P]=0;return new s(T,0)};function J(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function ee(R,C){this.g=R,this.h=C}function ie(R,C){if(A(C))throw Error("division by zero");if(A(R))return new ee(m,m);if(j(R))return C=ie(V(R),C),new ee(V(C.g),V(C.h));if(j(C))return C=ie(R,V(C)),new ee(V(C.g),C.h);if(30<R.g.length){if(j(R)||j(C))throw Error("slowDivide_ only works with positive integers.");for(var T=y,P=C;0>=P.l(R);)T=Ne(T),P=Ne(P);var M=ae(T,1),N=ae(P,1);for(P=ae(P,2),T=ae(T,2);!A(P);){var S=N.add(P);0>=S.l(R)&&(M=M.add(T),N=S),P=ae(P,1),T=ae(T,1)}return C=$(R,M.j(C)),new ee(M,C)}for(M=m;0<=R.l(C);){for(T=Math.max(1,Math.floor(R.m()/C.m())),P=Math.ceil(Math.log(T)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),N=d(T),S=N.j(C);j(S)||0<S.l(R);)T-=P,N=d(T),S=N.j(C);A(N)&&(N=y),M=M.add(N),R=$(R,S)}return new ee(M,R)}t.A=function(R){return ie(this,R).h},t.and=function(R){for(var C=Math.max(this.g.length,R.g.length),T=[],P=0;P<C;P++)T[P]=this.i(P)&R.i(P);return new s(T,this.h&R.h)},t.or=function(R){for(var C=Math.max(this.g.length,R.g.length),T=[],P=0;P<C;P++)T[P]=this.i(P)|R.i(P);return new s(T,this.h|R.h)},t.xor=function(R){for(var C=Math.max(this.g.length,R.g.length),T=[],P=0;P<C;P++)T[P]=this.i(P)^R.i(P);return new s(T,this.h^R.h)};function Ne(R){for(var C=R.g.length+1,T=[],P=0;P<C;P++)T[P]=R.i(P)<<1|R.i(P-1)>>>31;return new s(T,R.h)}function ae(R,C){var T=C>>5;C%=32;for(var P=R.g.length-T,M=[],N=0;N<P;N++)M[N]=0<C?R.i(N+T)>>>C|R.i(N+T+1)<<32-C:R.i(N+T);return new s(M,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,g0=Qx.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=p,Do=Qx.Integer=s}).apply(typeof Kx<"u"?Kx:typeof self<"u"?self:typeof window<"u"?window:{});var Qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ai={};var v0,Y3,vc,y0,Pu,Yp,_0,w0,b0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,g){return c==Array.prototype||c==Object.prototype||(c[f]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qp=="object"&&Qp];for(var f=0;f<c.length;++f){var g=c[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,f){if(f)e:{var g=r;c=c.split(".");for(var _=0;_<c.length-1;_++){var O=c[_];if(!(O in g))break e;g=g[O]}c=c[c.length-1],_=g[c],f=f(_),f!=_&&f!=null&&e(g,c,{configurable:!0,writable:!0,value:f})}}function o(c,f){c instanceof String&&(c+="");var g=0,_=!1,O={next:function(){if(!_&&g<c.length){var U=g++;return{value:f(U,c[U]),done:!1}}return _=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(c){return c||function(){return o(this,function(f,g){return g})}});var s=s||{},a=this||self;function l(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,g){return c.call.apply(c.bind,arguments)}function m(c,f,g){if(!c)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,_),c.apply(f,O)}}return function(){return c.apply(f,arguments)}}function y(c,f,g){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function I(c,f){var g=Array.prototype.slice.call(arguments,1);return function(){var _=g.slice();return _.push.apply(_,arguments),c.apply(this,_)}}function A(c,f){function g(){}g.prototype=f.prototype,c.aa=f.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(_,O,U){for(var z=Array(arguments.length-2),He=2;He<arguments.length;He++)z[He-2]=arguments[He];return f.prototype[O].apply(_,z)}}function j(c){let f=c.length;if(0<f){let g=Array(f);for(let _=0;_<f;_++)g[_]=c[_];return g}return[]}function V(c,f){for(let g=1;g<arguments.length;g++){let _=arguments[g];if(l(_)){let O=c.length||0,U=_.length||0;c.length=O+U;for(let z=0;z<U;z++)c[O+z]=_[z]}else c.push(_)}}class ${constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function J(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var Ne=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function ae(c,f,g){for(let _ in c)f.call(g,c[_],_,c)}function R(c,f){for(let g in c)f.call(void 0,c[g],g,c)}function C(c){let f={};for(let g in c)f[g]=c[g];return f}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,f){let g,_;for(let O=1;O<arguments.length;O++){_=arguments[O];for(g in _)c[g]=_[g];for(let U=0;U<T.length;U++)g=T[U],Object.prototype.hasOwnProperty.call(_,g)&&(c[g]=_[g])}}function M(c){var f=1;c=c.split(":");let g=[];for(;0<f&&c.length;)g.push(c.shift()),f--;return c.length&&g.push(c.join(":")),g}function N(c){a.setTimeout(()=>{throw c},0)}function S(){var c=Li;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class Kn{constructor(){this.h=this.g=null}add(f,g){let _=ki.get();_.set(f,g),this.h?this.h.next=_:this.g=_,this.h=_}}var ki=new $(()=>new Xc,c=>c.reset());class Xc{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Fi,ti=!1,Li=new Kn,gn=()=>{let c=a.Promise.resolve(void 0);Fi=()=>{c.then(Vi)}};var Vi=()=>{for(var c;c=S();){try{c.h.call(c.g)}catch(g){N(g)}var f=ki;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}ti=!1};function Gt(){this.s=this.s,this.C=this.C}Gt.prototype.s=!1,Gt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Gt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pt(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var Ui=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return c}();function Qn(c,f){if(Pt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,_=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(Ne){e:{try{ie(f.nodeName);var O=!0;break e}catch{}O=!1}O||(f=null)}}else g=="mouseover"?f=c.fromElement:g=="mouseout"&&(f=c.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pd[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Qn.aa.h.call(this)}}A(Qn,Pt);var pd={2:"touch",3:"pen",4:"mouse"};Qn.prototype.h=function(){Qn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yr="closure_listenable_"+(1e6*Math.random()|0),el=0;function vg(c,f,g,_,O){this.listener=c,this.proxy=null,this.src=f,this.type=g,this.capture=!!_,this.ha=O,this.key=++el,this.da=this.fa=!1}function ji(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bi(c){this.src=c,this.g={},this.h=0}Bi.prototype.add=function(c,f,g,_,O){var U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);var z=tl(c,f,_,O);return-1<z?(f=c[z],g||(f.fa=!1)):(f=new vg(f,this.src,U,!!_,O),f.fa=g,c.push(f)),f};function $i(c,f){var g=f.type;if(g in c.g){var _=c.g[g],O=Array.prototype.indexOf.call(_,f,void 0),U;(U=0<=O)&&Array.prototype.splice.call(_,O,1),U&&(ji(f),c.g[g].length==0&&(delete c.g[g],c.h--))}}function tl(c,f,g,_){for(var O=0;O<c.length;++O){var U=c[O];if(!U.da&&U.listener==f&&U.capture==!!g&&U.ha==_)return O}return-1}var Ut="closure_lm_"+(1e6*Math.random()|0),vn={};function md(c,f,g,_,O){if(_&&_.once)return nl(c,f,g,_,O);if(Array.isArray(f)){for(var U=0;U<f.length;U++)md(c,f[U],g,_,O);return null}return g=vt(g),c&&c[yr]?c.K(f,g,d(_)?!!_.capture:!!_,O):Wt(c,f,g,!1,_,O)}function Wt(c,f,g,_,O,U){if(!f)throw Error("Invalid event type");var z=d(O)?!!O.capture:!!O,He=Yn(c);if(He||(c[Ut]=He=new Bi(c)),g=He.add(f,g,_,z,U),g.proxy)return g;if(_=ta(),g.proxy=_,_.src=c,_.listener=g,c.addEventListener)Ui||(O=z),O===void 0&&(O=!1),c.addEventListener(f.toString(),_,O);else if(c.attachEvent)c.attachEvent(yn(f.toString()),_);else if(c.addListener&&c.removeListener)c.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ta(){function c(g){return f.call(c.src,c.listener,g)}let f=_r;return c}function nl(c,f,g,_,O){if(Array.isArray(f)){for(var U=0;U<f.length;U++)nl(c,f[U],g,_,O);return null}return g=vt(g),c&&c[yr]?c.L(f,g,d(_)?!!_.capture:!!_,O):Wt(c,f,g,!0,_,O)}function rl(c,f,g,_,O){if(Array.isArray(f))for(var U=0;U<f.length;U++)rl(c,f[U],g,_,O);else _=d(_)?!!_.capture:!!_,g=vt(g),c&&c[yr]?(c=c.i,f=String(f).toString(),f in c.g&&(U=c.g[f],g=tl(U,g,_,O),-1<g&&(ji(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete c.g[f],c.h--)))):c&&(c=Yn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=tl(f,g,_,O)),(g=-1<c?f[c]:null)&&Se(g))}function Se(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[yr])$i(f.i,c);else{var g=c.type,_=c.proxy;f.removeEventListener?f.removeEventListener(g,_,c.capture):f.detachEvent?f.detachEvent(yn(g),_):f.addListener&&f.removeListener&&f.removeListener(_),(g=Yn(f))?($i(g,c),g.h==0&&(g.src=null,f[Ut]=null)):ji(c)}}}function yn(c){return c in vn?vn[c]:vn[c]="on"+c}function _r(c,f){if(c.da)c=!0;else{f=new Qn(f,this);var g=c.listener,_=c.ha||c.src;c.fa&&Se(c),c=g.call(_,f)}return c}function Yn(c){return c=c[Ut],c instanceof Bi?c:null}var ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function vt(c){return typeof c=="function"?c:(c[ct]||(c[ct]=function(f){return c.handleEvent(f)}),c[ct])}function yt(){Gt.call(this),this.i=new Bi(this),this.M=this,this.F=null}A(yt,Gt),yt.prototype[yr]=!0,yt.prototype.removeEventListener=function(c,f,g,_){rl(this,c,f,g,_)};function Mt(c,f){var g,_=c.F;if(_)for(g=[];_;_=_.F)g.push(_);if(c=c.M,_=f.type||f,typeof f=="string")f=new Pt(f,c);else if(f instanceof Pt)f.target=f.target||c;else{var O=f;f=new Pt(_,c),P(f,O)}if(O=!0,g)for(var U=g.length-1;0<=U;U--){var z=f.g=g[U];O=wr(z,_,!0,f)&&O}if(z=f.g=c,O=wr(z,_,!0,f)&&O,O=wr(z,_,!1,f)&&O,g)for(U=0;U<g.length;U++)z=f.g=g[U],O=wr(z,_,!1,f)&&O}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var g=c.g[f],_=0;_<g.length;_++)ji(g[_]);delete c.g[f],c.h--}}this.F=null},yt.prototype.K=function(c,f,g,_){return this.i.add(String(c),f,!1,g,_)},yt.prototype.L=function(c,f,g,_){return this.i.add(String(c),f,!0,g,_)};function wr(c,f,g,_){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var O=!0,U=0;U<f.length;++U){var z=f[U];if(z&&!z.da&&z.capture==g){var He=z.listener,St=z.ha||z.src;z.fa&&$i(c.i,z),O=He.call(St,_)!==!1&&O}}return O&&!_.defaultPrevented}function jt(c,f,g){if(typeof c=="function")g&&(c=y(c,g));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function gd(c){c.g=jt(()=>{c.g=null,c.i&&(c.i=!1,gd(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class vd extends Gt{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:gd(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(c){Gt.call(this),this.h=c,this.g={}}A(Hi,Gt);var na=[];function yd(c){ae(c.g,function(f,g){this.g.hasOwnProperty(g)&&Se(f)},c),c.g={}}Hi.prototype.N=function(){Hi.aa.N.call(this),yd(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var il=a.JSON.stringify,yg=a.JSON.parse,_g=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Zn(){}Zn.prototype.h=null;function _d(c){return c.h||(c.h=c.i())}function wd(){}var Vo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ol(){Pt.call(this,"d")}A(ol,Pt);function sl(){Pt.call(this,"c")}A(sl,Pt);var Jn={},bd=null;function ra(){return bd=bd||new yt}Jn.La="serverreachability";function Ed(c){Pt.call(this,Jn.La,c)}A(Ed,Pt);function Uo(c){let f=ra();Mt(f,new Ed(f))}Jn.STAT_EVENT="statevent";function Id(c,f){Pt.call(this,Jn.STAT_EVENT,c),this.stat=f}A(Id,Pt);function Tt(c){let f=ra();Mt(f,new Id(f,c))}Jn.Ma="timingevent";function Cd(c,f){Pt.call(this,Jn.Ma,c),this.size=f}A(Cd,Pt);function jo(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function Bo(){this.g=!0}Bo.prototype.xa=function(){this.g=!1};function wg(c,f,g,_,O,U){c.info(function(){if(c.g)if(U)for(var z="",He=U.split("&"),St=0;St<He.length;St++){var Me=He[St].split("=");if(1<Me.length){var Nt=Me[0];Me=Me[1];var At=Nt.split("_");z=2<=At.length&&At[1]=="type"?z+(Nt+"="+Me+"&"):z+(Nt+"=redacted&")}}else z=null;else z=U;return"XMLHTTP REQ ("+_+") [attempt "+O+"]: "+f+`
`+g+`
`+z})}function bg(c,f,g,_,O,U,z){c.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+O+"]: "+f+`
`+g+`
`+U+" "+z})}function Le(c,f,g,_){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+Ig(c,g)+(_?" "+_:"")})}function Eg(c,f){c.info(function(){return"TIMEOUT: "+f})}Bo.prototype.info=function(){};function Ig(c,f){if(!c.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var _=g[c];if(!(2>_.length)){var O=_[1];if(Array.isArray(O)&&!(1>O.length)){var U=O[0];if(U!="noop"&&U!="stop"&&U!="close")for(var z=1;z<O.length;z++)O[z]=""}}}}return il(g)}catch{return f}}var ia={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},al;function oa(){}A(oa,Zn),oa.prototype.g=function(){return new XMLHttpRequest},oa.prototype.i=function(){return{}},al=new oa;function Rn(c,f,g,_){this.j=c,this.i=f,this.l=g,this.R=_||1,this.U=new Hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zi}function zi(){this.i=null,this.g="",this.h=!1}var cl={},qi={};function Xe(c,f,g){c.L=1,c.v=aa(Pn(f)),c.m=g,c.P=!0,Td(c,null)}function Td(c,f){c.F=Date.now(),$o(c),c.A=Pn(c.v);var g=c.A,_=c.R;Array.isArray(_)||(_=[String(_)]),$d(g.i,"t",_),c.C=0,g=c.j.J,c.h=new zi,c.g=Il(c.j,g?f:null,!c.m),0<c.O&&(c.M=new vd(y(c.Y,c,c.g),c.O)),f=c.U,g=c.g,_=c.ca;var O="readystatechange";Array.isArray(O)||(O&&(na[0]=O.toString()),O=na);for(var U=0;U<O.length;U++){var z=md(g,O[U],_||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Uo(),wg(c.i,c.u,c.A,c.l,c.R,c.m)}Rn.prototype.ca=function(c){c=c.target;let f=this.M;f&&er(c)==3?f.j():this.Y(c)},Rn.prototype.Y=function(c){try{if(c==this.g)e:{let At=er(this.g);var f=this.g.Ba();let Dr=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Qd(this.g)))){this.J||At!=4||f==7||(f==8||0>=Dr?Uo(3):Uo(2)),ll(this);var g=this.g.Z();this.X=g;t:if(Sd(this)){var _=Qd(this.g);c="";var O=_.length,U=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){br(this),Ho(this);var z="";break t}this.h.i=new a.TextDecoder}for(f=0;f<O;f++)this.h.h=!0,c+=this.h.i.decode(_[f],{stream:!(U&&f==O-1)});_.length=0,this.h.g+=c,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=g==200,bg(this.i,this.u,this.A,this.l,this.R,At,g),this.o){if(this.T&&!this.K){t:{if(this.g){var He,St=this.g;if((He=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(He)){var Me=He;break t}}Me=null}if(g=Me)Le(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ul(this,g);else{this.o=!1,this.s=3,Tt(12),br(this),Ho(this);break e}}if(this.P){g=!0;let _n;for(;!this.J&&this.C<z.length;)if(_n=Cg(this,z),_n==qi){At==4&&(this.s=4,Tt(14),g=!1),Le(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==cl){this.s=4,Tt(15),Le(this.i,this.l,z,"[Invalid Chunk]"),g=!1;break}else Le(this.i,this.l,_n,null),ul(this,_n);if(Sd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||z.length!=0||this.h.h||(this.s=1,Tt(16),g=!1),this.o=this.o&&g,!g)Le(this.i,this.l,z,"[Invalid Chunked Response]"),br(this),Ho(this);else if(0<z.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Zi(Nt),Nt.M=!0,Tt(11))}}else Le(this.i,this.l,z,null),ul(this,z);At==4&&br(this),this.o&&!this.J&&(At==4?_l(this.j,this):(this.o=!1,$o(this)))}else Ng(this.g),g==400&&0<z.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),br(this),Ho(this)}}}catch{}finally{}};function Sd(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Cg(c,f){var g=c.C,_=f.indexOf(`
`,g);return _==-1?qi:(g=Number(f.substring(g,_)),isNaN(g)?cl:(_+=1,_+g>f.length?qi:(f=f.slice(_,_+g),c.C=_+g,f)))}Rn.prototype.cancel=function(){this.J=!0,br(this)};function $o(c){c.S=Date.now()+c.I,Ad(c,c.I)}function Ad(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=jo(y(c.ba,c),f)}function ll(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Rn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Eg(this.i,this.A),this.L!=2&&(Uo(),Tt(17)),br(this),this.s=2,Ho(this)):Ad(this,this.S-c)};function Ho(c){c.j.G==0||c.J||_l(c.j,c)}function br(c){ll(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,yd(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function ul(c,f){try{var g=c.j;if(g.G!=0&&(g.g==c||dl(g.h,c))){if(!c.K&&dl(g.h,c)&&g.G==3){try{var _=g.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var O=_;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Zo(g),da(g);else break e;Yo(g),Tt(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=jo(y(g.Za,g),6e3));if(1>=Md(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Cr(g,11)}else if((c.K||g.g==c)&&Zo(g),!J(f))for(O=g.Da.g.parse(f),f=0;f<O.length;f++){let Me=O[f];if(g.T=Me[0],Me=Me[1],g.G==2)if(Me[0]=="c"){g.K=Me[1],g.ia=Me[2];let Nt=Me[3];Nt!=null&&(g.la=Nt,g.j.info("VER="+g.la));let At=Me[4];At!=null&&(g.Aa=At,g.j.info("SVER="+g.Aa));let Dr=Me[5];Dr!=null&&typeof Dr=="number"&&0<Dr&&(_=1.5*Dr,g.L=_,g.j.info("backChannelRequestTimeoutMs_="+_)),_=g;let _n=c.g;if(_n){let fa=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var U=_.h;U.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(hl(U,U.h),U.h=null))}if(_.D){let Dl=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Dl&&(_.ya=Dl,Ye(_.I,_.D,Dl))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),_=g;var z=c;if(_.qa=El(_,_.J?_.ia:null,_.W),z.K){Nd(_.h,z);var He=z,St=_.L;St&&(He.I=St),He.B&&(ll(He),$o(He)),_.g=z}else yl(_);0<g.i.length&&ha(g)}else Me[0]!="stop"&&Me[0]!="close"||Cr(g,7);else g.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Cr(g,7):ua(g):Me[0]!="noop"&&g.l&&g.l.ta(Me),g.v=0)}}Uo(4)}catch{}}var xd=class{constructor(c,f){this.g=c,this.map=f}};function Rd(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pd(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Md(c){return c.h?1:c.g?c.g.size:0}function dl(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function hl(c,f){c.g?c.g.add(f):c.h=f}function Nd(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Rd.prototype.cancel=function(){if(this.i=Od(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Od(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let g of c.g.values())f=f.concat(g.D);return f}return j(c.i)}function kd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var f=[],g=c.length,_=0;_<g;_++)f.push(c[_]);return f}f=[],g=0;for(_ in c)f[g++]=c[_];return f}function Dg(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var f=[];c=c.length;for(var g=0;g<c;g++)f.push(g);return f}f=[],g=0;for(let _ in c)f[g++]=_;return f}}}function fl(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var g=Dg(c),_=kd(c),O=_.length,U=0;U<O;U++)f.call(void 0,_[U],g&&g[U],c)}var Fd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tg(c,f){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var _=c[g].indexOf("="),O=null;if(0<=_){var U=c[g].substring(0,_);O=c[g].substring(_+1)}else U=c[g];f(U,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function cn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof cn){this.h=c.h,sa(this,c.j),this.o=c.o,this.g=c.g,Gi(this,c.s),this.l=c.l;var f=c.i,g=new Go;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),pl(this,g),this.m=c.m}else c&&(f=String(c).match(Fd))?(this.h=!1,sa(this,f[1]||"",!0),this.o=zo(f[2]||""),this.g=zo(f[3]||"",!0),Gi(this,f[4]),this.l=zo(f[5]||"",!0),pl(this,f[6]||"",!0),this.m=zo(f[7]||"")):(this.h=!1,this.i=new Go(null,this.h))}cn.prototype.toString=function(){var c=[],f=this.j;f&&c.push(qo(f,Ld,!0),":");var g=this.g;return(g||f=="file")&&(c.push("//"),(f=this.o)&&c.push(qo(f,Ld,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(qo(g,g.charAt(0)=="/"?Ag:Wi,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",qo(g,Ud)),c.join("")};function Pn(c){return new cn(c)}function sa(c,f,g){c.j=g?zo(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Gi(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function pl(c,f,g){f instanceof Go?(c.i=f,xg(c.i,c.h)):(g||(f=qo(f,Vd)),c.i=new Go(f,c.h))}function Ye(c,f,g){c.i.set(f,g)}function aa(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zo(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qo(c,f,g){return typeof c=="string"?(c=encodeURI(c).replace(f,Sg),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Sg(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ld=/[#\/\?@]/g,Wi=/[#\?:]/g,Ag=/[#\?]/g,Vd=/[#\?@]/g,Ud=/#/g;function Go(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Er(c){c.g||(c.g=new Map,c.h=0,c.i&&Tg(c.i,function(f,g){c.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Go.prototype,t.add=function(c,f){Er(this),this.i=null,c=Ki(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(f),this.h+=1,this};function jd(c,f){Er(c),f=Ki(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Bd(c,f){return Er(c),f=Ki(c,f),c.g.has(f)}t.forEach=function(c,f){Er(this),this.g.forEach(function(g,_){g.forEach(function(O){c.call(f,O,_,this)},this)},this)},t.na=function(){Er(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let _=0;_<f.length;_++){let O=c[_];for(let U=0;U<O.length;U++)g.push(f[_])}return g},t.V=function(c){Er(this);let f=[];if(typeof c=="string")Bd(this,c)&&(f=f.concat(this.g.get(Ki(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)f=f.concat(c[g])}return f},t.set=function(c,f){return Er(this),this.i=null,c=Ki(this,c),Bd(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function $d(c,f,g){jd(c,f),0<g.length&&(c.i=null,c.g.set(Ki(c,f),j(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var _=f[g];let U=encodeURIComponent(String(_)),z=this.V(_);for(_=0;_<z.length;_++){var O=U;z[_]!==""&&(O+="="+encodeURIComponent(String(z[_]))),c.push(O)}}return this.i=c.join("&")};function Ki(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function xg(c,f){f&&!c.j&&(Er(c),c.i=null,c.g.forEach(function(g,_){var O=_.toLowerCase();_!=O&&(jd(this,_),$d(this,O,g))},c)),c.j=f}function Qi(c,f){let g=new Bo;if(a.Image){let _=new Image;_.onload=I(Ir,g,"TestLoadImage: loaded",!0,f,_),_.onerror=I(Ir,g,"TestLoadImage: error",!1,f,_),_.onabort=I(Ir,g,"TestLoadImage: abort",!1,f,_),_.ontimeout=I(Ir,g,"TestLoadImage: timeout",!1,f,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=c}else f(!1)}function Rg(c,f){let g=new Bo,_=new AbortController,O=setTimeout(()=>{_.abort(),Ir(g,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:_.signal}).then(U=>{clearTimeout(O),U.ok?Ir(g,"TestPingServer: ok",!0,f):Ir(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),Ir(g,"TestPingServer: error",!1,f)})}function Ir(c,f,g,_,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),_(g)}catch{}}function Hd(){this.g=new _g}function Pg(c,f,g){let _=g||"";try{fl(c,function(O,U){let z=O;d(O)&&(z=il(O)),f.push(_+U+"="+encodeURIComponent(z))})}catch(O){throw f.push(_+"type="+encodeURIComponent("_badmap")),O}}function ln(c){this.l=c.Ub||null,this.j=c.eb||!1}A(ln,Zn),ln.prototype.g=function(){return new ca(this.l,this.j)},ln.prototype.i=function(c){return function(){return c}}({});function ca(c,f){yt.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ca,yt),t=ca.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Wo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wo(this)),this.g&&(this.readyState=3,Wo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ml(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ml(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Xn(this):Wo(this),this.readyState==3&&ml(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Xn(this))},t.Qa=function(c){this.g&&(this.response=c,Xn(this))},t.ga=function(){this.g&&Xn(this)};function Xn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wo(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=f.next();return c.join(`\r
`)};function Wo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zd(c){let f="";return ae(c,function(g,_){f+=_,f+=":",f+=g,f+=`\r
`}),f}function gl(c,f,g){e:{for(_ in g){var _=!1;break e}_=!0}_||(g=zd(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Ye(c,f,g))}function et(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(et,yt);var Yi=/^https?$/i,Mg=["POST","PUT"];t=et.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,g,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():al.g(),this.v=this.o?_d(this.o):_d(al),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(U){qd(this,U);return}if(c=g||"",g=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var O in _)g.set(O,_[O]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let U of _.keys())g.set(U,_.get(U));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),O=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Mg,f,void 0))||_||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[U,z]of g)this.g.setRequestHeader(U,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kd(this),this.u=!0,this.g.send(c),this.u=!1}catch(U){qd(this,U)}};function qd(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,Gd(c),la(c)}function Gd(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Mt(this,"complete"),Mt(this,"abort"),la(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),la(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wd(this):this.bb())},t.bb=function(){Wd(this)};function Wd(c){if(c.h&&typeof s<"u"&&(!c.v[1]||er(c)!=4||c.Z()!=2)){if(c.u&&er(c)==4)jt(c.Ea,0,c);else if(Mt(c,"readystatechange"),er(c)==4){c.h=!1;try{let z=c.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var _;if(_=z===0){var O=String(c.D).match(Fd)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),_=!Yi.test(O?O.toLowerCase():"")}g=_}if(g)Mt(c,"complete"),Mt(c,"success");else{c.m=6;try{var U=2<er(c)?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.Z()+"]",Gd(c)}}finally{la(c)}}}}function la(c,f){if(c.g){Kd(c);let g=c.g,_=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||Mt(c,"ready");try{g.onreadystatechange=_}catch{}}}function Kd(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function er(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),yg(f)}};function Qd(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ng(c){let f={};c=(c.g&&2<=er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<c.length;_++){if(J(c[_]))continue;var g=M(c[_]);let O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let U=f[O]||[];f[O]=U,U.push(g)}R(f,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ko(c,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||f}function Qo(c){this.Aa=0,this.i=[],this.j=new Bo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ko("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ko("baseRetryDelayMs",5e3,c),this.cb=Ko("retryDelaySeedMs",1e4,c),this.Wa=Ko("forwardChannelMaxRetries",2,c),this.wa=Ko("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Rd(c&&c.concurrentRequestLimit),this.Da=new Hd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qo.prototype,t.la=8,t.G=1,t.connect=function(c,f,g,_){Tt(0),this.W=c,this.H=f||{},g&&_!==void 0&&(this.H.OSID=g,this.H.OAID=_),this.F=this.X,this.I=El(this,null,this.W),ha(this)};function ua(c){if(Yd(c),c.G==3){var f=c.U++,g=Pn(c.I);if(Ye(g,"SID",c.K),Ye(g,"RID",f),Ye(g,"TYPE","terminate"),ni(c,g),f=new Rn(c,c.j,f),f.L=2,f.v=aa(Pn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=Il(f.j,null),f.g.ea(f.v)),f.F=Date.now(),$o(f)}bl(c)}function da(c){c.g&&(Zi(c),c.g.cancel(),c.g=null)}function Yd(c){da(c),c.u&&(a.clearTimeout(c.u),c.u=null),Zo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ha(c){if(!Pd(c.h)&&!c.s){c.s=!0;var f=c.Ga;Fi||gn(),ti||(Fi(),ti=!0),Li.add(f,c),c.B=0}}function Zd(c,f){return Md(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=jo(y(c.Ga,c,f),wl(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let O=new Rn(this,this.j,c),U=this.o;if(this.S&&(U?(U=C(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(O.H=U,U=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var _=this.i[g];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=vl(this,O,f),g=Pn(this.I),Ye(g,"RID",c),Ye(g,"CVER",22),this.D&&Ye(g,"X-HTTP-Session-Id",this.D),ni(this,g),U&&(this.O?f="headers="+encodeURIComponent(String(zd(U)))+"&"+f:this.m&&gl(g,this.m,U)),hl(this.h,O),this.Ua&&Ye(g,"TYPE","init"),this.P?(Ye(g,"$req",f),Ye(g,"SID","null"),O.T=!0,Xe(O,g,null)):Xe(O,g,f),this.G=2}}else this.G==3&&(c?Jd(this,c):this.i.length==0||Pd(this.h)||Jd(this))};function Jd(c,f){var g;f?g=f.l:g=c.U++;let _=Pn(c.I);Ye(_,"SID",c.K),Ye(_,"RID",g),Ye(_,"AID",c.T),ni(c,_),c.m&&c.o&&gl(_,c.m,c.o),g=new Rn(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),f&&(c.i=f.D.concat(c.i)),f=vl(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),hl(c.h,g),Xe(g,_,f)}function ni(c,f){c.H&&ae(c.H,function(g,_){Ye(f,_,g)}),c.l&&fl({},function(g,_){Ye(f,_,g)})}function vl(c,f,g){g=Math.min(c.i.length,g);var _=c.l?y(c.l.Na,c.l,c):null;e:{var O=c.i;let U=-1;for(;;){let z=["count="+g];U==-1?0<g?(U=O[0].g,z.push("ofs="+U)):U=0:z.push("ofs="+U);let He=!0;for(let St=0;St<g;St++){let Me=O[St].g,Nt=O[St].map;if(Me-=U,0>Me)U=Math.max(0,O[St].g-100),He=!1;else try{Pg(Nt,z,"req"+Me+"_")}catch{_&&_(Nt)}}if(He){_=z.join("&");break e}}}return c=c.i.splice(0,g),f.D=c,_}function yl(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;Fi||gn(),ti||(Fi(),ti=!0),Li.add(f,c),c.v=0}}function Yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=jo(y(c.Fa,c),wl(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Xd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=jo(y(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),da(this),Xd(this))};function Zi(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Xd(c){c.g=new Rn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=Pn(c.qa);Ye(f,"RID","rpc"),Ye(f,"SID",c.K),Ye(f,"AID",c.T),Ye(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(f,"TO",c.ja),Ye(f,"TYPE","xmlhttp"),ni(c,f),c.m&&c.o&&gl(f,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=aa(Pn(f)),g.m=null,g.P=!0,Td(g,c)}t.Za=function(){this.C!=null&&(this.C=null,da(this),Yo(this),Tt(19))};function Zo(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function _l(c,f){var g=null;if(c.g==f){Zo(c),Zi(c),c.g=null;var _=2}else if(dl(c.h,f))g=f.D,Nd(c.h,f),_=1;else return;if(c.G!=0){if(f.o)if(_==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var O=c.B;_=ra(),Mt(_,new Cd(_,g)),ha(c)}else yl(c);else if(O=f.s,O==3||O==0&&0<f.X||!(_==1&&Zd(c,f)||_==2&&Yo(c)))switch(g&&0<g.length&&(f=c.h,f.i=f.i.concat(g)),O){case 1:Cr(c,5);break;case 4:Cr(c,10);break;case 3:Cr(c,6);break;default:Cr(c,2)}}}function wl(c,f){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*f}function Cr(c,f){if(c.j.info("Error code "+f),f==2){var g=y(c.fb,c),_=c.Xa;let O=!_;_=new cn(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||sa(_,"https"),aa(_),O?Qi(_.toString(),g):Rg(_.toString(),g)}else Tt(2);c.G=0,c.l&&c.l.sa(f),bl(c),Yd(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function bl(c){if(c.G=0,c.ka=[],c.l){let f=Od(c.h);(f.length!=0||c.i.length!=0)&&(V(c.ka,f),V(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function El(c,f,g){var _=g instanceof cn?Pn(g):new cn(g);if(_.g!="")f&&(_.g=f+"."+_.g),Gi(_,_.s);else{var O=a.location;_=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;var U=new cn(null);_&&sa(U,_),f&&(U.g=f),O&&Gi(U,O),g&&(U.l=g),_=U}return g=c.D,f=c.ya,g&&f&&Ye(_,g,f),Ye(_,"VER",c.la),ni(c,_),_}function Il(c,f,g){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new et(new ln({eb:g})):new et(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cl(){}t=Cl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Jo(){}Jo.prototype.g=function(c,f){return new _t(c,f)};function _t(c,f){yt.call(this),this.g=new Qo(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!J(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!J(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Ji(this)}A(_t,yt),_t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){ua(this.g)},_t.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=il(c),c=g);f.i.push(new xd(f.Ya++,c)),f.G==3&&ha(f)},_t.prototype.N=function(){this.g.l=null,delete this.j,ua(this.g),delete this.g,_t.aa.N.call(this)};function eh(c){ol.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let g in f){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}A(eh,ol);function th(){sl.call(this),this.status=1}A(th,sl);function Ji(c){this.g=c}A(Ji,Cl),Ji.prototype.ua=function(){Mt(this.g,"a")},Ji.prototype.ta=function(c){Mt(this.g,new eh(c))},Ji.prototype.sa=function(c){Mt(this.g,new th)},Ji.prototype.ra=function(){Mt(this.g,"b")},Jo.prototype.createWebChannel=Jo.prototype.g,_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,b0=Ai.createWebChannelTransport=function(){return new Jo},w0=Ai.getStatEventTarget=function(){return ra()},_0=Ai.Event=Jn,Yp=Ai.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ia.NO_ERROR=0,ia.TIMEOUT=8,ia.HTTP_ERROR=6,Pu=Ai.ErrorCode=ia,Dd.COMPLETE="complete",y0=Ai.EventType=Dd,wd.EventType=Vo,Vo.OPEN="a",Vo.CLOSE="b",Vo.ERROR="c",Vo.MESSAGE="d",yt.prototype.listen=yt.prototype.K,vc=Ai.WebChannel=wd,Y3=Ai.FetchXmlHttpFactory=ln,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,v0=Ai.XhrIo=et}).apply(typeof Qp<"u"?Qp:typeof self<"u"?self:typeof window<"u"?window:{});var Yx="@firebase/firestore";var Lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");var Lc="10.14.0";var Bs=new yo("@firebase/firestore");function Mu(){return Bs.logLevel}function ne(t,...e){if(Bs.logLevel<=Re.DEBUG){let n=e.map(rE);Bs.debug(`Firestore (${Lc}): ${t}`,...n)}}function Ri(t,...e){if(Bs.logLevel<=Re.ERROR){let n=e.map(rE);Bs.error(`Firestore (${Lc}): ${t}`,...n)}}function Cc(t,...e){if(Bs.logLevel<=Re.WARN){let n=e.map(rE);Bs.warn(`Firestore (${Lc}): ${t}`,...n)}}function rE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function he(t="Unexpected state"){let e=`FIRESTORE (${Lc}) INTERNAL ASSERTION FAILED: `+t;throw Ri(e),new Error(e)}function We(t,e){t||he()}function me(t,e){return t}var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Z=class extends sn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var pr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var tm=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},T0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}},S0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},A0=class{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),o=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>D(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new tm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new Lt(e)}},x0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},R0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new x0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},P0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},M0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){We(this.o===void 0);let r=o=>{o.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,ne("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.R=n.token,new P0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Z3(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var nm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Z3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Be(t,e){return t<e?-1:t>e?1:0}function Dc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var qt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var _e=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new qt(0,0))}static max(){return new t(new qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var rm=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},at=class t extends rm{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Z(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},J3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Sn=class t extends rm{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return J3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Z(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ue=class t{constructor(e){this.path=e}static fromPath(e){return new t(at.fromString(e))}static fromName(e){return new t(at.fromString(e).popFirst(5))}static empty(){return new t(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new at(e.slice()))}};var N0=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};N0.UNKNOWN_ID=-1;function X3(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new qt(n+1,0):new qt(n,r));return new $s(i,ue.empty(),e)}function eH(t){return new $s(t.readTime,t.key,-1)}var $s=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(_e.min(),ue.empty(),-1)}static max(){return new t(_e.max(),ue.empty(),-1)}};function tH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}var nH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",O0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Xu(t){return D(this,null,function*(){if(t.code!==B.FAILED_PRECONDITION||t.message!==nH)throw t;ne("LocalStore","Unexpectedly lost primary lease")})}var H=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let d=l;n(e[d]).next(p=>{s[d]=p,++a,a===o&&r(s)},p=>i(p))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function rH(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ed(t){return t.name==="IndexedDbTransactionError"}var P1=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Om(t){return t==null}function Vu(t){return t===0&&1/t==-1/0}function iH(t){return typeof t=="number"&&Number.isInteger(t)&&!Vu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var oH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],YJ=[...oH,"documentOverlays"],sH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],aH=sH,cH=[...aH,"indexConfiguration","indexState","indexEntries"];var ZJ=[...cH,"globals"];function Zx(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function M1(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ht=class t{constructor(e,n){this.comparator=e,this.root=n||Kr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}},bc=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Kr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();let e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}};Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1;Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Kr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Jt=class t{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new im(this.data.getIterator())}getIteratorFrom(e){return new im(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},im=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var qn=class t{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Jt(Sn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dc(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var om=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var en=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new om("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};en.EMPTY_BYTE_STRING=new en("");var lH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(We(!!t),typeof t=="string"){let e=0,n=lH.exec(t);if(We(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function So(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}function iE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function oE(t){let e=t.mapValue.fields.__previous_value__;return iE(e)?oE(e):e}function Uu(t){let e=Pi(t.mapValue.fields.__local_write_time__.timestampValue);return new qt(e.seconds,e.nanos)}var k0=class{constructor(e,n,r,i,o,s,a,l,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d}},sm=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Zp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iE(t)?4:O1(t)?9007199254740991:N1(t)?10:11:he()}function Zr(t,e){if(t===e)return!0;let n=Hs(t);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uu(t).isEqual(Uu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Pi(i.timestampValue),a=Pi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return So(i.bytesValue).isEqual(So(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return it(i.geoPointValue.latitude)===it(o.geoPointValue.latitude)&&it(i.geoPointValue.longitude)===it(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return it(i.integerValue)===it(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=it(i.doubleValue),a=it(o.doubleValue);return s===a?Vu(s)===Vu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Dc(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Zx(s)!==Zx(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Zr(s[l],a[l])))return!1;return!0}(t,e);default:return he()}}function ju(t,e){return(t.values||[]).find(n=>Zr(n,e))!==void 0}function Tc(t,e){if(t===e)return 0;let n=Hs(t),r=Hs(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=it(o.integerValue||o.doubleValue),l=it(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Jx(t.timestampValue,e.timestampValue);case 4:return Jx(Uu(t),Uu(e));case 5:return Be(t.stringValue,e.stringValue);case 6:return function(o,s){let a=So(o),l=So(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let d=0;d<a.length&&d<l.length;d++){let p=Be(a[d],l[d]);if(p!==0)return p}return Be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Be(it(o.latitude),it(s.latitude));return a!==0?a:Be(it(o.longitude),it(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Xx(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,d,p;let m=o.fields||{},y=s.fields||{},I=(a=m.value)===null||a===void 0?void 0:a.arrayValue,A=(l=y.value)===null||l===void 0?void 0:l.arrayValue,j=Be(((d=I?.values)===null||d===void 0?void 0:d.length)||0,((p=A?.values)===null||p===void 0?void 0:p.length)||0);return j!==0?j:Xx(I,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Zp.mapValue&&s===Zp.mapValue)return 0;if(o===Zp.mapValue)return 1;if(s===Zp.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),d=s.fields||{},p=Object.keys(d);l.sort(),p.sort();for(let m=0;m<l.length&&m<p.length;++m){let y=Be(l[m],p[m]);if(y!==0)return y;let I=Tc(a[l[m]],d[p[m]]);if(I!==0)return I}return Be(l.length,p.length)}(t.mapValue,e.mapValue);default:throw he()}}function Jx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);let n=Pi(t),r=Pi(e),i=Be(n.seconds,r.seconds);return i!==0?i:Be(n.nanos,r.nanos)}function Xx(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Tc(n[i],r[i]);if(o)return o}return Be(n.length,r.length)}function Sc(t){return F0(t)}function F0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Pi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return So(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=F0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${F0(n.fields[s])}`;return i+"}"}(t.mapValue):he()}function e1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function L0(t){return!!t&&"integerValue"in t}function sE(t){return!!t&&"arrayValue"in t}function t1(t){return!!t&&"nullValue"in t}function n1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xp(t){return!!t&&"mapValue"in t}function N1(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ou(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Qs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ou(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ou(t.arrayValue.values[n]);return e}return Object.assign({},t)}function O1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Tn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ou(n)}setAll(e){let n=Sn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ou(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Xp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qs(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Ou(this.value))}};function k1(t){let e=[];return Qs(t.fields,(n,r)=>{let i=new Sn([n]);if(Xp(r)){let o=k1(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new qn(e)}var mr=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,_e.min(),_e.min(),_e.min(),Tn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,_e.min(),_e.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,_e.min(),_e.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ac=class{constructor(e,n){this.position=e,this.inclusive=n}};function r1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ue.comparator(ue.fromName(s.referenceValue),n.key):r=Tc(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function i1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}var xc=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function uH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var am=class{},Ct=class t extends am{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new U0(e,n,r):n==="array-contains"?new $0(e,r):n==="in"?new H0(e,r):n==="not-in"?new z0(e,r):n==="array-contains-any"?new q0(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new j0(e,r):new B0(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Tc(n,this.value)):n!==null&&Hs(this.value)===Hs(n)&&this.matchesComparison(Tc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gr=class t extends am{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return F1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function F1(t){return t.op==="and"}function L1(t){return dH(t)&&F1(t)}function dH(t){for(let e of t.filters)if(e instanceof gr)return!1;return!0}function V0(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+Sc(t.value);if(L1(t))return t.filters.map(e=>V0(e)).join(",");{let e=t.filters.map(n=>V0(n)).join(",");return`${t.op}(${e})`}}function V1(t,e){return t instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&Zr(r.value,i.value)}(t,e):t instanceof gr?function(r,i){return i instanceof gr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&V1(s,i.filters[a]),!0):!1}(t,e):void he()}function U1(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Sc(n.value)}`}(t):t instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map(U1).join(" ,")+"}"}(t):"Filter"}var U0=class extends Ct{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){let n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}},j0=class extends Ct{constructor(e,n){super(e,"in",n),this.keys=j1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},B0=class extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=j1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function j1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}var $0=class extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return sE(n)&&ju(n.arrayValue,this.value)}},H0=class extends Ct{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ju(this.value.arrayValue,n)}},z0=class extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ju(this.value.arrayValue,n)}},q0=class extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!sE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ju(this.value.arrayValue,r))}};var G0=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function o1(t,e=null,n=[],r=[],i=null,o=null,s=null){return new G0(t,e,n,r,i,o,s)}function aE(t){let e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>V0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Om(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Sc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Sc(r)).join(",")),e.ue=n}return e.ue}function cE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!V1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!i1(t.startAt,e.startAt)&&i1(t.endAt,e.endAt)}function W0(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var zs=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function hH(t,e,n,r,i,o,s,a){return new zs(t,e,n,r,i,o,s,a)}function km(t){return new zs(t)}function s1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function B1(t){return t.collectionGroup!==null}function ku(t){let e=me(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Jt(Sn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new xc(o,r))}),n.has(Sn.keyField().canonicalString())||e.ce.push(new xc(Sn.keyField(),r))}return e.ce}function Qr(t){let e=me(t);return e.le||(e.le=fH(e,ku(t))),e.le}function fH(t,e){if(t.limitType==="F")return o1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new xc(i.field,o)});let n=t.endAt?new Ac(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ac(t.startAt.position,t.startAt.inclusive):null;return o1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function K0(t,e){let n=t.filters.concat([e]);return new zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Q0(t,e,n){return new zs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fm(t,e){return cE(Qr(t),Qr(e))&&t.limitType===e.limitType}function $1(t){return`${aE(Qr(t))}|lt:${t.limitType}`}function yc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>U1(i)).join(", ")}]`),Om(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Sc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Sc(i)).join(",")),`Target(${r})`}(Qr(t))}; limitType=${t.limitType})`}function Lm(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ku(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){let d=r1(s,a,l);return s.inclusive?d<=0:d<0}(r.startAt,ku(r),i)||r.endAt&&!function(s,a,l){let d=r1(s,a,l);return s.inclusive?d>=0:d>0}(r.endAt,ku(r),i))}(t,e)}function pH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function H1(t){return(e,n)=>{let r=!1;for(let i of ku(t)){let o=mH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function mH(t,e,n){let r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(o,s,a){let l=s.data.field(o),d=a.data.field(o);return l!==null&&d!==null?Tc(l,d):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}var Ao=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return M1(this.inner)}size(){return this.innerSize}};var gH=new ht(ue.comparator);function Mi(){return gH}var z1=new ht(ue.comparator);function Nu(...t){let e=z1;for(let n of t)e=e.insert(n.key,n);return e}function q1(t){let e=z1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vs(){return Fu()}function G1(){return Fu()}function Fu(){return new Ao(t=>t.toString(),(t,e)=>t.isEqual(e))}var vH=new ht(ue.comparator),yH=new Jt(ue.comparator);function Pe(...t){let e=yH;for(let n of t)e=e.add(n);return e}var _H=new Jt(Be);function wH(){return _H}function lE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vu(e)?"-0":e}}function W1(t){return{integerValue:""+t}}function bH(t,e){return iH(e)?W1(e):lE(t,e)}var Rc=class{constructor(){this._=void 0}};function EH(t,e,n){return t instanceof Pc?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&iE(o)&&(o=oE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof qs?Q1(t,e):t instanceof Gs?Y1(t,e):function(i,o){let s=K1(i,o),a=a1(s)+a1(i.Pe);return L0(s)&&L0(i.Pe)?W1(a):lE(i.serializer,a)}(t,e)}function IH(t,e,n){return t instanceof qs?Q1(t,e):t instanceof Gs?Y1(t,e):n}function K1(t,e){return t instanceof Mc?function(r){return L0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Pc=class extends Rc{},qs=class extends Rc{constructor(e){super(),this.elements=e}};function Q1(t,e){let n=Z1(e);for(let r of t.elements)n.some(i=>Zr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Gs=class extends Rc{constructor(e){super(),this.elements=e}};function Y1(t,e){let n=Z1(e);for(let r of t.elements)n=n.filter(i=>!Zr(i,r));return{arrayValue:{values:n}}}var Mc=class extends Rc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function a1(t){return it(t.integerValue||t.doubleValue)}function Z1(t){return sE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function CH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qs&&i instanceof qs||r instanceof Gs&&i instanceof Gs?Dc(r.elements,i.elements,Zr):r instanceof Mc&&i instanceof Mc?Zr(r.Pe,i.Pe):r instanceof Pc&&i instanceof Pc}(t.transform,e.transform)}var Y0=class{constructor(e,n){this.version=e,this.transformResults=n}},xi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function em(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Nc=class{};function J1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cm(t.key,xi.none()):new Ws(t.key,t.data,xi.none());{let n=t.data,r=Tn.empty(),i=new Jt(Sn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Jr(t.key,r,new qn(i.toArray()),xi.none())}}function DH(t,e,n){t instanceof Ws?function(i,o,s){let a=i.value.clone(),l=l1(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Jr?function(i,o,s){if(!em(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=l1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(X1(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Lu(t,e,n,r){return t instanceof Ws?function(o,s,a,l){if(!em(o.precondition,s))return a;let d=o.value.clone(),p=u1(o.fieldTransforms,l,s);return d.setAll(p),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jr?function(o,s,a,l){if(!em(o.precondition,s))return a;let d=u1(o.fieldTransforms,l,s),p=s.data;return p.setAll(X1(o)),p.setAll(d),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,s,a){return em(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function TH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=K1(r.transform,i||null);o!=null&&(n===null&&(n=Tn.empty()),n.set(r.field,o))}return n||null}function c1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Dc(r,i,(o,s)=>CH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ws=class extends Nc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Jr=class extends Nc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function X1(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function l1(t,e,n){let r=new Map;We(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,IH(s,a,n[i]))}return r}function u1(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,EH(o,s,e))}return r}var cm=class extends Nc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Z0=class extends Nc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var J0=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&DH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=G1();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let l=J1(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Dc(this.mutations,e.mutations,(n,r)=>c1(n,r))&&Dc(this.baseMutations,e.baseMutations,(n,r)=>c1(n,r))}},X0=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length);let i=function(){return vH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var eb=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var tb=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Et,Fe;function SH(t){switch(t){default:return he();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function eR(t){if(t===void 0)return Ri("GRPC error has no .code"),B.UNKNOWN;switch(t){case Et.OK:return B.OK;case Et.CANCELLED:return B.CANCELLED;case Et.UNKNOWN:return B.UNKNOWN;case Et.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Et.INTERNAL:return B.INTERNAL;case Et.UNAVAILABLE:return B.UNAVAILABLE;case Et.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Et.NOT_FOUND:return B.NOT_FOUND;case Et.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Et.ABORTED:return B.ABORTED;case Et.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Et.DATA_LOSS:return B.DATA_LOSS;default:return he()}}(Fe=Et||(Et={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";var d1=null;function AH(){return new TextEncoder}var xH=new Do([4294967295,4294967295],0);function h1(t){let e=AH().encode(t),n=new g0;return n.update(e),new Uint8Array(n.digest())}function f1(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Do([n,r],0),new Do([i,o],0)]}var nb=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Us(`Invalid padding: ${n}`);if(r<0)throw new Us(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Us(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Us(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Do.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Do.fromNumber(r)));return i.compare(xH)===1&&(i=new Do([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=h1(e),[r,i]=f1(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=h1(e),[r,i]=f1(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Us=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var lm=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(_e.min(),i,new ht(Be),Mi(),Pe())}},Bu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,Pe(),Pe(),Pe())}};var Ec=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},um=class{constructor(e,n){this.targetId=e,this.me=n}},dm=class{constructor(e,n,r=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},hm=class{constructor(){this.fe=0,this.ge=m1(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),n=Pe(),r=Pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new Bu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=m1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},rb=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mi(),this.qe=p1(),this.Qe=new ht(Be)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(W0(o))if(r===0){let s=new ue(o.path);this.Ue(n,s,mr.newNoDocument(s,_e.min()))}else We(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);let d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}d1?.et(function(p,m,y,I,A){var j,V,$,J,ee,ie;let Ne={localCacheCount:p,existenceFilterCount:m.count,databaseId:y.database,projectId:y.projectId},ae=m.unchangedNames;return ae&&(Ne.bloomFilter={applied:A===0,hashCount:(j=ae?.hashCount)!==null&&j!==void 0?j:0,bitmapLength:(J=($=(V=ae?.bits)===null||V===void 0?void 0:V.bitmap)===null||$===void 0?void 0:$.length)!==null&&J!==void 0?J:0,padding:(ie=(ee=ae?.bits)===null||ee===void 0?void 0:ee.padding)!==null&&ie!==void 0?ie:0,mightContain:R=>{var C;return(C=I?.mightContain(R))!==null&&C!==void 0&&C}}),Ne}(s,e.me,this.Le.tt(),a,l))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=So(r).toUint8Array()}catch(l){if(l instanceof om)return Cc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new nb(s,i,o)}catch(l){return Cc(l instanceof Us?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&W0(a.target)){let l=new ue(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,mr.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Pe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new lm(e,n,this.Qe,this.ke,r);return this.ke=Mi(),this.qe=p1(),this.Qe=new ht(Be),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new hm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Jt(Be),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new hm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function p1(){return new ht(ue.comparator)}function m1(){return new ht(ue.comparator)}var RH={asc:"ASCENDING",desc:"DESCENDING"},PH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MH={and:"AND",or:"OR"},ib=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ob(t,e){return t.useProto3Json||Om(e)?e:{value:e}}function fm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NH(t,e){return fm(t,e.toTimestamp())}function Yr(t){return We(!!t),_e.fromTimestamp(function(n){let r=Pi(n);return new qt(r.seconds,r.nanos)}(t))}function uE(t,e){return sb(t,e).canonicalString()}function sb(t,e){let n=function(i){return new at(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nR(t){let e=at.fromString(t);return We(aR(e)),e}function ab(t,e){return uE(t.databaseId,e.path)}function E0(t,e){let n=nR(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(iR(n))}function rR(t,e){return uE(t.databaseId,e)}function OH(t){let e=nR(t);return e.length===4?at.emptyPath():iR(e)}function cb(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iR(t){return We(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function g1(t,e,n){return{name:ab(t,e),fields:n.value.mapValue.fields}}function kH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(We(p===void 0||typeof p=="string"),en.fromBase64String(p||"")):(We(p===void 0||p instanceof Buffer||p instanceof Uint8Array),en.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){let p=d.code===void 0?B.UNKNOWN:eR(d.code);return new Z(p,d.message||"")}(s);n=new dm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=E0(t,r.document.name),o=Yr(r.document.updateTime),s=r.document.createTime?Yr(r.document.createTime):_e.min(),a=new Tn({mapValue:{fields:r.document.fields}}),l=mr.newFoundDocument(i,o,s,a),d=r.targetIds||[],p=r.removedTargetIds||[];n=new Ec(d,p,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=E0(t,r.document),o=r.readTime?Yr(r.readTime):_e.min(),s=mr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ec([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=E0(t,r.document),o=r.removedTargetIds||[];n=new Ec([],o,i,null)}else{if(!("filter"in e))return he();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new tb(i,o),a=r.targetId;n=new um(a,s)}}return n}function FH(t,e){let n;if(e instanceof Ws)n={update:g1(t,e.key,e.value)};else if(e instanceof cm)n={delete:ab(t,e.key)};else if(e instanceof Jr)n={update:g1(t,e.key,e.data),updateMask:qH(e.fieldMask)};else{if(!(e instanceof Z0))return he();n={verify:ab(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Pc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:NH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:he()}(t,e.precondition)),n}function LH(t,e){return t&&t.length>0?(We(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Yr(i.updateTime):Yr(o);return s.isEqual(_e.min())&&(s=Yr(o)),new Y0(s,i.transformResults||[])}(n,e))):[]}function VH(t,e){return{documents:[rR(t,e.path)]}}function UH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rR(t,i);let o=function(d){if(d.length!==0)return sR(gr.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(p=>function(y){return{field:_c(y.field),direction:$H(y.dir)}}(p))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=ob(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function jH(t){let e=OH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){We(r===1);let p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(m){let y=oR(m);return y instanceof gr&&L1(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(y=>function(A){return new xc(wc(A.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(m){let y;return y=typeof m=="object"?m.value:m,Om(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(m){let y=!!m.before,I=m.values||[];return new Ac(I,y)}(n.startAt));let d=null;return n.endAt&&(d=function(m){let y=!m.before,I=m.values||[];return new Ac(I,y)}(n.endAt)),hH(e,i,s,o,a,"F",l,d)}function BH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=wc(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=wc(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=wc(n.unaryFilter.field);return Ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=wc(n.unaryFilter.field);return Ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(wc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(r=>oR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function $H(t){return RH[t]}function HH(t){return PH[t]}function zH(t){return MH[t]}function _c(t){return{fieldPath:t.canonicalString()}}function wc(t){return Sn.fromServerFormat(t.fieldPath)}function sR(t){return t instanceof Ct?function(n){if(n.op==="=="){if(n1(n.value))return{unaryFilter:{field:_c(n.field),op:"IS_NAN"}};if(t1(n.value))return{unaryFilter:{field:_c(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(n1(n.value))return{unaryFilter:{field:_c(n.field),op:"IS_NOT_NAN"}};if(t1(n.value))return{unaryFilter:{field:_c(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_c(n.field),op:HH(n.op),value:n.value}}}(t):t instanceof gr?function(n){let r=n.getFilters().map(i=>sR(i));return r.length===1?r[0]:{compositeFilter:{op:zH(n.op),filters:r}}}(t):he()}function qH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var $u=class t{constructor(e,n,r,i,o=_e.min(),s=_e.min(),a=en.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var lb=class{constructor(e){this.ct=e}};function GH(t){let e=jH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Q0(e,e.limit,"L"):e}var pm=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(it(e.integerValue));else if("doubleValue"in e){let r=it(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Vu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Pi(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(So(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?O1(e)?this.dt(n,Number.MAX_SAFE_INTEGER):N1(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):he()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(it(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ue.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};pm.vt=new pm;var ub=class{constructor(){this.un=new db}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve($s.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve($s.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}},db=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jt(at.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jt(at.comparator)).toArray()}};var XJ=new Uint8Array(0);var Wr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Wr.DEFAULT_COLLECTION_PERCENTILE=10,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wr.DEFAULT=new Wr(41943040,Wr.DEFAULT_COLLECTION_PERCENTILE,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wr.DISABLED=new Wr(-1,0,0);var Hu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var hb=class{constructor(){this.changes=new Ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var fb=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var pb=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Lu(r.mutation,i,qn.empty(),qt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){let i=Vs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Nu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Vs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Mi(),s=Fu(),a=function(){return Fu()}();return n.forEach((l,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Jr)?o=o.insert(d.key,d):p!==void 0?(s.set(d.key,p.mutation.getFieldMask()),Lu(p.mutation,d,p.mutation.getFieldMask(),qt.now())):s.set(d.key,qn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((d,p)=>s.set(d,p)),n.forEach((d,p)=>{var m;return a.set(d,new fb(p,(m=s.get(d))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Fu(),i=new ht((s,a)=>s-a),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(l=>{let d=n.get(l);if(d===null)return;let p=r.get(l)||qn.empty();p=a.applyToLocalView(d,p),r.set(l,p);let m=(i.get(a.batchId)||Pe()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),d=l.key,p=l.value,m=G1();p.forEach(y=>{if(!o.has(y)){let I=J1(n.get(y),r.get(y));I!==null&&m.set(y,I),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return H.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):B1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):H.resolve(Vs()),a=-1,l=o;return s.next(d=>H.forEach(d,(p,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(p)?H.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{l=l.insert(p,y)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,l,d,Pe())).next(p=>({batchId:a,changes:q1(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=Nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Nu();return this.indexManager.getCollectionParents(e,o).next(a=>H.forEach(a,l=>{let d=function(m,y){return new zs(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((m,y)=>{s=s.insert(m,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,d)=>{let p=d.getKey();s.get(p)===null&&(s=s.insert(p,mr.newInvalidDocument(p)))});let a=Nu();return s.forEach((l,d)=>{let p=o.get(l);p!==void 0&&Lu(p.mutation,d,qn.empty(),qt.now()),Lm(n,d)&&(a=a.insert(l,d))}),a})}};var mb=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:GH(i.bundledQuery),readTime:Yr(i.readTime)}}(n)),H.resolve()}};var gb=class{constructor(){this.overlays=new ht(ue.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Vs();return H.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),H.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){let i=Vs(),o=n.length+1,s=new ue(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ht((d,p)=>d-p),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=Vs(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=Vs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return H.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new eb(n,r));let o=this.Ir.get(n);o===void 0&&(o=Pe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var vb=class{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}};var zu=class{constructor(){this.Tr=new Jt(It.Er),this.dr=new Jt(It.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new It(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new It(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ue(new at([])),r=new It(n,e),i=new It(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ue(new at([])),r=new It(n,e),i=new It(n,e+1),o=Pe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new It(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},It=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ue.comparator(e.key,n.key)||Be(e.wr,n.wr)}static Ar(e,n){return Be(e.wr,n.wr)||ue.comparator(e.key,n.key)}};var yb=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Jt(It.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new J0(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new It(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(s)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Be);return n.forEach(i=>{let o=new It(i,0),s=new It(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ue.isDocumentKey(o)||(o=o.child(""));let s=new It(new ue(o),0),a=new Jt(Be);return this.br.forEachWhile(l=>{let d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(l.wr)),!0)},s),H.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){We(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,i=>{let o=new It(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new It(n,0),i=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var _b=class{constructor(e){this.Mr=e,this.docs=function(){return new ht(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let r=Mi();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mr.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Mi(),s=n.path,a=new ue(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:d,value:{document:p}}=l.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||tH(eH(p),r)<=0||(i.has(p.key)||Lm(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,n,r,i){he()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wb(this)}getSize(e){return H.resolve(this.size)}},wb=class extends hb{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var bb=class{constructor(e){this.persistence=e,this.Nr=new Ao(n=>aE(n),cE),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zu,this.targetCount=0,this.kr=Hu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Hu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(o).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}};var Eb=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new P1(0),this.Kr=!1,this.Kr=!0,this.$r=new vb,this.referenceDelegate=e(this),this.Ur=new bb(this),this.indexManager=new ub,this.remoteDocumentCache=function(i){return new _b(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new lb(n),this.Gr=new mb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new yb(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);let i=new Ib(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Ib=class extends O0{constructor(e){super(),this.currentSequenceNumber=e}},Cb=class t{constructor(e){this.persistence=e,this.Jr=new zu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{let i=ue.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,_e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Db=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Pe(),i=Pe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Tb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Sb=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return oA()?8:rH(Ft())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Tb;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Mu()<=Re.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",yc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(Mu()<=Re.DEBUG&&ne("QueryEngine","Query:",yc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Mu()<=Re.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",yc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):H.resolve())}Yi(e,n){if(s1(n))return H.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Q0(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Pe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let d=this.ts(n,a);return this.ns(n,d,s,l.readTime)?this.Yi(e,Q0(n,null,"F")):this.rs(e,d,n,l)}))})))}Zi(e,n,r,i){return s1(n)||i.isEqual(_e.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?H.resolve(null):(Mu()<=Re.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yc(n)),this.rs(e,s,n,X3(i,-1)).next(a=>a))})}ts(e,n){let r=new Jt(H1(e));return n.forEach((i,o)=>{Lm(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Mu()<=Re.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",yc(n)),this.Ji.getDocumentsMatchingQuery(e,n,$s.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Ab=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ht(Be),this._s=new Ao(o=>aE(o),cE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pb(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function WH(t,e,n,r){return new Ab(t,e,n,r)}function cR(t,e){return D(this,null,function*(){let n=me(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=Pe();for(let d of i){s.push(d.batchId);for(let p of d.mutations)l=l.add(p.key)}for(let d of o){a.push(d.batchId);for(let p of d.mutations)l=l.add(p.key)}return n.localDocuments.getDocuments(r,l).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:a}))})})})}function KH(t,e){let n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,d,p){let m=d.batch,y=m.keys(),I=H.resolve();return y.forEach(A=>{I=I.next(()=>p.getEntry(l,A)).next(j=>{let V=d.docVersions.get(A);We(V!==null),j.version.compareTo(V)<0&&(m.applyToRemoteDocument(j,d),j.isValidDocument()&&(j.setReadTime(d.commitVersion),p.addEntry(j)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Pe();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lR(t){let e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function QH(t,e){let n=me(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((p,m)=>{let y=i.get(m);if(!y)return;a.push(n.Ur.removeMatchingKeys(o,p.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(o,p.addedDocuments,m)));let I=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?I=I.withResumeToken(en.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):p.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(p.resumeToken,r)),i=i.insert(m,I),function(j,V,$){return j.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(y,I,p)&&a.push(n.Ur.updateTargetData(o,I))});let l=Mi(),d=Pe();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),a.push(YH(o,s,e.documentUpdates).next(p=>{l=p.Ps,d=p.Is})),!r.isEqual(_e.min())){let p=n.Ur.getLastRemoteSnapshotVersion(o).next(m=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(p)}return H.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,d)).next(()=>l)}).then(o=>(n.os=i,o))}function YH(t,e,n){let r=Pe(),i=Pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Mi();return n.forEach((a,l)=>{let d=o.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function ZH(t,e){let n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JH(t,e){let n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,H.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new $u(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function xb(t,e,n){return D(this,null,function*(){let r=me(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ed(s))throw s;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function v1(t,e,n){let r=me(t),i=_e.min(),o=Pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,d,p){let m=me(l),y=m._s.get(p);return y!==void 0?H.resolve(m.os.get(y)):m.Ur.getTargetData(d,p)}(r,s,Qr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:_e.min(),n?o:Pe())).next(a=>(XH(r,pH(e),a),{documents:a,Ts:o})))}function XH(t,e,n){let r=t.us.get(e)||_e.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var mm=class{constructor(){this.activeTargetIds=wH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Rb=class{constructor(){this.so=new mm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new mm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Pb=class{_o(e){}shutdown(){}};var gm=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Jp=null;function I0(){return Jp===null?Jp=function(){return 268435456+Math.round(2147483648*Math.random())}():Jp++,"0x"+Jp.toString(16)}var e5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Mb=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Zt="WebChannelConnection",Nb=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=I0(),l=this.xo(n,r.toUriEncodedString());ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(n,l,d,i).then(p=>(ne("RestConnection",`Received RPC '${n}' ${a}: `,p),p),p=>{throw Cc("RestConnection",`RPC '${n}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=e5[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=I0();return new Promise((s,a)=>{let l=new v0;l.setWithCredentials(!0),l.listenOnce(y0.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pu.NO_ERROR:let p=l.getResponseJson();ne(Zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case Pu.TIMEOUT:ne(Zt,`RPC '${e}' ${o} timed out`),a(new Z(B.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:let m=l.getStatus();if(ne(Zt,`RPC '${e}' ${o} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let A=function(V){let $=V.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf($)>=0?$:B.UNKNOWN}(I.status);a(new Z(A,I.message))}else a(new Z(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(B.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ne(Zt,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);ne(Zt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=I0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=b0(),a=w0(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let p=o.join("");ne(Zt,`Creating RPC '${e}' stream ${i}: ${p}`,l);let m=s.createWebChannel(p,l),y=!1,I=!1,A=new Mb({Io:V=>{I?ne(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(y||(ne(Zt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),ne(Zt,`RPC '${e}' stream ${i} sending:`,V),m.send(V))},To:()=>m.close()}),j=(V,$,J)=>{V.listen($,ee=>{try{J(ee)}catch(ie){setTimeout(()=>{throw ie},0)}})};return j(m,vc.EventType.OPEN,()=>{I||(ne(Zt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),j(m,vc.EventType.CLOSE,()=>{I||(I=!0,ne(Zt,`RPC '${e}' stream ${i} transport closed`),A.So())}),j(m,vc.EventType.ERROR,V=>{I||(I=!0,Cc(Zt,`RPC '${e}' stream ${i} transport errored:`,V),A.So(new Z(B.UNAVAILABLE,"The operation could not be completed")))}),j(m,vc.EventType.MESSAGE,V=>{var $;if(!I){let J=V.data[0];We(!!J);let ee=J,ie=ee.error||(($=ee[0])===null||$===void 0?void 0:$.error);if(ie){ne(Zt,`RPC '${e}' stream ${i} received error:`,ie);let Ne=ie.status,ae=function(T){let P=Et[T];if(P!==void 0)return eR(P)}(Ne),R=ie.message;ae===void 0&&(ae=B.INTERNAL,R="Unknown error status: "+Ne+" with message "+ie.message),I=!0,A.So(new Z(ae,R)),m.close()}else ne(Zt,`RPC '${e}' stream ${i} received:`,J),A.bo(J)}}),j(a,_0.STAT_EVENT,V=>{V.stat===Yp.PROXY?ne(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===Yp.NOPROXY&&ne(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function C0(){return typeof document<"u"?document:null}function Vm(t){return new ib(t,!0)}var vm=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ym=class{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new vm(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return D(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return D(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return D(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Ri(n.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new Z(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>D(this,null,function*(){this.state=0,this.start()}))}I_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ob=class extends ym{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=kH(this.serializer,e),r=function(o){if(!("targetChange"in o))return _e.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?_e.min():s.readTime?Yr(s.readTime):_e.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=cb(this.serializer),n.addTarget=function(o,s){let a,l=s.target;if(a=W0(l)?{documents:VH(o,l)}:{query:UH(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=tR(o,s.resumeToken);let d=ob(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(_e.min())>0){a.readTime=fm(o,s.snapshotVersion.toTimestamp());let d=ob(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=BH(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=cb(this.serializer),n.removeTarget=e,this.a_(n)}},kb=class extends ym{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=LH(e.writeResults,e.commitTime),r=Yr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=cb(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>FH(this.serializer,r))};this.a_(n)}};var Fb=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,sb(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(B.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,sb(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(B.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Lb=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ri(n),this.D_=!1):ne("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Vb=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>D(this,null,function*(){Ys(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),yield function(l){return D(this,null,function*(){let d=me(l);d.L_.add(4),yield td(d),d.q_.set("Unknown"),d.L_.delete(4),yield Um(d)})}(this))}))}),this.q_=new Lb(r,i)}};function Um(t){return D(this,null,function*(){if(Ys(t))for(let e of t.B_)yield e(!0)})}function td(t){return D(this,null,function*(){for(let e of t.B_)yield e(!1)})}function uR(t,e){let n=me(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),pE(n)?fE(n):Vc(n).r_()&&hE(n,e))}function dE(t,e){let n=me(t),r=Vc(n);n.N_.delete(e),r.r_()&&dR(n,e),n.N_.size===0&&(r.r_()?r.o_():Ys(n)&&n.q_.set("Unknown"))}function hE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vc(t).A_(e)}function dR(t,e){t.Q_.xe(e),Vc(t).R_(e)}function fE(t){t.Q_=new rb({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Vc(t).start(),t.q_.v_()}function pE(t){return Ys(t)&&!Vc(t).n_()&&t.N_.size>0}function Ys(t){return me(t).L_.size===0}function hR(t){t.Q_=void 0}function t5(t){return D(this,null,function*(){t.q_.set("Online")})}function n5(t){return D(this,null,function*(){t.N_.forEach((e,n)=>{hE(t,e)})})}function r5(t,e){return D(this,null,function*(){hR(t),pE(t)?(t.q_.M_(e),fE(t)):t.q_.set("Unknown")})}function i5(t,e,n){return D(this,null,function*(){if(t.q_.set("Online"),e instanceof dm&&e.state===2&&e.cause)try{yield function(i,o){return D(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _m(t,r)}else if(e instanceof Ec?t.Q_.Ke(e):e instanceof um?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_e.min()))try{let r=yield lR(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){let p=o.N_.get(d);p&&o.N_.set(d,p.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,d)=>{let p=o.N_.get(l);if(!p)return;o.N_.set(l,p.withResumeToken(en.EMPTY_BYTE_STRING,p.snapshotVersion)),dR(o,l);let m=new $u(p.target,l,d,p.sequenceNumber);hE(o,m)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),yield _m(t,r)}})}function _m(t,e,n){return D(this,null,function*(){if(!ed(e))throw e;t.L_.add(1),yield td(t),t.q_.set("Offline"),n||(n=()=>lR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){ne("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Um(t)}))})}function fR(t,e){return e().catch(n=>_m(t,n,e))}function jm(t){return D(this,null,function*(){let e=me(t),n=xo(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;o5(e);)try{let i=yield ZH(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,s5(e,i)}catch(i){yield _m(e,i)}pR(e)&&mR(e)})}function o5(t){return Ys(t)&&t.O_.length<10}function s5(t,e){t.O_.push(e);let n=xo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function pR(t){return Ys(t)&&!xo(t).n_()&&t.O_.length>0}function mR(t){xo(t).start()}function a5(t){return D(this,null,function*(){xo(t).p_()})}function c5(t){return D(this,null,function*(){let e=xo(t);for(let n of t.O_)e.m_(n.mutations)})}function l5(t,e,n){return D(this,null,function*(){let r=t.O_.shift(),i=X0.from(r,e,n);yield fR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield jm(t)})}function u5(t,e){return D(this,null,function*(){e&&xo(t).V_&&(yield function(r,i){return D(this,null,function*(){if(function(s){return SH(s)&&s!==B.ABORTED}(i.code)){let o=r.O_.shift();xo(r).s_(),yield fR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield jm(r)}})}(t,e)),pR(t)&&mR(t)})}function y1(t,e){return D(this,null,function*(){let n=me(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");let r=Ys(n);n.L_.add(3),yield td(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Um(n)})}function d5(t,e){return D(this,null,function*(){let n=me(t);e?(n.L_.delete(2),yield Um(n)):e||(n.L_.add(2),yield td(n),n.q_.set("Unknown"))})}function Vc(t){return t.K_||(t.K_=function(n,r,i){let o=me(n);return o.w_(),new Ob(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:t5.bind(null,t),Ro:n5.bind(null,t),mo:r5.bind(null,t),d_:i5.bind(null,t)}),t.B_.push(e=>D(this,null,function*(){e?(t.K_.s_(),pE(t)?fE(t):t.q_.set("Unknown")):(yield t.K_.stop(),hR(t))}))),t.K_}function xo(t){return t.U_||(t.U_=function(n,r,i){let o=me(n);return o.w_(),new kb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:a5.bind(null,t),mo:u5.bind(null,t),f_:c5.bind(null,t),g_:l5.bind(null,t)}),t.B_.push(e=>D(this,null,function*(){e?(t.U_.s_(),yield jm(t)):(yield t.U_.stop(),t.O_.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Ub=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function mE(t,e){if(Ri("AsyncQueue",`${e}: ${t}`),ed(t))return new Z(B.UNAVAILABLE,`${e}: ${t}`);throw t}var wm=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=Nu(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var bm=class{constructor(){this.W_=new ht(ue.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Oc=class t{constructor(e,n,r,i,o,s,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,wm.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var jb=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Bb=class{constructor(){this.queries=_1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=me(n),o=i.queries;i.queries=_1(),o.forEach((s,a)=>{for(let l of a.j_)l.onError(r)})})(this,new Z(B.ABORTED,"Firestore shutting down"))}};function _1(){return new Ao(t=>$1(t),Fm)}function gE(t,e){return D(this,null,function*(){let n=me(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new jb,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=mE(s,`Initialization of query '${yc(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&yE(n)})}function vE(t,e){return D(this,null,function*(){let n=me(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function h5(t,e){let n=me(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&yE(n)}function f5(t,e,n){let r=me(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function yE(t){t.Y_.forEach(e=>{e.next()})}var $b,w1;(w1=$b||($b={})).ea="default",w1.Cache="cache";var qu=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==$b.Cache}};var Em=class{constructor(e){this.key=e}},Im=class{constructor(e){this.key=e}},Hb=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=H1(e),this.Ra=new wm(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new bm,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{let y=i.get(p),I=Lm(this.query,m)?m:null,A=!!y&&this.mutatedKeys.has(y.key),j=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),V=!1;y&&I?y.data.isEqual(I.data)?A!==j&&(r.track({type:3,doc:I}),V=!0):this.ga(y,I)||(r.track({type:2,doc:I}),V=!0,(l&&this.Aa(I,l)>0||d&&this.Aa(I,d)<0)&&(a=!0)):!y&&I?(r.track({type:0,doc:I}),V=!0):y&&!I&&(r.track({type:1,doc:y}),V=!0,(l||d)&&(a=!0)),V&&(I?(s=s.add(I),o=j?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((p,m)=>function(I,A){let j=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return j(I)-j(A)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,d=l!==this.Ea;return this.Ea=l,s.length!==0||d?{snapshot:new Oc(this.query,e.Ra,o,s,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new bm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Im(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Em(r))}),n}ba(e){this.Ta=e.Ts,this.da=Pe();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Oc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},zb=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},qb=class{constructor(e){this.key=e,this.va=!1}},Gb=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ao(a=>$1(a),Fm),this.Ma=new Map,this.xa=new Set,this.Oa=new ht(ue.comparator),this.Na=new Map,this.La=new zu,this.Ba={},this.ka=new Map,this.qa=Hu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function p5(t,e,n=!0){return D(this,null,function*(){let r=bR(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield gR(r,e,n,!0),i})}function m5(t,e){return D(this,null,function*(){let n=bR(t);yield gR(n,e,!0,!1)})}function gR(t,e,n,r){return D(this,null,function*(){let i=yield JH(t.localStore,Qr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield g5(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&uR(t.remoteStore,i),a})}function g5(t,e,n,r,i){return D(this,null,function*(){t.Ka=(m,y,I)=>function(j,V,$,J){return D(this,null,function*(){let ee=V.view.ma($);ee.ns&&(ee=yield v1(j.localStore,V.query,!1).then(({documents:R})=>V.view.ma(R,ee)));let ie=J&&J.targetChanges.get(V.targetId),Ne=J&&J.targetMismatches.get(V.targetId)!=null,ae=V.view.applyChanges(ee,j.isPrimaryClient,ie,Ne);return E1(j,V.targetId,ae.wa),ae.snapshot})}(t,m,y,I);let o=yield v1(t.localStore,e,!0),s=new Hb(e,o.Ts),a=s.ma(o.documents),l=Bu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=s.applyChanges(a,t.isPrimaryClient,l);E1(t,n,d.wa);let p=new zb(e,n,s);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot})}function v5(t,e,n){return D(this,null,function*(){let r=me(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Fm(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield xb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dE(r.remoteStore,i.targetId),Wb(r,i.targetId)}).catch(Xu))):(Wb(r,i.targetId),yield xb(r.localStore,i.targetId,!0))})}function y5(t,e){return D(this,null,function*(){let n=me(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dE(n.remoteStore,r.targetId))})}function _5(t,e,n){return D(this,null,function*(){let r=T5(t);try{let i=yield function(s,a){let l=me(s),d=qt.now(),p=a.reduce((I,A)=>I.add(A.key),Pe()),m,y;return l.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=Mi(),j=Pe();return l.cs.getEntries(I,p).next(V=>{A=V,A.forEach(($,J)=>{J.isValidDocument()||(j=j.add($))})}).next(()=>l.localDocuments.getOverlayedDocuments(I,A)).next(V=>{m=V;let $=[];for(let J of a){let ee=TH(J,m.get(J.key).overlayedDocument);ee!=null&&$.push(new Jr(J.key,ee,k1(ee.value.mapValue),xi.exists(!0)))}return l.mutationQueue.addMutationBatch(I,d,$,a)}).next(V=>{y=V;let $=V.applyToLocalDocumentSet(m,j);return l.documentOverlayCache.saveOverlays(I,V.batchId,$)})}).then(()=>({batchId:y.batchId,changes:q1(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let d=s.Ba[s.currentUser.toKey()];d||(d=new ht(Be)),d=d.insert(a,l),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,n),yield nd(r,i.changes),yield jm(r.remoteStore)}catch(i){let o=mE(i,"Failed to persist write");n.reject(o)}})}function vR(t,e){return D(this,null,function*(){let n=me(t);try{let r=yield QH(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?We(s.va):i.removedDocuments.size>0&&(We(s.va),s.va=!1))}),yield nd(n,r,e)}catch(r){yield Xu(r)}})}function b1(t,e,n){let r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let l=me(s);l.onlineState=a;let d=!1;l.queries.forEach((p,m)=>{for(let y of m.j_)y.Z_(a)&&(d=!0)}),d&&yE(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function w5(t,e,n){return D(this,null,function*(){let r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new ht(ue.comparator);s=s.insert(o,mr.newNoDocument(o,_e.min()));let a=Pe().add(o),l=new lm(_e.min(),new Map,new ht(Be),s,a);yield vR(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),_E(r)}else yield xb(r.localStore,e,!1).then(()=>Wb(r,e,n)).catch(Xu)})}function b5(t,e){return D(this,null,function*(){let n=me(t),r=e.batch.batchId;try{let i=yield KH(n.localStore,e);_R(n,r,null),yR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield nd(n,i)}catch(i){yield Xu(i)}})}function E5(t,e,n){return D(this,null,function*(){let r=me(t);try{let i=yield function(s,a){let l=me(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return l.mutationQueue.lookupMutationBatch(d,a).next(m=>(We(m!==null),p=m.keys(),l.mutationQueue.removeMutationBatch(d,m))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>l.localDocuments.getDocuments(d,p))})}(r.localStore,e);_R(r,e,n),yR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield nd(r,i)}catch(i){yield Xu(i)}})}function yR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function _R(t,e,n){let r=me(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Wb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||wR(t,r)})}function wR(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(dE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),_E(t))}function E1(t,e,n){for(let r of n)r instanceof Em?(t.La.addReference(r.key,e),I5(t,r)):r instanceof Im?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||wR(t,r.key)):he()}function I5(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.xa.add(r),_E(t))}function _E(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new ue(at.fromString(e)),r=t.qa.next();t.Na.set(r,new qb(n)),t.Oa=t.Oa.insert(n,r),uR(t.remoteStore,new $u(Qr(km(n.path)),r,"TargetPurposeLimboResolution",P1.oe))}}function nd(t,e,n){return D(this,null,function*(){let r=me(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){let m=d?!d.fromCache:(p=n?.targetChanges.get(l.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(d){i.push(d);let m=Db.Wi(l.targetId,d);o.push(m)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(l,d){return D(this,null,function*(){let p=me(l);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>H.forEach(d,y=>H.forEach(y.$i,I=>p.persistence.referenceDelegate.addReference(m,y.targetId,I)).next(()=>H.forEach(y.Ui,I=>p.persistence.referenceDelegate.removeReference(m,y.targetId,I)))))}catch(m){if(!ed(m))throw m;ne("LocalStore","Failed to update sequence numbers: "+m)}for(let m of d){let y=m.targetId;if(!m.fromCache){let I=p.os.get(y),A=I.snapshotVersion,j=I.withLastLimboFreeSnapshotVersion(A);p.os=p.os.insert(y,j)}}})}(r.localStore,o))})}function C5(t,e){return D(this,null,function*(){let n=me(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());let r=yield cR(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new Z(B.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield nd(n,r.hs)}})}function D5(t,e){let n=me(t),r=n.Na.get(e);if(r&&r.va)return Pe().add(r.key);{let i=Pe(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function bR(t){let e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w5.bind(null,e),e.Ca.d_=h5.bind(null,e.eventManager),e.Ca.$a=f5.bind(null,e.eventManager),e}function T5(t){let e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E5.bind(null,e),e}var I1=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return D(this,null,function*(){this.serializer=Vm(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return WH(this.persistence,new Sb,n.initialUser,this.serializer)}Ga(n){return new Eb(Cb.Zr,this.serializer)}Wa(n){return new Rb}terminate(){return D(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var S5=(()=>{class t{initialize(n,r){return D(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>b1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=C5.bind(null,this.syncEngine),yield d5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Bb}()}createDatastore(n){let r=Vm(n.databaseInfo.databaseId),i=function(s){return new Nb(s)}(n.databaseInfo);return function(s,a,l,d){return new Fb(s,a,l,d)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,l){return new Vb(i,o,s,a,l)}(this.localStore,this.datastore,n.asyncQueue,r=>b1(this.syncEngine,r,0),function(){return gm.D()?new gm:new Pb}())}createSyncEngine(n,r){return function(o,s,a,l,d,p,m){let y=new Gb(o,s,a,l,d,p);return m&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return D(this,null,function*(){var n,r;yield function(o){return D(this,null,function*(){let s=me(o);ne("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield td(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Gu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Kb=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>D(this,null,function*(){ne("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=mE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function D0(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield cR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function C1(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield A5(t);ne("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>y1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>y1(e.remoteStore,i)),t._onlineComponents=e})}function A5(t){return D(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{yield D0(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Cc("Error using user provided cache. Falling back to memory cache: "+n),yield D0(t,new I1)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),yield D0(t,new I1);return t._offlineComponents})}function ER(t){return D(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),yield C1(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),yield C1(t,new S5))),t._onlineComponents})}function x5(t){return ER(t).then(e=>e.syncEngine)}function Cm(t){return D(this,null,function*(){let e=yield ER(t),n=e.eventManager;return n.onListen=p5.bind(null,e.syncEngine),n.onUnlisten=v5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=m5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=y5.bind(null,e.syncEngine),n})}function R5(t,e,n={}){let r=new pr;return t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(o,s,a,l,d){let p=new Gu({next:y=>{p.Za(),s.enqueueAndForget(()=>vE(o,m));let I=y.docs.has(a);!I&&y.fromCache?d.reject(new Z(B.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&y.fromCache&&l&&l.source==="server"?d.reject(new Z(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new qu(km(a.path),p,{includeMetadataChanges:!0,_a:!0});return gE(o,m)}(yield Cm(t),t.asyncQueue,e,n,r)})),r.promise}function P5(t,e,n={}){let r=new pr;return t.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(o,s,a,l,d){let p=new Gu({next:y=>{p.Za(),s.enqueueAndForget(()=>vE(o,m)),y.fromCache&&l.source==="server"?d.reject(new Z(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new qu(a,p,{includeMetadataChanges:!0,_a:!0});return gE(o,m)}(yield Cm(t),t.asyncQueue,e,n,r)})),r.promise}function IR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var D1=new Map;function CR(t,e,n){if(!n)throw new Z(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M5(t,e,n,r){if(e===!0&&r===!0)throw new Z(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function T1(t){if(!ue.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function S1(t){if(ue.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function An(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Bm(t);throw new Z(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Dm=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},kc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new T0;switch(r.type){case"firstParty":return new R0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return D(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=D1.get(n);r&&(ne("ComponentProvider","Removing Datastore"),D1.delete(n),r.terminate())}(this),Promise.resolve()}};function DR(t,e,n,r={}){var i;let o=(t=An(t,kc))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Lt.MOCK_USER;else{a=wp(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Z(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Lt(d)}t._authCredentials=new S0(new tm(a,l))}}var Ks=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Xt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},To=class t extends Ks{constructor(e,n,r){super(e,n,km(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new ue(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function TR(t,e,...n){if(t=Je(t),CR("collection","path",e),t instanceof kc){let r=at.fromString(e,...n);return S1(r),new To(t,null,r)}{if(!(t instanceof Xt||t instanceof To))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(at.fromString(e,...n));return S1(r),new To(t.firestore,null,r)}}function wE(t,e,...n){if(t=Je(t),arguments.length===1&&(e=nm.newId()),CR("doc","path",e),t instanceof kc){let r=at.fromString(e,...n);return T1(r),new Xt(t,null,new ue(r))}{if(!(t instanceof Xt||t instanceof To))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(at.fromString(e,...n));return T1(r),new Xt(t.firestore,t instanceof To?t.converter:null,new ue(r))}}var Tm=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new vm(this,"async_queue_retry"),this.Vu=()=>{let r=C0();r&&ne("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=C0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=C0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new pr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return D(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ed(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ri("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Ub.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&he()}verifyOperationInProgress(){}wu(){return D(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function A1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Xr=class extends kc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Tm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return D(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Tm(e),this._firestoreClient=void 0,yield e}})}};function SR(t,e){let n=typeof t=="object"?t:wo(),r=typeof t=="string"?t:e||"(default)",i=xs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=_p("firestore");o&&DR(i,...o)}return i}function $m(t){if(t._terminated)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||N5(t),t._firestoreClient}function N5(t){var e,n,r;let i=t._freezeSettings(),o=function(a,l,d,p){return new k0(a,l,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,IR(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Kb(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(t._componentsProvider))}var Wu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(en.fromBase64String(e))}catch(n){throw new Z(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Fc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ku=class{constructor(e){this._methodName=e}};var Qu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}};var Yu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var O5=/^__.*__$/,Qb=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ws(e,this.data,n,this.fieldTransforms)}},Sm=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function AR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}var Yb=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return xm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(AR(this.Cu)&&O5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Zb=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vm(e)}Qu(e,n,r,i=!1){return new Yb({Cu:e,methodName:n,qu:r,path:Sn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Hm(t){let e=t._freezeSettings(),n=Vm(t._databaseId);return new Zb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xR(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);bE("Data must be an object, but it was:",s,r);let a=RR(r,s),l,d;if(o.merge)l=new qn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let p=[];for(let m of o.mergeFields){let y=Jb(e,m,n);if(!s.contains(y))throw new Z(B.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);MR(p,y)||p.push(y)}l=new qn(p),d=s.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,d=s.fieldTransforms;return new Qb(new Tn(a),l,d)}var Am=class t extends Ku{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function k5(t,e,n,r){let i=t.Qu(1,e,n);bE("Data must be an object, but it was:",i,r);let o=[],s=Tn.empty();Qs(r,(l,d)=>{let p=EE(e,l,n);d=Je(d);let m=i.Nu(p);if(d instanceof Am)o.push(p);else{let y=rd(d,m);y!=null&&(o.push(p),s.set(p,y))}});let a=new qn(o);return new Sm(s,a,i.fieldTransforms)}function F5(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[Jb(e,r,n)],l=[i];if(o.length%2!=0)throw new Z(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(Jb(e,o[y])),l.push(o[y+1]);let d=[],p=Tn.empty();for(let y=a.length-1;y>=0;--y)if(!MR(d,a[y])){let I=a[y],A=l[y];A=Je(A);let j=s.Nu(I);if(A instanceof Am)d.push(I);else{let V=rd(A,j);V!=null&&(d.push(I),p.set(I,V))}}let m=new qn(d);return new Sm(p,m,s.fieldTransforms)}function L5(t,e,n,r=!1){return rd(n,t.Qu(r?4:3,e))}function rd(t,e){if(PR(t=Je(t)))return bE("Unsupported field value:",e,t),RR(t,e);if(t instanceof Ku)return function(r,i){if(!AR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let l=rd(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=qt.fromDate(r);return{timestampValue:fm(i.serializer,o)}}if(r instanceof qt){let o=new qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fm(i.serializer,o)}}if(r instanceof Qu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wu)return{bytesValue:tR(i.serializer,r._byteString)};if(r instanceof Xt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:uE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return lE(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Bm(r)}`)}(t,e)}function RR(t,e){let n={};return M1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(t,(r,i)=>{let o=rd(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function PR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qt||t instanceof Qu||t instanceof Wu||t instanceof Xt||t instanceof Ku||t instanceof Yu)}function bE(t,e,n){if(!PR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Bm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Jb(t,e,n){if((e=Je(e))instanceof Fc)return e._internalPath;if(typeof e=="string")return EE(t,e);throw xm("Field path arguments must be of type string or ",t,!1,void 0,n)}var V5=new RegExp("[~\\*/\\[\\]]");function EE(t,e,n){if(e.search(V5)>=0)throw xm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fc(...e.split("."))._internalPath}catch{throw xm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xm(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Z(B.INVALID_ARGUMENT,a+t+l)}function MR(t,e){return t.some(n=>n.isEqual(e))}var Rm=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Xb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(IE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Xb=class extends Rm{data(){return super.data()}};function IE(t,e){return typeof e=="string"?EE(t,e):e instanceof Fc?e._internalPath:e._delegate._internalPath}function NR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Zu=class{},eE=class extends Zu{};function OR(t,e,...n){let r=[];e instanceof Zu&&r.push(e),r=r.concat(n),function(o){let s=o.filter(l=>l instanceof tE).length,a=o.filter(l=>l instanceof Pm).length;if(s>1||s>0&&a>0)throw new Z(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Pm=class t extends eE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return FR(e._query,n),new Ks(e.firestore,e.converter,K0(e._query,n))}_parse(e){let n=Hm(e.firestore);return function(o,s,a,l,d,p,m){let y;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Z(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){R1(m,p);let I=[];for(let A of m)I.push(x1(l,o,A));y={arrayValue:{values:I}}}else y=x1(l,o,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||R1(m,p),y=L5(a,s,m,p==="in"||p==="not-in");return Ct.create(d,p,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function kR(t,e,n){let r=e,i=IE("where",t);return Pm._create(i,r,n)}var tE=class t extends Zu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gr.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let l of a)FR(s,l),s=K0(s,l)}(e._query,n),new Ks(e.firestore,e.converter,K0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function x1(t,e,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new Z(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B1(e)&&n.indexOf("/")!==-1)throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(at.fromString(n));if(!ue.isDocumentKey(r))throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return e1(t,new ue(r))}if(n instanceof Xt)return e1(t,n._key);throw new Z(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bm(n)}.`)}function R1(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FR(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var nE=class{convertValue(e,n="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Qs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>it(s.doubleValue));return new Yu(o)}convertGeoPoint(e){return new Qu(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=oE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uu(e));default:return null}}convertTimestamp(e){let n=Pi(e);return new qt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=at.fromString(e);We(aR(r));let i=new sm(r.get(1),r.get(3)),o=new ue(r.popFirst(5));return i.isEqual(n)||Ri(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function LR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var js=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Mm=class extends Rm{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(IE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ic=class extends Mm{data(e={}){return super.data(e)}},Nm=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new js(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ic(this._firestore,this._userDataWriter,r.key,r,new js(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new Ic(i._firestore,i._userDataWriter,a.doc.key,a.doc,new js(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new Ic(i._firestore,i._userDataWriter,a.doc.key,a.doc,new js(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:U5(a.type),doc:l,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function U5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}function VR(t){t=An(t,Xt);let e=An(t.firestore,Xr);return R5($m(e),t._key).then(n=>HR(e,t,n))}var Ju=class extends nE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}};function UR(t){t=An(t,Ks);let e=An(t.firestore,Xr),n=$m(e),r=new Ju(e);return NR(t._query),P5(n,t._query).then(i=>new Nm(e,r,t,i))}function jR(t,e,n){t=An(t,Xt);let r=An(t.firestore,Xr),i=LR(t.converter,e,n);return DE(r,[xR(Hm(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,xi.none())])}function BR(t,e,n,...r){t=An(t,Xt);let i=An(t.firestore,Xr),o=Hm(i),s;return s=typeof(e=Je(e))=="string"||e instanceof Fc?F5(o,"updateDoc",t._key,e,n,r):k5(o,"updateDoc",t._key,e),DE(i,[s.toMutation(t._key,xi.exists(!0))])}function $R(t,e){let n=An(t.firestore,Xr),r=wE(t),i=LR(t.converter,e);return DE(n,[xR(Hm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xi.exists(!1))]).then(()=>r)}function CE(t,...e){var n,r,i;t=Je(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||A1(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(A1(e[s])){let m=e[s];e[s]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[s+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let l,d,p;if(t instanceof Xt)d=An(t.firestore,Xr),p=km(t._key.path),l={next:m=>{e[s]&&e[s](HR(d,t,m))},error:e[s+1],complete:e[s+2]};else{let m=An(t,Ks);d=An(m.firestore,Xr),p=m._query;let y=new Ju(d);l={next:I=>{e[s]&&e[s](new Nm(d,y,m,I))},error:e[s+1],complete:e[s+2]},NR(t._query)}return function(y,I,A,j){let V=new Gu(j),$=new qu(I,V,A);return y.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return gE(yield Cm(y),$)})),()=>{V.Za(),y.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return vE(yield Cm(y),$)}))}}($m(d),p,a,l)}function DE(t,e){return function(r,i){let o=new pr;return r.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return _5(yield x5(r),i,o)})),o.promise}($m(t),e)}function HR(t,e,n){let r=n.docs.get(e._key),i=new Ju(t);return new Mm(t,i,e._key,r,new js(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Lc=i})(Hr),$r(new pn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Xr(new A0(r.getProvider("auth-internal")),new M0(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Z(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sm(d.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),rt(Yx,"4.7.3",e),rt(Yx,"4.7.3","esm2017")})();var zm=function(){return zm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},zm.apply(this,arguments)};var $5={includeMetadataChanges:!1};function zR(t,e){return e===void 0&&(e=$5),new Ae(function(n){var r=CE(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function qR(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:zm(zm({},r),(n={},n[e.idField]=t.id,n))}function GR(t){return zR(t,{includeMetadataChanges:!0}).pipe(ye(function(e){return e.docs}))}function WR(t,e){return e===void 0&&(e={}),GR(t).pipe(ye(function(n){return n.map(function(r){return qR(r,e)})}))}var vr=class{constructor(e){return e}},KR="firestore",TE=class{constructor(){return Ps(KR)}};var SE=new te("angularfire2.firestore-instances");function H5(t,e){let n=dc(KR,t,e);return n&&new vr(n)}function z5(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new vr(r)}}var q5={provide:TE,deps:[[new bt,SE]]},G5={provide:vr,useFactory:H5,deps:[[new bt,SE],hr]};function QR(t,...e){return rt("angularfire",bi.full,"fst"),Ln([G5,q5,{provide:SE,useFactory:z5(t),multi:!0,deps:[je,Kt,Eo,Ei,[new bt,Ls],[new bt,bo],...e]}])}var Gn=ut(WR,!0);var YR=ut($R,!0);var an=ut(TR,!0);var Uc=ut(wE,!0);var id=ut(VR,!0);var AE=ut(UR,!0);var ZR=ut(SR,!0);var xn=ut(OR,!0);var qm=ut(jR,!0);var JR=ut(BR,!0);var Dt=ut(kR,!0);var Vt=class t{constructor(e,n,r){this.auth=e;this.firestore=n;this.router=r;Ix(this.auth,i=>D(this,null,function*(){if(i){this.userActive=i;let o=yield this.obtenerPerfilUsuario(i.uid);o?this.actualUserSubject.next(o):(console.error("Perfil no encontrado en Firestore"),this.actualUserSubject.next(null))}else this.userActive=null,this.actualUserSubject.next(null)}))}msjError=null;userActive;actualUserSubject=new st(null);actualUser$=this.actualUserSubject.asObservable();getUser(){return this.actualUserSubject.value}getCurrentUser(){return this.actualUserSubject.asObservable()}mapUserToUsuario(e){let n="paciente";return n==="paciente"?{nombre:"",apellido:"",edad:0,dni:0,obraSocial:"",email:e.email,password:"",fotoPerfil1:"",fotoPerfil2:"",tipoUsuario:"paciente"}:n==="administrador"?{nombre:"",apellido:"",edad:0,dni:0,password:"",email:e.email||"",fotoPerfil1:"",tipoUsuario:"administrador"}:n==="especialista"?{nombre:"",apellido:"",edad:0,dni:0,email:e.email||"",password:"",fotoPerfil1:"",especialidades:[],tipoUsuario:"especialista",estado:"pendiente"}:{}}login(e,n){return D(this,null,function*(){try{let r=yield Dx(this.auth,e,n);if(!r.user.emailVerified)throw this.msjError="Por favor, verifica tu correo electr\xF3nico antes de iniciar sesi\xF3n.",new Error(this.msjError);let i=r.user.uid,o=yield this.obtenerTipoDeUsuario(i);if(o)if(o==="paciente")this.router.navigate(["/home"]);else if(o==="especialista"){if((yield this.obtenerEstadoEspecialista(i))!=="aceptado")throw this.msjError="Su cuenta a\xFAn no ha sido aprobada por el administrador.",new Error(this.msjError);this.router.navigate(["/home"])}else o==="administrador"&&this.router.navigate(["/home"]);else throw this.msjError="Tipo de usuario desconocido.",new Error(this.msjError);return r.user}catch(r){console.error("Error al iniciar sesi\xF3n:",r);let i=r.code?this.mostrarErrorLogin(r.code):"Error de autenticaci\xF3n desconocido. Intente nuevamente";throw new Error(i)}})}obtenerEstadoEspecialista(e){return D(this,null,function*(){try{let n=Uc(this.firestore,`usuarios/${e}`),r=yield id(n);return r.exists()&&r.data().estado||null}catch(n){return console.error("Error al obtener el estado del especialista:",n),null}})}mostrarErrorLogin(e){switch(e){case"auth/invalid-email":return"El formato del correo es inv\xE1lido.";case"auth/user-disabled":return"Esta cuenta ha sido deshabilitada. Contacta al soporte.";case"auth/user-not-found":return"No se encontr\xF3 un usuario con este correo.";case"auth/wrong-password":return"La contrase\xF1a es incorrecta.";case"auth/too-many-requests":return"Se ha bloqueado temporalmente la cuenta debido a muchos intentos fallidos. Int\xE9ntalo m\xE1s tarde.";case"auth/network-request-failed":return"Error de conexi\xF3n. Verifica tu red y vuelve a intentarlo.";case"auth/popup-closed-by-user":return"La ventana de inicio de sesi\xF3n se cerr\xF3 antes de finalizar.";case"auth/cancelled-popup-request":return"La solicitud de autenticaci\xF3n fue cancelada.";default:return"Error desconocido: "+e}}obtenerPerfilUsuario(e){return D(this,null,function*(){console.log("Obteniendo perfil de usuario con UID:",e);let n=Uc(this.firestore,`usuarios/${e}`),r=yield id(n);return r.exists()?r.data():(console.log("Perfil de usuario no encontrado en Firestore."),null)})}obtenerTipoDeUsuario(e){return D(this,null,function*(){let n=yield this.obtenerPerfilUsuario(e);if(n){let r=n.tipoUsuario;return r==="paciente"||r==="administrador"||r==="especialista"?(console.log("Tipo de usuario:",r),r):(console.log("Tipo de usuario desconocido:",r),null)}else return console.log("No se encontr\xF3 el perfil del usuario."),null})}registrarUsuario(e,n){return D(this,null,function*(){if(console.log("Registrando usuario con email:",e.email),!e.email||e.email.trim()==="")throw new Error("El correo electr\xF3nico es obligatorio");if(!e.email||!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e.email.trim()))throw new Error("El correo electr\xF3nico no tiene un formato v\xE1lido.");try{let r=yield bx(this.auth,e.email,n);console.log("Respuesta de Firebase:",r);let i=Uc(this.firestore,"usuarios",r.user.uid);return e.tipoUsuario==="paciente"?yield qm(i,ge(G({},e),{uid:r.user.uid})):e.tipoUsuario==="administrador"?yield qm(i,ge(G({},e),{uid:r.user.uid})):e.tipoUsuario==="especialista"&&(yield qm(i,ge(G({},e),{uid:r.user.uid}))),yield Cx(r.user),console.log("Correo de verificaci\xF3n enviado a:",e.email),r.user}catch(r){console.error("Error al registrar usuario:",r);let i=r?.code||"error-desconocido";throw this.msjError=this.mostrarErrorRegistro(i),new Error(this.msjError)}})}subirImagen(e,n){return D(this,null,function*(){let r=Kp(),i=m0(r,n);try{yield f0(i,e);let o=yield p0(i);return console.log("URL de imagen obtenida:",o),o}catch(o){throw console.error("Error al subir la imagen:",o),new Error("Error al subir la imagen")}})}mostrarErrorRegistro(e){switch(e){case"auth/invalid-email":return"El correo electr\xF3nico tiene un formato inv\xE1lido";case"auth/email-already-in-use":return"El correo electr\xF3nico ya est\xE1 en uso";case"auth/weak-password":return"La contrase\xF1a debe ser de m\xE1s de 6 caracteres";case"auth/missing-password":return"Por favor, introduzca una contrase\xF1a";default:return"Error desconocido: "+e}}logout(){return this.auth.signOut()}logoutEstatico(){this.actualUserSubject.next(null),this.auth.signOut()}isUserVerified(){return D(this,null,function*(){let e=yield this.auth.currentUser;return e?e.emailVerified:!1})}static \u0275fac=function(n){return new(n||t)(le(Fs),le(vr),le(Ur))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})};function W5(t,e){if(t&1&&X(0,"img",13),t&2){let n=Q(2);L("src",n.usuarioLogueado.fotoPerfil1,kr)}}function K5(t,e){t&1&&(E(0,"span",14),x(1,"Sin foto"),w())}function Q5(t,e){if(t&1&&(E(0,"div",9)(1,"div",10),K(2,W5,1,1,"img",11)(3,K5,2,0,"span",12),w(),E(4,"h3"),x(5),OT(6,"iconosUsuario"),w()()),t&2){let n=Q();k(2),L("ngIf",n.usuarioLogueado.fotoPerfil1),k(),L("ngIf",!n.usuarioLogueado.fotoPerfil1),k(2),$y("",n.usuarioLogueado.nombre," ",n.usuarioLogueado.apellido," ",kT(6,5,n.usuarioLogueado.tipoUsuario)," ")}}function Y5(t,e){if(t&1){let n=Ke();E(0,"li",15),re("click",function(){Ce(n);let i=Q();return De(i.NavegarHome())}),E(1,"a",16)(2,"strong"),x(3,"\u{1F3E0} Inicio"),w()()()}}function Z5(t,e){if(t&1){let n=Ke();E(0,"li",15),re("click",function(){Ce(n);let i=Q();return De(i.NavegarHome())}),E(1,"a",17)(2,"strong"),x(3,"\u{1F3E0} Inicio"),w()()()}}function J5(t,e){t&1&&(E(0,"li",18)(1,"a",19)(2,"strong"),x(3," \u{1F4E4} Ingresar"),w()()())}function X5(t,e){t&1&&(E(0,"li",18)(1,"a",20)(2,"strong"),x(3," \u{1F4DD} Registrarse"),w()()())}function ez(t,e){if(t&1){let n=Ke();E(0,"li",18)(1,"a",21),re("click",function(){Ce(n);let i=Q();return De(i.NavegarPerfil())}),E(2,"strong"),x(3," \u{1F9D1} Mi Perfil"),w()()()}}function tz(t,e){if(t&1){let n=Ke();E(0,"li",18)(1,"a",22),re("click",function(){Ce(n);let i=Q();return De(i.NavegarPanelPaciente())}),E(2,"strong"),x(3," \u{1F465} Paciente Panel"),w()()()}}function nz(t,e){t&1&&(E(0,"li",18)(1,"a",23)(2,"strong"),x(3," \u{1FA7A} Panel Especialista"),w()()())}function rz(t,e){t&1&&(E(0,"li",18)(1,"a",24)(2,"strong"),x(3," \u{1F4CA} Informes"),w()()())}function iz(t,e){if(t&1){let n=Ke();E(0,"div",25),re("click",function(){Ce(n);let i=Q();return De(i.NavegarPanelAdmin())}),E(1,"a",26)(2,"strong"),x(3," \u{1F48E} Admin"),w()()()}}function oz(t,e){if(t&1){let n=Ke();E(0,"li",18)(1,"a",27),re("click",function(){Ce(n);let i=Q();return De(i.logout())}),E(2,"strong"),x(3," \u{1F464}\u274C Salir"),w()()()}}var mn=class t{constructor(e,n){this.authService=e;this.router=n}usuarioLogueado=null;isVerified=!1;ngOnInit(){return D(this,null,function*(){this.usuarioLogueado=yield this.authService.getUser(),this.isVerified=yield this.authService.isUserVerified()})}logout(){this.authService.logout().then(()=>{this.usuarioLogueado=null,this.router.navigate(["/home"]),XR.default.fire({title:"\xA1Hasta pronto!",text:"Tu sesi\xF3n ha sido cerrada correctamente. Gracias por visitarnos, esperamos verte nuevamente pronto.",icon:"success",confirmButtonText:"Cerrar",confirmButtonColor:"#38b6ff",background:"#f8f9fa",customClass:{popup:"swal-popup"}})})}isPaciente(e){return e.fotoPerfil1!==void 0}isEspecialista(e){return e.especialidades?.length>0}NavegarPanelAdmin(){this.router.navigate(["/panelAdmin"])}NavegarPanelPaciente(){this.router.navigate(["/panelPaciente"])}NavegarPerfil(){this.router.navigate(["/perfil"])}NavegarHome(){this.router.navigate(["/home"])}static \u0275fac=function(n){return new(n||t)(q(Vt),q(Ur))};static \u0275cmp=ze({type:t,selectors:[["app-header"]],standalone:!0,features:[Qe],decls:19,vars:11,consts:[[1,"navbar"],["appExpandirHover","","class","d-flex align-items-center",4,"ngIf"],["appExpandirHover","",1,"navbar-logo"],["src","assets/imagenes/logo.jfif","alt","Logo Cl\xEDnica",1,"logo"],[1,"navbar-links"],[1,"navbar-auth"],["appExpandirHover","",3,"click",4,"ngIf"],["appExpandirHover","",4,"ngIf"],["appExpandirHover","","class","game-card",3,"click",4,"ngIf"],["appExpandirHover","",1,"d-flex","align-items-center"],[1,"profile-picture"],["alt","Foto de perfil",3,"src",4,"ngIf"],["class","no-photo",4,"ngIf"],["alt","Foto de perfil",3,"src"],[1,"no-photo"],["appExpandirHover","",3,"click"],["routerLink","/home",1,"btn","inicio"],["href","/home",1,"btn","inicio"],["appExpandirHover",""],["href","/login",1,"btn","login"],["href","/registro",1,"btn","register"],["routerLink","/perfil",1,"btn","perfil",3,"click"],["routerLink","/panelPaciente",1,"btn","paciente",3,"click"],["routerLink","/panelEspecialista",1,"btn","especialista"],["routerLink","/infomes",1,"btn","informes"],["appExpandirHover","",1,"game-card",3,"click"],[1,"btn","admin"],[1,"btn","salir",3,"click"]],template:function(n,r){n&1&&(E(0,"header")(1,"nav",0),K(2,Q5,7,7,"div",1),E(3,"div",2),X(4,"img",3),E(5,"span"),x(6,"Cl\xEDnica Salud"),w()(),E(7,"ul",4)(8,"div",5),K(9,Y5,4,0,"li",6)(10,Z5,4,0,"li",6)(11,J5,4,0,"li",7)(12,X5,4,0,"li",7)(13,ez,4,0,"li",7)(14,tz,4,0,"li",7)(15,nz,4,0,"li",7)(16,rz,4,0,"li",7)(17,iz,4,0,"div",8)(18,oz,4,0,"li",7),w()()()()),n&2&&(k(2),L("ngIf",r.usuarioLogueado),k(7),L("ngIf",r.usuarioLogueado),k(),L("ngIf",!r.usuarioLogueado),k(),L("ngIf",!r.usuarioLogueado),k(),L("ngIf",!r.usuarioLogueado),k(),L("ngIf",r.usuarioLogueado),k(),L("ngIf",r.usuarioLogueado&&(r.usuarioLogueado==null?null:r.usuarioLogueado.tipoUsuario)=="paciente"),k(),L("ngIf",(r.usuarioLogueado==null?null:r.usuarioLogueado.tipoUsuario)==="especialista"),k(),L("ngIf",(r.usuarioLogueado==null?null:r.usuarioLogueado.tipoUsuario)==="administrador"),k(),L("ngIf",(r.usuarioLogueado==null?null:r.usuarioLogueado.tipoUsuario)==="administrador"),k(),L("ngIf",r.usuarioLogueado))},dependencies:[$t,Yt,vo,gp],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#0d91c1;background:linear-gradient(to bottom,#33bdef 5%,#019ad2);padding:1rem 2rem;color:#f9fafb;box-shadow:0 4px 12px #0000001a;border-radius:5px}.navbar-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-shrink:0}.navbar-logo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:.8rem;border-radius:50%}.navbar-logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#e5e7eb}.navbar-links[_ngcontent-%COMP%]{list-style:none;display:flex;gap:1.5rem}.navbar-auth[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;flex-grow:1;justify-content:flex-end}.btn[_ngcontent-%COMP%]{text-decoration:none;padding:.5rem 1rem;border-radius:20px;font-weight:lighter}.btn.login[_ngcontent-%COMP%], .btn.register[_ngcontent-%COMP%], .btn.inicio[_ngcontent-%COMP%], .btn.salir[_ngcontent-%COMP%], .btn.informes[_ngcontent-%COMP%], .btn.perfil[_ngcontent-%COMP%], .btn.btn.admin[_ngcontent-%COMP%], .btn.btn.paciente[_ngcontent-%COMP%]{background:linear-gradient(135deg,#38b6ff,#43d1af);color:#fff;padding:10px 20px;font-size:1rem;border:none;border-radius:8px;box-shadow:0 6px 12px #0000004d;cursor:pointer}.btn.login[_ngcontent-%COMP%]:hover, .btn.register[_ngcontent-%COMP%]:hover, .btn.inicio[_ngcontent-%COMP%]:hover, .btn.btn.salir[_ngcontent-%COMP%]:hover, .btn.btn.informes[_ngcontent-%COMP%]:hover, .btn.btn.perfil[_ngcontent-%COMP%]:hover, .btn.btn.admin[_ngcontent-%COMP%]:hover, .btn.btn.paciente[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#43d1af,#38b6ff)}.swal-popup[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:16px;text-align:center;color:#333;padding:20px;border-radius:10px}.profile-picture[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;overflow:hidden;margin-right:.5rem}.profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover;margin-right:.5rem}.no-photo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;border-radius:50%;background-color:#ccc;color:#fff}h3[_ngcontent-%COMP%]{margin:0;color:#000;font-family:Montserrat;font-size:1rem}"],data:{animation:[yi.deslizarArriba]}})};var Gm=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ze({type:t,selectors:[["app-home"]],standalone:!0,features:[Qe],decls:39,vars:0,consts:[[1,"home-image-container"],["src","assets/imagenes/home.jpg","alt","imagen fondo",1,"home-image"],[1,"info"],[1,"card"],[1,"fas","fa-clock"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"about-us"],[1,"about-item"],["src","assets/imagenes/somos.jfif","alt","Qui\xE9nes somos"],["src","../../assets/imagenes/calidad.jpg","alt","Atenci\xF3n de Calidad"]],template:function(n,r){n&1&&(X(0,"app-header"),E(1,"body")(2,"main")(3,"div",0),X(4,"img",1),E(5,"div",2)(6,"div",3),X(7,"i",4),E(8,"h2"),x(9,"Horario de atenci\xF3n"),w(),E(10,"p"),x(11,"Lunes a Viernes de 8:00 a 19:00h. S\xE1bados de 8:00 a 14:00h"),w()(),E(12,"div",3),X(13,"i",5),E(14,"h2"),x(15,"Contacto"),w(),E(16,"p"),x(17,"123-456-7890, 3010-456-8976"),w()(),E(18,"div",3),X(19,"i",6),E(20,"h2"),x(21,"Ubicaci\xF3n"),w(),E(22,"p"),x(23,"AV Libertador 5478, CABA, Argentina"),w()()()(),E(24,"div",7)(25,"div",8),X(26,"img",9),E(27,"div")(28,"h2"),x(29,"\xBFQui\xE9nes somos?"),w(),E(30,"p"),x(31," Somos un equipo comprometido de profesionales m\xE9dicos dedicados a proporcionar atenci\xF3n de calidad y personalizada a cada uno de nuestros pacientes. "),w()()(),E(32,"div",8),X(33,"img",10),E(34,"div")(35,"h2"),x(36,"Atenci\xF3n de Calidad"),w(),E(37,"p"),x(38," Nuestro compromiso es garantizar que cada paciente reciba la mejor atenci\xF3n posible, utilizando tecnolog\xEDa de vanguardia y tratamientos actualizados. "),w()()()()()())},dependencies:[mn],styles:[".info[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;transform:translate(-50%);display:flex;gap:15px;background:#fffc;padding:10px;border-radius:10px}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:200px;padding:10px;background-color:#edf2f4;border-radius:10px;text-align:center;border:1px solid #2b2d42}.card[_ngcontent-%COMP%]:last-child{margin-right:10px}.card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;color:#2b2d42;margin-bottom:5px}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;margin-bottom:5px}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.about-us[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;display:flex;justify-content:center;align-items:center;flex-direction:row;margin-top:40px}.about-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;border-radius:10px;box-shadow:0 4px 8px #0000001a;margin-left:10px;margin-right:10px}.about-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 12px #00000026}.about-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:350px;height:260px;border-radius:10px}.about-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px;margin-top:20px}.about-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:1.5;word-wrap:break-word;padding-left:15px;padding-right:15px}.home-image-container[_ngcontent-%COMP%]{position:relative;text-align:center}.home-image[_ngcontent-%COMP%]{width:100%;max-height:600px;height:auto;object-fit:cover;object-position:center}.active-link[_ngcontent-%COMP%]{color:red}"]})};var lP=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(q(In),q(Qt))}}static{this.\u0275dir=Ge({type:t})}}return t})(),ng=(()=>{class t extends lP{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275dir=Ge({type:t,features:[fn]})}}return t})(),zc=new te("");var sz={provide:zc,useExisting:En(()=>ei),multi:!0};function az(){let t=mi()?mi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var cz=new te(""),ei=(()=>{class t extends lP{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!az())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(q(In),q(Qt),q(cz,8))}}static{this.\u0275dir=Ge({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&re("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[lr([sz]),fn]})}}return t})();function Po(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function uP(t){return t!=null&&typeof t.length=="number"}var dd=new te(""),rg=new te(""),lz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,se=class{static min(e){return uz(e)}static max(e){return dz(e)}static required(e){return dP(e)}static requiredTrue(e){return hz(e)}static email(e){return fz(e)}static minLength(e){return pz(e)}static maxLength(e){return mz(e)}static pattern(e){return gz(e)}static nullValidator(e){return Km(e)}static compose(e){return vP(e)}static composeAsync(e){return yP(e)}};function uz(t){return e=>{if(Po(e.value)||Po(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function dz(t){return e=>{if(Po(e.value)||Po(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function dP(t){return Po(t.value)?{required:!0}:null}function hz(t){return t.value===!0?null:{required:!0}}function fz(t){return Po(t.value)||lz.test(t.value)?null:{email:!0}}function pz(t){return e=>Po(e.value)||!uP(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function mz(t){return e=>uP(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function gz(t){if(!t)return Km;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Po(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Km(t){return null}function hP(t){return t!=null}function fP(t){return gs(t)?tt(t):t}function pP(t){let e={};return t.forEach(n=>{e=n!=null?G(G({},e),n):e}),Object.keys(e).length===0?null:e}function mP(t,e){return e.map(n=>n(t))}function vz(t){return!t.validate}function gP(t){return t.map(e=>vz(e)?e:n=>e.validate(n))}function vP(t){if(!t)return null;let e=t.filter(hP);return e.length==0?null:function(n){return pP(mP(n,e))}}function kE(t){return t!=null?vP(gP(t)):null}function yP(t){if(!t)return null;let e=t.filter(hP);return e.length==0?null:function(n){let r=mP(n,e).map(fP);return iv(r).pipe(ye(pP))}}function FE(t){return t!=null?yP(gP(t)):null}function eP(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _P(t){return t._rawValidators}function wP(t){return t._rawAsyncValidators}function RE(t){return t?Array.isArray(t)?t:[t]:[]}function Qm(t,e){return Array.isArray(t)?t.includes(e):t===e}function tP(t,e){let n=RE(e);return RE(t).forEach(i=>{Qm(n,i)||n.push(i)}),n}function nP(t,e){return RE(e).filter(n=>!Qm(t,n))}var Ym=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=FE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ni=class extends Ym{get formDirective(){return null}get path(){return null}},Zs=class extends Ym{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Zm=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},yz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ate=ge(G({},yz),{"[class.ng-submitted]":"isSubmitted"}),No=(()=>{class t extends Zm{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(q(Zs,2))}}static{this.\u0275dir=Ge({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&$f("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[fn]})}}return t})(),Oo=(()=>{class t extends Zm{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(q(Ni,10))}}static{this.\u0275dir=Ge({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&$f("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[fn]})}}return t})();var od="VALID",Wm="INVALID",jc="PENDING",sd="DISABLED",Mo=class{},Jm=class extends Mo{constructor(e,n){super(),this.value=e,this.source=n}},cd=class extends Mo{constructor(e,n){super(),this.pristine=e,this.source=n}},ld=class extends Mo{constructor(e,n){super(),this.touched=e,this.source=n}},Bc=class extends Mo{constructor(e,n){super(),this.status=e,this.source=n}},PE=class extends Mo{constructor(e){super(),this.source=e}},ME=class extends Mo{constructor(e){super(),this.source=e}};function LE(t){return(ig(t)?t.validators:t)||null}function _z(t){return Array.isArray(t)?kE(t):t||null}function VE(t,e){return(ig(e)?e.asyncValidators:t)||null}function wz(t){return Array.isArray(t)?FE(t):t||null}function ig(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function bP(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new ce(1e3,"");if(!r[n])throw new ce(1001,"")}function EP(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new ce(1002,"")})}var $c=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ya(()=>this.statusReactive()),this.statusReactive=Un(void 0),this._pristine=Ya(()=>this.pristineReactive()),this.pristineReactive=Un(!0),this._touched=Ya(()=>this.touchedReactive()),this.touchedReactive=Un(!1),this._events=new Ot,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Lr(this.statusReactive)}set status(e){Lr(()=>this.statusReactive.set(e))}get valid(){return this.status===od}get invalid(){return this.status===Wm}get pending(){return this.status==jc}get disabled(){return this.status===sd}get enabled(){return this.status!==sd}get pristine(){return Lr(this.pristineReactive)}set pristine(e){Lr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Lr(this.touchedReactive)}set touched(e){Lr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(tP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nP(e,this._rawAsyncValidators))}hasValidator(e){return Qm(this._rawValidators,e)}hasAsyncValidator(e){return Qm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ge(G({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ld(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ld(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ge(G({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new cd(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new cd(!0,r))}markAsPending(e={}){this.status=jc;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ge(G({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=sd,this.errors=null,this._forEachChild(i=>{i.disable(ge(G({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jm(this.value,r)),this._events.next(new Bc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ge(G({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=od,this._forEachChild(r=>{r.enable(ge(G({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ge(G({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===od||this.status===jc)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jm(this.value,n)),this._events.next(new Bc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ge(G({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sd:od}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=jc,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=fP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Bc(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ue,this.statusChanges=new Ue}_calculateStatus(){return this._allControlsDisabled()?sd:this.errors?Wm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jc)?jc:this._anyControlsHaveStatus(Wm)?Wm:od}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new cd(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ld(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ig(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=_z(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=wz(this._rawAsyncValidators)}},Hc=class extends $c{constructor(e,n,r){super(LE(n),VE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){EP(this,!0,e),Object.keys(e).forEach(r=>{bP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var NE=class extends Hc{};var hd=new te("CallSetDisabledState",{providedIn:"root",factory:()=>og}),og="always";function IP(t,e){return[...e.path,t]}function Xm(t,e,n=og){UE(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Ez(t,e),Cz(t,e),Iz(t,e),bz(t,e)}function rP(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),tg(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function eg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function bz(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function UE(t,e){let n=_P(t);e.validator!==null?t.setValidators(eP(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=wP(t);e.asyncValidator!==null?t.setAsyncValidators(eP(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();eg(e._rawValidators,i),eg(e._rawAsyncValidators,i)}function tg(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=_P(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=wP(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return eg(e._rawValidators,r),eg(e._rawAsyncValidators,r),n}function Ez(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&CP(t,e)})}function Iz(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&CP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function CP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Cz(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function DP(t,e){t==null,UE(t,e)}function Dz(t,e){return tg(t,e)}function TP(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Tz(t){return Object.getPrototypeOf(t.constructor)===ng}function SP(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function AP(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===ei?n=o:Tz(o)?r=o:i=o}),i||r||n||null}function Sz(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Az={provide:Ni,useExisting:En(()=>jE)},ad=Promise.resolve(),jE=(()=>{class t extends Ni{get submitted(){return Lr(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Ya(()=>this.submittedReactive()),this.submittedReactive=Un(!1),this._directives=new Set,this.ngSubmit=new Ue,this.form=new Hc({},kE(n),FE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){ad.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Xm(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){ad.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){ad.then(()=>{let r=this._findContainer(n.path),i=new Hc({});DP(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){ad.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){ad.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),SP(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(q(dd,10),q(rg,10),q(hd,8))}}static{this.\u0275dir=Ge({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&re("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[lr([Az]),fn]})}}return t})();function iP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function oP(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ud=class extends $c{constructor(e=null,n,r){super(LE(n),VE(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ig(n)&&(n.nonNullable||n.initialValueIsDefault)&&(oP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){oP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xz=t=>t instanceof ud;var Rz={provide:Zs,useExisting:En(()=>BE)},sP=Promise.resolve(),BE=(()=>{class t extends Zs{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new ud,this._registered=!1,this.name="",this.update=new Ue,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=AP(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),TP(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Xm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){sP.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&ql(r);sP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?IP(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(q(Ni,9),q(dd,10),q(rg,10),q(zc,10),q(ys,8),q(hd,8))}}static{this.\u0275dir=Ge({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[lr([Rz]),fn,fi]})}}return t})(),ko=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ge({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),Pz={provide:zc,useExisting:En(()=>Js),multi:!0},Js=(()=>{class t extends ng{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275dir=Ge({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&re("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[lr([Pz]),fn]})}}return t})();var xP=new te("");var Mz={provide:Ni,useExisting:En(()=>Xs)},Xs=(()=>{class t extends Ni{get submitted(){return Lr(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Ya(()=>this._submittedReactive()),this._submittedReactive=Un(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ue,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Xm(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){rP(n.control||null,n,!1),Sz(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),SP(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new PE(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new ME(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(rP(r||null,n),xz(i)&&(Xm(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);DP(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&Dz(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){UE(this.form,this),this._oldForm&&tg(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(q(dd,10),q(rg,10),q(hd,8))}}static{this.\u0275dir=Ge({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&re("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[lr([Mz]),fn,fi]})}}return t})();var Nz={provide:Zs,useExisting:En(()=>ea)},ea=(()=>{class t extends Zs{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Ue,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=AP(this,o)}ngOnChanges(n){this._added||this._setUpControl(),TP(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return IP(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(q(Ni,13),q(dd,10),q(rg,10),q(zc,10),q(xP,8))}}static{this.\u0275dir=Ge({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[lr([Nz]),fn,fi]})}}return t})(),Oz={provide:zc,useExisting:En(()=>sg),multi:!0};function RP(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function kz(t){return t.split(":")[0]}var sg=(()=>{class t extends ng{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=RP(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=kz(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275dir=Ge({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&re("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[lr([Oz]),fn]})}}return t})(),PP=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(RP(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(q(Qt),q(In),q(sg,9))}}static{this.\u0275dir=Ge({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),Fz={provide:zc,useExisting:En(()=>MP),multi:!0};function aP(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Lz(t){return t.split(":")[0]}var MP=(()=>{class t extends ng{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],d=this._getOptionValue(l.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let d=this._getOptionValue(l.value);i.push(d)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=Lz(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275dir=Ge({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&re("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[lr([Fz]),fn]})}}return t})(),NP=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(aP(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(aP(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(q(Qt),q(In),q(MP,9))}}static{this.\u0275dir=Ge({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var Vz=(()=>{class t{constructor(){this._validator=Km}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Km,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ge({type:t,features:[fi]})}}return t})();var Uz={provide:dd,useExisting:En(()=>Oi),multi:!0};var Oi=(()=>{class t extends Vz{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ql,this.createValidator=n=>dP}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pi(t)))(i||t)}})()}static{this.\u0275dir=Ge({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Qa("required",i._enabled?"":null)},inputs:{required:"required"},features:[lr([Uz]),fn]})}}return t})();var OP=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ar({type:t})}static{this.\u0275inj=sr({})}}return t})(),OE=class extends $c{constructor(e,n,r){super(LE(n),VE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){EP(this,!1,e),e.forEach((r,i)=>{bP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function cP(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var qc=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return cP(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Hc(i,o)}record(n,r=null){let i=this._reduceControls(n);return new NE(i,r)}control(n,r,i){let o={};return this.useNonNullable?(cP(r)?o=r:(o.validators=r,o.asyncValidators=i),new ud(n,ge(G({},o),{nonNullable:!0}))):new ud(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new OE(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof ud)return n;if(n instanceof $c)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Fo=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:hd,useValue:n.callSetDisabledState??og}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ar({type:t})}static{this.\u0275inj=sr({imports:[OP]})}}return t})(),Gc=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:xP,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:hd,useValue:n.callSetDisabledState??og}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ar({type:t})}static{this.\u0275inj=sr({imports:[OP]})}}return t})();function jz(t,e){t&1&&(E(0,"div",8),X(1,"div",9),w())}function Bz(t,e){if(t&1&&(E(0,"div",17)(1,"p"),x(2),w()()),t&2){let n=Q(2);k(2),kt(n.msjError)}}function $z(t,e){if(t&1){let n=Ke();E(0,"form",10),re("ngSubmit",function(){Ce(n);let i=Q();return De(i.LoginUser())}),E(1,"div",11)(2,"input",12),Gf("ngModelChange",function(i){Ce(n);let o=Q();return Hy(o.email,i)||(o.email=i),De(i)}),w()(),E(3,"div",11)(4,"input",13),Gf("ngModelChange",function(i){Ce(n);let o=Q();return Hy(o.password,i)||(o.password=i),De(i)}),w()(),E(5,"button",14),x(6,"Iniciar Sesi\xF3n"),w(),E(7,"p"),x(8,"\xBFNo tienes una cuenta? "),E(9,"a",15),x(10,"Reg\xEDstrate"),w()(),K(11,Bz,3,1,"div",16),w()}if(t&2){let n=Q();L("@deslizarArriba",void 0),k(2),qf("ngModel",n.email),k(2),qf("ngModel",n.password),k(7),L("ngIf",n.flagError)}}function Hz(t,e){if(t&1){let n=Ke();E(0,"div",20)(1,"img",21),re("click",function(){let i=Ce(n).$implicit,o=Q(2);return De(o.onUserClick(i))}),w()()}if(t&2){let n=e.$implicit;k(),L("src",n.image,kr)}}function zz(t,e){if(t&1&&(E(0,"div",18),K(1,Hz,2,1,"div",19),w()),t&2){let n=Q();k(),L("ngForOf",n.users)}}var cg=class t{constructor(e,n){this.router=e;this.auth=n}email="";password="";flagError=!1;msjError="";isLoading=!1;userProfileImageUrl="/assets/imagenes/favbutton.png";userListVisible=!1;users=[{id:1,name:"Administrador",role:"administrador",image:"/assets/imagenes/perfiles/administrador-perfil.jpg"},{id:2,name:"Especialista 1",role:"especialista",image:"/assets/imagenes/perfiles/especialista-perfil-1.jpg"},{id:3,name:"Especialista 2",role:"especialista",image:"/assets/imagenes/perfiles/especialista-perfil-2.jpg"},{id:4,name:"Paciente 1",role:"paciente",image:"/assets/imagenes/perfiles/paciente-perfil -1.webp"},{id:5,name:"Paciente 2",role:"paciente",image:"/assets/imagenes/perfiles/paciente-perfil-2.jpg"},{id:6,name:"Paciente 3",role:"paciente",image:"/assets/imagenes/perfiles/paciente-perfil-3.jpg"}];usuario={email:"",password:""};LoginUser(){return D(this,null,function*(){this.isLoading=!0,this.flagError=!1,this.msjError="";try{yield this.auth.login(this.email,this.password);let e=this.auth.userActive;e?(console.log("Usuario autenticado:",e),e.emailVerificado?e.tipoUsuario==="especialista"?e.estado==="aceptado"?this.router.navigate(["/home"]):(this.flagError=!0,this.msjError="Estado pendiente de aprobaci\xF3n por administrador."):e.tipoUsuario==="paciente"?this.router.navigate(["/home"]):e.tipoUsuario==="administrador"?this.router.navigate(["/admin-dashboard"]):(this.flagError=!0,this.msjError="Perfil de usuario no reconocido."):(this.flagError=!0,this.msjError="Error de autenticaci\xF3n desconocido. Intente nuevamente")):(this.flagError=!0,this.msjError="No se pudo obtener la informaci\xF3n del usuario.")}catch(e){console.error("Error de inicio de sesi\xF3n:",e),this.flagError=!0,e.code?this.msjError=this.auth.mostrarErrorLogin(e.code):this.msjError="Error de autenticaci\xF3n desconocido. Intente nuevamente"}finally{this.isLoading=!1}})}toggleUserList(){this.userListVisible=!this.userListVisible}onUserClick(e){this.accesoRapido(e.id),console.log("Usuario seleccionado:",e.name)}accesoRapido(e){switch(e){case 1:this.email="peheso2642@inikale.com",this.password="123456";break;case 2:this.email="foxiwap520@lineacr.com",this.password="123456";break;case 3:this.email="pofexa3710@opposir.com",this.password="123456";break;case 4:this.email="kinok45388@opposir.com",this.password="123456";break;case 5:this.email="wisoxi6398@lineacr.com",this.password="123456";break;case 6:this.email="wetowa4913@operades.com",this.password="123456";break;default:console.log("N\xFAmero de ingreso r\xE1pido no v\xE1lido")}}static \u0275fac=function(n){return new(n||t)(q(Ur),q(Vt))};static \u0275cmp=ze({type:t,selectors:[["app-login"]],standalone:!0,features:[Qe],decls:14,vars:4,consts:[[1,"login-container"],[1,"login-box"],["class","spinner-container",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"fav-button-container"],[1,"fav-button",3,"click"],["alt","Perfil",1,"fav-button-img",3,"src"],["class","user-list",4,"ngIf"],[1,"spinner-container"],[1,"spinner"],[3,"ngSubmit"],[1,"form-group"],["id","email","name","email","type","email","required","","placeholder","Usuario",3,"ngModelChange","ngModel"],["id","password","name","password","type","password","required","","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],["type","submit",1,"btn"],["href","/registro"],["class","error-message",4,"ngIf"],[1,"error-message"],[1,"user-list"],["class","user-item",4,"ngFor","ngForOf"],[1,"user-item"],["alt","Usuario",1,"user-img",3,"click","src"]],template:function(n,r){n&1&&(X(0,"app-header"),E(1,"body")(2,"div",0)(3,"div",1)(4,"h1"),x(5,"Login"),w(),E(6,"p"),x(7,"\xA1Ingresa tus credenciales para acceder al sistema!"),w(),K(8,jz,2,0,"div",2)(9,$z,12,4,"form",3),w()(),E(10,"div",4)(11,"button",5),re("click",function(){return r.toggleUserList()}),X(12,"img",6),w(),K(13,zz,2,1,"div",7),w()()),n&2&&(k(8),L("ngIf",r.isLoading),k(),L("ngIf",!r.isLoading),k(3),L("src",r.userProfileImageUrl,kr),k(),L("ngIf",r.userListVisible))},dependencies:[Fo,ko,ei,No,Oo,Oi,BE,jE,$t,po,Yt,mn],styles:["body[_ngcontent-%COMP%]{background-color:#f0f4f8;font-family:Arial,sans-serif;display:flex;justify-content:center;align-items:center;height:100vh;margin:0}.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:20px;border-radius:10px;box-shadow:0 4px 30px #0000001a;background-color:#fff;max-width:400px;width:100%}.login-box[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{text-align:center;color:#333}p[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;transition:border-color .3s}input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-radius:5px;background-color:#007bff;color:#fff;font-size:16px;cursor:pointer;margin:5px 0;transition:background-color .3s}.btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.error-message[_ngcontent-%COMP%]{color:red;text-align:center;margin-top:10px}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px 0}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#007bff;border-radius:50%;width:30px;height:30px;animation:_ngcontent-%COMP%_spin 1s linear infinite}.fav-button-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:9999}.fav-button[_ngcontent-%COMP%]{background-color:#007bff;border:none;border-radius:50%;width:60px;height:60px;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 4px 8px #0003;transition:background-color .3s ease}.fav-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.fav-button-img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.user-list[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;gap:10px;position:absolute;bottom:70px;right:0}.user-item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.user-img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;cursor:pointer;transition:transform .3s}.user-img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}"],data:{animation:[yi.deslizarAbajo]}})};var lg=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ze({type:t,selectors:[["app-error"]],standalone:!0,features:[Qe],decls:2,vars:0,template:function(n,r){n&1&&(E(0,"p"),x(1,"error works!"),w())}})};var qz=new te("recaptcha-language"),Gz=new te("recaptcha-base-url"),Wz=new te("recaptcha-nonce-tag"),Kz=new te("recaptcha-settings"),Qz=new te("recaptcha-v3-site-key"),Yz=new te("recaptcha-loader-options");function Zz(t,e,n,{url:r,lang:i,nonce:o}={}){window.ng2recaptchaloaded=()=>{n(grecaptcha)};let s=document.createElement("script");s.innerHTML="";let{url:a,nonce:l}=e(new URL(r||"https://www.google.com/recaptcha/api.js"));a.searchParams.set("render",t==="explicit"?t:t.key),a.searchParams.set("onload","ng2recaptchaloaded"),a.searchParams.set("trustedtypes","true"),i&&a.searchParams.set("hl",i),s.src=a.href;let d=l||o;d&&s.setAttribute("nonce",d),s.async=!0,s.defer=!0,document.head.appendChild(s)}function Jz({v3SiteKey:t,onBeforeLoad:e,onLoaded:n}){let r=t?{key:t}:"explicit";kP.loadScript(r,e,n)}var kP={loadScript:Zz,newLoadScript:Jz};function Xz(t){return t.asObservable().pipe(dn(e=>e!==null))}var FP=(()=>{class t{static{this.ready=null}constructor(n,r,i,o,s,a){this.platformId=n,this.language=r,this.baseUrl=i,this.nonce=o,this.v3SiteKey=s,this.options=a;let l=this.init();this.ready=l?Xz(l):pe()}init(){if(t.ready)return t.ready;if(!iS(this.platformId))return;let n=new st(null);return t.ready=n,kP.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:r=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(r);let i=new URL(this.baseUrl??r);return this.language&&i.searchParams.set("hl",this.language),{url:i,nonce:this.nonce}},onLoaded:r=>{let i=r;this.options?.onLoaded&&(i=this.options.onLoaded(r)),n.next(i)}}),n}static{this.\u0275fac=function(r){return new(r||t)(le(Or),le(qz,8),le(Gz,8),le(Wz,8),le(Qz,8),le(Yz,8))}}static{this.\u0275prov=oe({token:t,factory:t.\u0275fac})}}return t})(),eq=0,Wc=(()=>{class t{constructor(n,r,i,o){this.elementRef=n,this.loader=r,this.zone=i,this.id=`ngrecaptcha-${eq++}`,this.errorMode="default",this.resolved=new Ue,this.error=new Ue,this.errored=new Ue,o&&(this.siteKey=o.siteKey,this.theme=o.theme,this.type=o.type,this.size=o.size,this.badge=o.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(n=>{n!=null&&n.render instanceof Function&&(this.grecaptcha=n,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){this.size==="invisible"&&(this.widget!=null?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){this.widget!=null&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return this.widget!=null?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(n){this.error.emit(n),this.errored.emit(n)}captchaResponseCallback(n){this.resolved.emit(n)}grecaptchaReset(){this.widget!=null&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){let n={badge:this.badge,callback:r=>{this.zone.run(()=>this.captchaResponseCallback(r))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};this.errorMode==="handled"&&(n["error-callback"]=(...r)=>{this.zone.run(()=>this.onError(r))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,n),this.executeRequested===!0&&(this.executeRequested=!1,this.execute())}static{this.\u0275fac=function(r){return new(r||t)(q(Qt),q(FP),q(je),q(Kz,8))}}static{this.\u0275cmp=ze({type:t,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(r,i){r&2&&Qa("id",i.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return t})(),tq=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ar({type:t})}static{this.\u0275inj=sr({})}}return t})(),Kc=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ar({type:t})}static{this.\u0275inj=sr({providers:[FP],imports:[tq]})}}return t})();var Lo=class t{constructor(e){this.firestore=e}fecha;usuarioColleccion;usuarios;usuarioLogueadoSubject=new st(null);usuarioLogueado$=this.usuarioLogueadoSubject.asObservable();tiempoExpiracionSesion=30*60*1e3;usuarioLocalStorageKey="usuarioLogueado";getUsuarios(){let e=an(this.firestore,"usuarios");return Gn(e,{idField:"uid"}).pipe(pt(n=>console.log("Datos obtenidos de usuarios:",n)))}getEspecialistasPendientes(){let e=an(this.firestore,"usuarios"),n=xn(e,Dt("aceptado","==","pendiente"),Dt("tipoUsuario","==","especialista"));return Gn(n,{idField:"id"})}actualizarEstadoEspecialista(e,n){return D(this,null,function*(){let r=Uc(this.firestore,"usuarios",e);try{(yield id(r)).exists()?(yield JR(r,{estado:n}),console.log(`Estado del especialista actualizado a: ${n}`)):console.error(`El documento con UID: ${e} no existe`)}catch(i){throw console.error(`Error al actualizar el estado del especialista con UID: ${e}`,i),i}})}getUsuariosPorTipo(e){let n=an(this.firestore,"usuarios"),r=xn(n,Dt("tipoUsuario","==",e));return tt(AE(r).then(i=>i.docs.map(o=>o.data())))}getPacientes(){let e=an(this.firestore,"usuarios"),n=xn(e,Dt("tipoUsuario","==","paciente"));return Gn(n)}getEspecialistaByEspecialidad(e){let n=an(this.firestore,"usuarios"),r=xn(n,Dt("tipoUsuario","==","especialista"),Dt("especialidades","array-contains",e));return tt(AE(r)).pipe(ye(i=>i.docs.map(o=>o.data())))}static \u0275fac=function(n){return new(n||t)(le(vr))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})};function nq(t,e){t&1&&(E(0,"div"),x(1,"Este campo es obligatorio."),w())}function rq(t,e){t&1&&(E(0,"div"),x(1,"El nombre debe tener menos de 20 caracteres."),w())}function iq(t,e){t&1&&(E(0,"div"),x(1,"El nombre solo debe contener letras."),w())}function oq(t,e){if(t&1&&(E(0,"div",34),K(1,nq,2,0,"div",25)(2,rq,2,0,"div",25)(3,iq,2,0,"div",25),w()),t&2){let n,r,i,o=Q(2);k(),L("ngIf",(n=o.registroEspecialistaForm.get("nombre"))==null||n.errors==null?null:n.errors.required),k(),L("ngIf",(r=o.registroEspecialistaForm.get("nombre"))==null||r.errors==null?null:r.errors.maxlength),k(),L("ngIf",(i=o.registroEspecialistaForm.get("nombre"))==null||i.errors==null?null:i.errors.pattern)}}function sq(t,e){t&1&&(E(0,"div"),x(1,"Este campo es obligatorio."),w())}function aq(t,e){t&1&&(E(0,"div"),x(1,"El nombre debe tener menos de 20 caracteres."),w())}function cq(t,e){t&1&&(E(0,"div"),x(1,"El nombre solo debe contener letras."),w())}function lq(t,e){if(t&1&&(E(0,"div",34),K(1,sq,2,0,"div",25)(2,aq,2,0,"div",25)(3,cq,2,0,"div",25),w()),t&2){let n,r,i,o=Q(2);k(),L("ngIf",(n=o.registroEspecialistaForm.get("apellido"))==null||n.errors==null?null:n.errors.required),k(),L("ngIf",(r=o.registroEspecialistaForm.get("apellido"))==null||r.errors==null?null:r.errors.maxlength),k(),L("ngIf",(i=o.registroEspecialistaForm.get("apellido"))==null||i.errors==null?null:i.errors.pattern)}}function uq(t,e){t&1&&(E(0,"div",34),x(1," Este campo es obligatorio. "),w())}function dq(t,e){t&1&&(E(0,"div",34),x(1," El DNI debe ser un n\xFAmero v\xE1lido de 8 d\xEDgitos. "),w())}function hq(t,e){t&1&&(E(0,"div",34),x(1," Este campo es obligatorio. "),w())}function fq(t,e){t&1&&(E(0,"div",34),x(1," Debe ser mayor de 18 y menor de 100 a\xF1os. "),w())}function pq(t,e){if(t&1&&(E(0,"option",35),x(1),w()),t&2){let n=e.$implicit;L("value",n),k(),jn(" ",n," ")}}function mq(t,e){if(t&1){let n=Ke();E(0,"li",38),x(1),E(2,"button",39),re("click",function(){let i=Ce(n).index,o=Q(3);return De(o.removerEspecialidadDelMedico(i))}),x(3," Eliminar "),w()()}if(t&2){let n=e.$implicit;k(),jn(" ",n," ")}}function gq(t,e){if(t&1&&(E(0,"div")(1,"h3",36),x(2,"Especialidades del m\xE9dico:"),w(),E(3,"ul"),K(4,mq,4,1,"li",37),w()()),t&2){let n=Q(2);k(4),L("ngForOf",n.especialidadesDelMedico)}}function vq(t,e){t&1&&(E(0,"div",34),x(1," Debe seleccionar al menos una especialidad. "),w())}function yq(t,e){t&1&&(E(0,"div",34),x(1," Este campo es obligatorio. "),X(2,"br"),w())}function _q(t,e){t&1&&(E(0,"div",34),x(1," Debe ser un email v\xE1lido. "),w())}function wq(t,e){t&1&&(E(0,"div",34),x(1," Este campo es obligatorio. "),w())}function bq(t,e){t&1&&(E(0,"div",34),x(1," La contrase\xF1a debe tener al menos 6 caracteres. "),w())}function Eq(t,e){t&1&&(E(0,"div",34),x(1," La imagen de perfil es obligatoria. "),w())}function Iq(t,e){if(t&1&&(E(0,"div",34),x(1),w()),t&2){let n=Q(2);k(),jn(" ",n.msjError," ")}}function Cq(t,e){t&1&&(E(0,"div")(1,"small",34),x(2,"Por favor, resuelve el captcha."),w()())}function Dq(t,e){if(t&1){let n=Ke();E(0,"form",5),re("ngSubmit",function(){Ce(n);let i=Q();return De(i.onSubmit())}),E(1,"h2",6),x(2,"Registro de Especialista"),w(),E(3,"div",7)(4,"div",8)(5,"label",9),x(6,"Nombre:"),w(),X(7,"input",10),K(8,oq,4,3,"div",4),w(),E(9,"div",8)(10,"label",11),x(11,"Apellido:"),w(),X(12,"input",12),K(13,lq,4,3,"div",4),w()(),E(14,"div",7)(15,"div",8)(16,"label",13),x(17,"DNI:"),w(),X(18,"input",14),K(19,uq,2,0,"div",4)(20,dq,2,0,"div",4),w(),E(21,"div",8)(22,"label",15),x(23,"Edad:"),w(),X(24,"input",16),K(25,hq,2,0,"div",4)(26,fq,2,0,"div",4),w()(),E(27,"div",7)(28,"div",8)(29,"label",17),x(30,"Especialidad:"),w(),E(31,"select",18)(32,"option",19),x(33,"Selecciona una especialidad"),w(),K(34,pq,2,2,"option",20),w(),E(35,"button",21),re("click",function(){Ce(n);let i=Q();return De(i.agregarEspecialidadAlMedico())}),x(36," Agregar especialidad "),w()(),E(37,"div",8)(38,"label",22),x(39,"Nueva especialidad:"),w(),X(40,"input",23),E(41,"button",24),re("click",function(){Ce(n);let i=Q();return De(i.agregarNuevaEspecialidad())}),x(42," A\xF1adir nueva especialidad "),w()()(),K(43,gq,5,1,"div",25)(44,vq,2,0,"div",4),E(45,"div",7)(46,"div",8)(47,"label",26),x(48,"Email:"),w(),X(49,"input",27),K(50,yq,3,0,"div",4)(51,_q,2,0,"div",4),w(),E(52,"div",8)(53,"label",28),x(54,"Contrase\xF1a:"),w(),X(55,"input",29),K(56,wq,2,0,"div",4)(57,bq,2,0,"div",4),w()(),E(58,"div",8)(59,"label"),x(60,"Imagen de perfil:"),w(),E(61,"input",30),re("change",function(i){Ce(n);let o=Q();return De(o.onFileSelect(i,1))}),w(),K(62,Eq,2,0,"div",4),w(),K(63,Iq,2,1,"div",4),x(64," < "),E(65,"div",31)(66,"re-captcha",32),re("resolved",function(i){Ce(n);let o=Q();return De(o.onCaptchaResolved(i))}),w(),K(67,Cq,3,0,"div",25),w(),E(68,"button",33),x(69,"Registrar Especialista"),w(),x(70," --> "),w()}if(t&2){let n,r,i,o,s,a,l,d,p,m,y=Q();L("formGroup",y.registroEspecialistaForm),k(8),L("ngIf",((n=y.registroEspecialistaForm.get("nombre"))==null?null:n.invalid)&&(((n=y.registroEspecialistaForm.get("nombre"))==null?null:n.touched)||y.submitted)),k(5),L("ngIf",((r=y.registroEspecialistaForm.get("apellido"))==null?null:r.invalid)&&(((r=y.registroEspecialistaForm.get("apellido"))==null?null:r.touched)||y.submitted)),k(6),L("ngIf",((i=y.registroEspecialistaForm.get("dni"))==null?null:i.invalid)&&(((i=y.registroEspecialistaForm.get("dni"))==null?null:i.touched)||y.submitted)),k(),L("ngIf",(o=y.registroEspecialistaForm.get("dni"))==null?null:o.hasError("pattern")),k(5),L("ngIf",((s=y.registroEspecialistaForm.get("edad"))==null?null:s.invalid)&&(((s=y.registroEspecialistaForm.get("edad"))==null?null:s.touched)||y.submitted)),k(),L("ngIf",((a=y.registroEspecialistaForm.get("edad"))==null?null:a.hasError("min"))||((a=y.registroEspecialistaForm.get("edad"))==null?null:a.hasError("max"))),k(8),L("ngForOf",y.especialidades),k(9),L("ngIf",y.especialidadesDelMedico.length>0),k(),L("ngIf",y.submitted&&y.especialidadesDelMedico.length===0),k(6),L("ngIf",((l=y.registroEspecialistaForm.get("email"))==null?null:l.invalid)&&(((l=y.registroEspecialistaForm.get("email"))==null?null:l.touched)||y.submitted)),k(),L("ngIf",(d=y.registroEspecialistaForm.get("email"))==null?null:d.hasError("email")),k(5),L("ngIf",((p=y.registroEspecialistaForm.get("password"))==null?null:p.invalid)&&(((p=y.registroEspecialistaForm.get("password"))==null?null:p.touched)||y.submitted)),k(),L("ngIf",(m=y.registroEspecialistaForm.get("password"))==null?null:m.hasError("minlength")),k(5),L("ngIf",y.submitted&&!y.imagenPerfil1),k(),L("ngIf",y.msjError),k(3),L("siteKey","6LcLYYAqAAAAACyoV42nKfn-mCliBr_R_Jp4t7_m"),k(),L("ngIf",y.submitted&&!y.captchaResolved()),k(),L("disabled",!y.captchaResolved())}}function Tq(t,e){t&1&&(E(0,"div",40)(1,"div")(2,"p",41),x(3,".... Registrando Especialista ....."),w(),X(4,"div",42),w()())}function Sq(t,e){t&1&&(E(0,"div",43)(1,"p"),x(2,"\u{1F60A} Especialista dado de alta satisfactoriamente. \xA1Carga terminada! \u{1F60A}"),w()())}function Aq(t,e){t&1&&(E(0,"p",34),x(1,"Por favor completa todos los campos obligatorios."),w())}var Qc=class t{constructor(e,n,r){this.fb=e;this.authService=n;this.usuarioService=r;this.registroEspecialistaForm=this.fb.group({nombre:["",[se.required,se.maxLength(20),se.pattern(/^[a-zA-Z\s]+$/)]],apellido:["",[se.required,se.maxLength(20),se.pattern(/^[a-zA-Z\s]+$/)]],edad:["",[se.required,se.min(18),se.max(100)]],dni:["",[se.required,se.pattern(/^\d{8}$/)]],email:["",[se.required,se.email]],password:["",[se.required,se.minLength(6)]],imagenPerfil1:[null,se.required],especialidadSeleccionada:[null],nuevaEspecialidad:[""],estado:["pendiente"]})}registroEspecialistaForm;especialidades=["Cardiolog\xEDa","Dermatolog\xEDa","Neurolog\xEDa","Pediatr\xEDa","Ginecolog\xEDa","Oncolog\xEDa","Psiquiatr\xEDa","Traumatolog\xEDa","Oftalmolog\xEDa","Endocrinolog\xEDa"];especialidadesDelMedico=[];nuevaEspecialidad="";imagenPerfil1=null;isLoading=!1;completed=!1;submitted=!1;msjError="";especialistasPendientes=[];captchaResolved=Un(!1);registrationCompleted=new Ue;ngOnInit(){}onCaptchaResolved(e){e?this.captchaResolved.set(!0):this.captchaResolved.set(!1)}onFileSelect(e,n){let r=e.target.files[0];r&&n===1&&(this.imagenPerfil1=r,this.registroEspecialistaForm.patchValue({imagenPerfil1:this.imagenPerfil1}),console.log(`Imagen de perfil ${n} seleccionada:`,r))}agregarEspecialidadAlMedico(){let e=this.registroEspecialistaForm.get("especialidadSeleccionada")?.value;e&&!this.especialidadesDelMedico.includes(e)&&(this.especialidadesDelMedico.push(e),this.registroEspecialistaForm.get("especialidadSeleccionada")?.setValue(null))}agregarNuevaEspecialidad(){let e=this.registroEspecialistaForm.get("nuevaEspecialidad")?.value?.trim();e&&!this.especialidades.includes(e)?(this.especialidades.push(e),this.especialidadesDelMedico.push(e),this.registroEspecialistaForm.get("nuevaEspecialidad")?.setValue("")):e&&alert("La especialidad ya existe o el campo est\xE1 vac\xEDo.")}removerEspecialidadDelMedico(e){this.especialidadesDelMedico.splice(e,1)}onSubmit(){if(this.submitted=!0,!this.captchaResolved()){console.log("Por favor, resuelve el captcha.");return}console.log("Formulario v\xE1lido:",this.registroEspecialistaForm.valid),console.log("Imagen de perfil cargada:",this.imagenPerfil1),console.log("Especialidades del m\xE9dico:",this.especialidadesDelMedico),this.registroEspecialistaForm.valid&&this.imagenPerfil1&&this.especialidadesDelMedico.length>0?(this.isLoading=!0,console.log(this.registroEspecialistaForm.value,this.imagenPerfil1),this.authService.subirImagen(this.imagenPerfil1,`perfil/${this.imagenPerfil1.name}`).then(e=>{setTimeout(()=>{let{nombre:n,apellido:r,edad:i,dni:o,email:s,password:a}=this.registroEspecialistaForm.value,l={nombre:n,apellido:r,edad:i,dni:o,email:s,password:a,tipoUsuario:"especialista",especialidades:this.especialidadesDelMedico,fotoPerfil1:e,estado:"pendiente"};this.authService.registrarUsuario(l,a).then(d=>{console.log("Especialista registrado con \xE9xito:",d),this.isLoading=!1,this.completed=!0,this.registrationCompleted.emit(),setTimeout(()=>{this.authService.logout()},2e3)}).catch(d=>{console.error("Error al registrar especialista:",d),this.msjError=d.message,this.isLoading=!1})},2e3)}).catch(e=>{console.error("Error al subir la imagen:",e),this.isLoading=!1})):console.log("Por favor, completa todos los campos.")}resetForm(){this.registroEspecialistaForm.reset(),this.imagenPerfil1=null,this.completed=!1,this.submitted=!1}static \u0275fac=function(n){return new(n||t)(q(qc),q(Vt),q(Lo))};static \u0275cmp=ze({type:t,selectors:[["app-registro-especialista"]],outputs:{registrationCompleted:"registrationCompleted"},standalone:!0,features:[Qe],decls:6,vars:4,consts:[[1,"altas-especialistas-container"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","spinner-container",4,"ngIf"],["class","confirmation-message",4,"ngIf"],["class","error-message",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"registro-especialista"],[1,"form-group-inline"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["for","apellido"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","dni"],["id","dni","type","text","formControlName","dni","required","",1,"form-control"],["for","edad"],["id","edad","type","number","formControlName","edad","required","",1,"form-control"],["for","especialidad"],["id","especialidad","formControlName","especialidadSeleccionada",1,"form-select"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary","btn-small",3,"click"],["for","nuevaEspecialidad"],["id","nuevaEspecialidad","type","text","formControlName","nuevaEspecialidad","placeholder","Ingresa una nueva especialidad",1,"form-control"],["type","button",1,"btn","btn-primary","btn-small","mt-2",3,"click"],[4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","password"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["type","file","required","",1,"form-control",3,"change"],[1,"captcha-container"],[3,"resolved","siteKey"],["type","submit",1,"submit-btn",3,"disabled"],[1,"error-message"],[3,"value"],[1,"titulo-especialidades"],["class","especialidad-item",4,"ngFor","ngForOf"],[1,"especialidad-item"],["type","button",1,"btn","btn-danger","btn-small","btn-compacto",3,"click"],[1,"spinner-container"],[1,"loading-message"],[1,"spinner"],[1,"confirmation-message"]],template:function(n,r){n&1&&(E(0,"body")(1,"div",0),K(2,Dq,71,19,"form",1)(3,Tq,5,0,"div",2)(4,Sq,3,0,"div",3)(5,Aq,2,0,"p",4),w()()),n&2&&(k(2),L("ngIf",!r.completed),k(),L("ngIf",r.isLoading),k(),L("ngIf",r.completed),k(),L("ngIf",r.submitted&&r.registroEspecialistaForm.invalid))},dependencies:[Gc,ko,PP,NP,ei,Js,sg,No,Oo,Oi,Xs,ea,Fo,$t,po,Yt,Kc,Wc],styles:["registro[_ngcontent-%COMP%]   especialista[_ngcontent-%COMP%]   css[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Trebuchet MS;color:#54bab9}.registro-especialista[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;color:#54bab9;margin:10px 0;font-family:Arial,sans-serif;font-family:Trebuchet MS;font-weight:700;letter-spacing:.5px;background-color:#f0f0f0;padding:10px;border-radius:5px;box-shadow:0 2px 5px #0000001a}form[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:20px;border:1px solid #007bff;border-radius:8px;background-color:#f0f8ff;box-shadow:0 2px 10px #0003}div[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #007bff;border-radius:4px;background-color:#fff;box-sizing:border-box;transition:border-color .3s}input[type=text][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#28a745;outline:none}button[_ngcontent-%COMP%]{color:#fff;padding:10px;border:none;cursor:pointer;width:100%;transition:background-color .3s;box-shadow:0 1px #f0f7fa;background:linear-gradient(to bottom,#33bdef 5%,#019ad2);background-color:#33bdef;border-radius:6px;border:1px solid #057fd0;text-shadow:1px 2px 0px #5b6178}.btn-small[_ngcontent-%COMP%]{padding:4px 8px;font-size:.875rem;line-height:1.2;width:100%;text-align:center;margin:10px 0;display:block}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:active{background-color:#004494}input[type=file][_ngcontent-%COMP%]{padding:10px}.error-message[_ngcontent-%COMP%]{font-size:14px;color:#e74c3c;margin-top:5px}.error[_ngcontent-%COMP%]{color:red;font-size:.9em;margin-top:5px}.spinner-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffc;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999}.loading-message[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:10px;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out;text-align:center}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(255,255,255,.3);border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-left:6rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.confirmation-message[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#ffffffe6;padding:20px;border-radius:10px;box-shadow:0 4px 20px #0003;font-size:1.5rem;color:#333;text-align:center;z-index:9999}.altas-especialistas-container[_ngcontent-%COMP%]{width:100%;height:100vh;max-width:800px;margin:0 auto;padding:20px}.form-group-inline[_ngcontent-%COMP%]{display:flex;gap:15px}.form-group-inline[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-bottom:10px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}.submit-btn[_ngcontent-%COMP%]{width:40%;padding:10px;font-size:16px;font-weight:700;background-color:#007bff;color:#fff;border:none;cursor:pointer;margin-top:15px}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}*/[_ngcontent-%COMP%]   .close-modal[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:transparent;border:none;font-size:20px;color:#fff;cursor:pointer;z-index:1010}.close-modal[_ngcontent-%COMP%]:hover{color:red}.especialidad-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:2px 8px;font-size:.75em;width:auto;min-width:unset}.especialidad-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 6px;font-size:.9em}.btn-compacto[_ngcontent-%COMP%]{padding:2px 5px;font-size:.75em;width:auto}.titulo-especialidades[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:1.5em;color:#4a90e2;background-color:#f0f8ff;padding:8px 16px;border-radius:8px;text-align:center;border-left:4px solid #4A90E2;box-shadow:0 4px 6px #0000001a;margin-bottom:20px;letter-spacing:1px}"]})};function xq(t,e){t&1&&(E(0,"div"),x(1,"Este campo es obligatorio."),w())}function Rq(t,e){t&1&&(E(0,"div"),x(1,"El nombre debe tener menos de 20 caracteres."),w())}function Pq(t,e){t&1&&(E(0,"div"),x(1,"El nombre solo debe contener letras."),w())}function Mq(t,e){if(t&1&&(E(0,"div",25),K(1,xq,2,0,"div",23)(2,Rq,2,0,"div",23)(3,Pq,2,0,"div",23),w()),t&2){let n,r,i,o=Q(2);k(),L("ngIf",(n=o.registroAdministradorForm.get("nombre"))==null||n.errors==null?null:n.errors.required),k(),L("ngIf",(r=o.registroAdministradorForm.get("nombre"))==null||r.errors==null?null:r.errors.maxlength),k(),L("ngIf",(i=o.registroAdministradorForm.get("nombre"))==null||i.errors==null?null:i.errors.pattern)}}function Nq(t,e){t&1&&(E(0,"div"),x(1,"Este campo es obligatorio."),w())}function Oq(t,e){t&1&&(E(0,"div"),x(1,"El apellido debe tener menos de 20 caracteres."),w())}function kq(t,e){t&1&&(E(0,"div"),x(1,"El apellido solo debe contener letras."),w())}function Fq(t,e){if(t&1&&(E(0,"div",25),K(1,Nq,2,0,"div",23)(2,Oq,2,0,"div",23)(3,kq,2,0,"div",23),w()),t&2){let n,r,i,o=Q(2);k(),L("ngIf",(n=o.registroAdministradorForm.get("apellido"))==null||n.errors==null?null:n.errors.required),k(),L("ngIf",(r=o.registroAdministradorForm.get("apellido"))==null||r.errors==null?null:r.errors.maxlength),k(),L("ngIf",(i=o.registroAdministradorForm.get("apellido"))==null||i.errors==null?null:i.errors.pattern)}}function Lq(t,e){t&1&&(E(0,"div",25),x(1," Este campo es obligatorio. "),w())}function Vq(t,e){t&1&&(E(0,"div",25),x(1," Debe ser un email v\xE1lido. "),w())}function Uq(t,e){t&1&&(E(0,"div",25),x(1," Este campo es obligatorio. "),w())}function jq(t,e){t&1&&(E(0,"div",25),x(1," Debe ser mayor de 0 y menor de 100 a\xF1os. "),w())}function Bq(t,e){t&1&&(E(0,"div",25),x(1," Este campo es obligatorio. "),w())}function $q(t,e){t&1&&(E(0,"div",25),x(1," El DNI debe ser un n\xFAmero v\xE1lido de 8 d\xEDgitos. "),w())}function Hq(t,e){t&1&&(E(0,"div",25),x(1," Este campo es obligatorio. "),w())}function zq(t,e){t&1&&(E(0,"div",25),x(1," La contrase\xF1a debe tener al menos 6 caracteres. "),w())}function qq(t,e){t&1&&(E(0,"div",25),x(1," La imagen de perfil 1 es obligatoria. "),w())}function Gq(t,e){if(t&1&&(E(0,"div",25),x(1),w()),t&2){let n=Q(2);k(),jn(" ",n.msjError," ")}}function Wq(t,e){t&1&&(E(0,"div")(1,"small",25),x(2,"Por favor, resuelve el captcha."),w()())}function Kq(t,e){if(t&1){let n=Ke();E(0,"form",4),re("ngSubmit",function(){Ce(n);let i=Q();return De(i.onSubmit())}),E(1,"h2",5),x(2,"Registro de Administrador"),w(),E(3,"div",6)(4,"div",7)(5,"label",8),x(6,"Nombre:"),w(),X(7,"input",9),K(8,Mq,4,3,"div",3),w(),E(9,"div",7)(10,"label",10),x(11,"Apellido:"),w(),X(12,"input",11),K(13,Fq,4,3,"div",3),w()(),E(14,"div",7)(15,"label",12),x(16,"Email:"),w(),X(17,"input",13),K(18,Lq,2,0,"div",3)(19,Vq,2,0,"div",3),w(),E(20,"div",6)(21,"div",7)(22,"label",14),x(23,"Edad:"),w(),X(24,"input",15),K(25,Uq,2,0,"div",3)(26,jq,2,0,"div",3),w(),E(27,"div",7)(28,"label",16),x(29,"DNI:"),w(),X(30,"input",17),K(31,Bq,2,0,"div",3)(32,$q,2,0,"div",3),w()(),E(33,"div",6)(34,"div",7)(35,"label",18),x(36,"Contrase\xF1a:"),w(),X(37,"input",19),K(38,Hq,2,0,"div",3)(39,zq,2,0,"div",3),w()(),E(40,"div",7)(41,"label"),x(42,"Imagen de perfil 1:"),w(),E(43,"input",20),re("change",function(i){Ce(n);let o=Q();return De(o.onFileSelect(i,1))}),w(),K(44,qq,2,0,"div",3),w(),K(45,Gq,2,1,"div",3),E(46,"div",21)(47,"re-captcha",22),re("resolved",function(i){Ce(n);let o=Q();return De(o.onCaptchaResolved(i))}),w(),K(48,Wq,3,0,"div",23),w(),E(49,"button",24),x(50,"Registrar Administrador"),w()()}if(t&2){let n,r,i,o,s,a,l,d,p,m,y=Q();L("formGroup",y.registroAdministradorForm),k(8),L("ngIf",((n=y.registroAdministradorForm.get("nombre"))==null?null:n.invalid)&&(((n=y.registroAdministradorForm.get("nombre"))==null?null:n.touched)||y.submitted)),k(5),L("ngIf",((r=y.registroAdministradorForm.get("apellido"))==null?null:r.invalid)&&(((r=y.registroAdministradorForm.get("apellido"))==null?null:r.touched)||y.submitted)),k(5),L("ngIf",((i=y.registroAdministradorForm.get("email"))==null?null:i.invalid)&&(((i=y.registroAdministradorForm.get("email"))==null?null:i.touched)||y.submitted)),k(),L("ngIf",(o=y.registroAdministradorForm.get("email"))==null?null:o.hasError("email")),k(6),L("ngIf",((s=y.registroAdministradorForm.get("edad"))==null?null:s.invalid)&&(((s=y.registroAdministradorForm.get("edad"))==null?null:s.touched)||y.submitted)),k(),L("ngIf",((a=y.registroAdministradorForm.get("edad"))==null?null:a.hasError("min"))||((a=y.registroAdministradorForm.get("edad"))==null?null:a.hasError("max"))),k(5),L("ngIf",((l=y.registroAdministradorForm.get("dni"))==null?null:l.invalid)&&(((l=y.registroAdministradorForm.get("dni"))==null?null:l.touched)||y.submitted)),k(),L("ngIf",(d=y.registroAdministradorForm.get("dni"))==null?null:d.hasError("pattern")),k(6),L("ngIf",((p=y.registroAdministradorForm.get("password"))==null?null:p.invalid)&&(((p=y.registroAdministradorForm.get("password"))==null?null:p.touched)||y.submitted)),k(),L("ngIf",(m=y.registroAdministradorForm.get("password"))==null?null:m.hasError("minlength")),k(5),L("ngIf",y.submitted&&!y.imagenPerfil1),k(),L("ngIf",y.msjError),k(2),L("siteKey","6LcLYYAqAAAAACyoV42nKfn-mCliBr_R_Jp4t7_m"),k(),L("ngIf",y.submitted&&!y.captchaResolved()),k(),L("disabled",!y.captchaResolved())}}function Qq(t,e){t&1&&(E(0,"div",26)(1,"div")(2,"p",27),x(3,".... Registrando Administrador ....."),w(),X(4,"div",28),w()())}function Yq(t,e){t&1&&(E(0,"p",25),x(1,"Por favor completa todos los campos obligatorios."),w())}var Yc=class t{constructor(e,n){this.fb=e;this.authService=n;this.registroAdministradorForm=this.fb.group({nombre:["",[se.required,se.maxLength(20),se.pattern(/^[a-zA-Z\s]+$/)]],apellido:["",[se.required,se.maxLength(20),se.pattern(/^[a-zA-Z\s]+$/)]],edad:["",[se.required,se.min(0),se.max(100)]],dni:["",[se.required,se.pattern(/^\d{8}$/)]],email:["",[se.required,se.email]],password:["",[se.required,se.minLength(6)]],imagenPerfil1:[null,se.required]})}mostrarHeader=!0;registroAdministradorForm;imagenPerfil1=null;isLoading=!1;completed=!1;submitted=!1;msjError="";flagError=!1;captchaResolved=Un(!1);registrationCompleted=new Ue;ngOnInit(){}onFileSelect(e,n){let r=e.target.files[0];r&&n===1&&(this.imagenPerfil1=r,this.registroAdministradorForm.patchValue({imagenPerfil1:this.imagenPerfil1}),console.log(`Imagen de perfil ${n} seleccionada:`,r))}onCaptchaResolved(e){e?this.captchaResolved.set(!0):this.captchaResolved.set(!1)}onSubmit(){if(this.submitted=!0,!this.captchaResolved()){console.log("Por favor, resuelve el captcha.");return}console.log("Formulario v\xE1lido:",this.registroAdministradorForm.valid),console.log("Imagen de perfil cargada:",this.imagenPerfil1),this.registroAdministradorForm.valid&&this.imagenPerfil1?(this.isLoading=!0,console.log(this.registroAdministradorForm.value,this.imagenPerfil1),this.authService.subirImagen(this.imagenPerfil1,`perfil/${this.imagenPerfil1.name}`).then(e=>{setTimeout(()=>{let{nombre:n,apellido:r,edad:i,dni:o,email:s,password:a}=this.registroAdministradorForm.value,l={nombre:n,apellido:r,edad:i,dni:o,email:s,password:a,tipoUsuario:"administrador",fotoPerfil1:e};this.authService.registrarUsuario(l,a).then(d=>{console.log("Administrador registrado con \xE9xito:",d),this.isLoading=!1,this.completed=!0,this.registrationCompleted.emit(),setTimeout(()=>{this.authService.logout()},2e3)}).catch(d=>{console.error("Error al registrar administrador:",d),this.msjError=d.message,this.isLoading=!1})},2e3)}).catch(e=>{console.error("Error al subir la imagen:",e),this.isLoading=!1})):console.log("Por favor, completa todos los campos.")}static \u0275fac=function(n){return new(n||t)(q(qc),q(Vt))};static \u0275cmp=ze({type:t,selectors:[["app-registro-administrador"]],inputs:{mostrarHeader:"mostrarHeader"},outputs:{registrationCompleted:"registrationCompleted"},standalone:!0,features:[Qe],decls:4,vars:3,consts:[[1,"altas-administrador-container"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","spinner-container",4,"ngIf"],["class","error-message",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"registro-administrador"],[1,"form-group-inline"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["for","apellido"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","edad"],["id","edad","type","number","formControlName","edad","required","",1,"form-control"],["for","dni"],["id","dni","type","text","formControlName","dni","required","",1,"form-control"],["for","password"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["type","file","required","",1,"form-control",3,"change"],[1,"captcha-container"],[3,"resolved","siteKey"],[4,"ngIf"],["type","submit",1,"submit-btn",3,"disabled"],[1,"error-message"],[1,"spinner-container"],[1,"loading-message"],[1,"spinner"]],template:function(n,r){n&1&&(E(0,"div",0),K(1,Kq,51,16,"form",1)(2,Qq,5,0,"div",2)(3,Yq,2,0,"p",3),w()),n&2&&(k(),L("ngIf",!r.completed),k(),L("ngIf",r.isLoading),k(),L("ngIf",r.submitted&&r.registroAdministradorForm.invalid))},dependencies:[$t,Yt,Gc,ko,ei,Js,No,Oo,Oi,Xs,ea,Fo,Kc,Wc],styles:["h2[_ngcontent-%COMP%]{font-family:Trebuchet MS;color:#54bab9}.registro-administrador[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;color:#54bab9;margin:10px 0;font-family:Arial,sans-serif;font-family:Trebuchet MS;font-weight:700;letter-spacing:.5px;background-color:#f0f0f0;padding:10px;border-radius:5px;box-shadow:0 2px 5px #0000001a}form[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:20px;border:1px solid #007bff;border-radius:8px;background-color:#f0f8ff;box-shadow:0 2px 10px #0003}div[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #007bff;border-radius:4px;background-color:#fff;box-sizing:border-box;transition:border-color .3s}input[type=text][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#28a745;outline:none}button[_ngcontent-%COMP%]{color:#fff;padding:10px;border:none;cursor:pointer;width:60%;transition:background-color .3s;box-shadow:0 1px #f0f7fa;background-color:#33bdef;background:linear-gradient(to bottom,#33bdef 5%,#019ad2);border-radius:6px;border:1px solid #057fd0;text-shadow:1px 2px 0px #5b6178}button[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#019ad2 5%,#33bdef);background-color:#019ad2}button[_ngcontent-%COMP%]:active{background-color:#004494}.error-message[_ngcontent-%COMP%]{font-size:14px;color:red;margin-top:5px}.error[_ngcontent-%COMP%]{color:red;font-size:.9em;margin-top:5px}.spinner-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffc;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999}.loading-message[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:10px;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out;text-align:center;margin-right:10px}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(255,255,255,.3);border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-left:6rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.confirmation-message[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#ffffffe6;padding:20px;border-radius:10px;box-shadow:0 4px 20px #0003;font-size:1.5rem;color:#333;text-align:center;z-index:1200}.altas-administrador-container[_ngcontent-%COMP%]{width:100%;height:100vh;max-width:800px;margin:0 auto;padding:20px}.form-group-inline[_ngcontent-%COMP%]{display:flex;gap:15px}.form-group-inline[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-bottom:10px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}.submit-btn[_ngcontent-%COMP%]{width:30%;padding:10px;font-size:16px;font-weight:700;background-color:#007bff;color:#fff;border:none;cursor:pointer;margin-top:15px}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.close-modal[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:transparent;border:none;font-size:20px;color:#fff;cursor:pointer;z-index:1010}.close-modal[_ngcontent-%COMP%]:hover{color:red}"]})};function Zq(t,e){t&1&&(E(0,"div"),x(1,"Este campo es obligatorio."),w())}function Jq(t,e){t&1&&(E(0,"div"),x(1,"El nombre debe tener menos de 20 caracteres."),w())}function Xq(t,e){t&1&&(E(0,"div"),x(1,"El nombre solo debe contener letras."),w())}function e6(t,e){if(t&1&&(E(0,"div",27),K(1,Zq,2,0,"div",22)(2,Jq,2,0,"div",22)(3,Xq,2,0,"div",22),w()),t&2){let n,r,i,o=Q(2);k(),L("ngIf",(n=o.registroPacienteForm.get("nombre"))==null||n.errors==null?null:n.errors.required),k(),L("ngIf",(r=o.registroPacienteForm.get("nombre"))==null||r.errors==null?null:r.errors.maxlength),k(),L("ngIf",(i=o.registroPacienteForm.get("nombre"))==null||i.errors==null?null:i.errors.pattern)}}function t6(t,e){t&1&&(E(0,"div"),x(1,"Este campo es obligatorio."),w())}function n6(t,e){t&1&&(E(0,"div"),x(1,"El apellido debe tener menos de 20 caracteres."),w())}function r6(t,e){t&1&&(E(0,"div"),x(1,"El apellido solo debe contener letras."),w())}function i6(t,e){if(t&1&&(E(0,"div",27),K(1,t6,2,0,"div",22)(2,n6,2,0,"div",22)(3,r6,2,0,"div",22),w()),t&2){let n,r,i,o=Q(2);k(),L("ngIf",(n=o.registroPacienteForm.get("apellido"))==null||n.errors==null?null:n.errors.required),k(),L("ngIf",(r=o.registroPacienteForm.get("apellido"))==null||r.errors==null?null:r.errors.maxlength),k(),L("ngIf",(i=o.registroPacienteForm.get("apellido"))==null||i.errors==null?null:i.errors.pattern)}}function o6(t,e){t&1&&(E(0,"div",27),x(1," Este campo es obligatorio. "),w())}function s6(t,e){t&1&&(E(0,"div",27),x(1," Debe ser un email v\xE1lido. "),w())}function a6(t,e){t&1&&(E(0,"div",27),x(1," Este campo es obligatorio. "),w())}function c6(t,e){t&1&&(E(0,"div",27),x(1," Debe ser mayor de 0 y menor de 100 a\xF1os. "),w())}function l6(t,e){t&1&&(E(0,"div",27),x(1," Este campo es obligatorio. "),w())}function u6(t,e){t&1&&(E(0,"div",27),x(1," El DNI debe ser un n\xFAmero v\xE1lido de 8 d\xEDgitos. "),w())}function d6(t,e){t&1&&(E(0,"div",27),x(1," Este campo es obligatorio. "),w())}function h6(t,e){t&1&&(E(0,"div",27),x(1," La contrase\xF1a debe tener al menos 6 caracteres. "),w())}function f6(t,e){t&1&&(E(0,"div",27),x(1," Este campo es obligatorio. "),w())}function p6(t,e){t&1&&(E(0,"div"),x(1,"La obra social debe tener menos de 20 caracteres."),w())}function m6(t,e){t&1&&(E(0,"div",27),x(1," La imagen de perfil 1 es obligatoria. "),w())}function g6(t,e){t&1&&(E(0,"div",27),x(1," La imagen de perfil 2 es obligatoria. "),w())}function v6(t,e){if(t&1&&(E(0,"div",27),x(1),w()),t&2){let n=Q(2);k(),jn(" ",n.msjError," ")}}function y6(t,e){t&1&&(E(0,"div")(1,"small",27),x(2,"Por favor, resuelve el captcha."),w()())}function _6(t,e){if(t&1){let n=Ke();E(0,"form",4),re("ngSubmit",function(){Ce(n);let i=Q();return De(i.onSubmit())}),E(1,"h2",5),x(2,"Registro de Paciente"),w(),E(3,"div",6)(4,"div",7)(5,"label",8),x(6,"Nombre:"),w(),X(7,"input",9),K(8,e6,4,3,"div",3),w(),E(9,"div",7)(10,"label",10),x(11,"Apellido:"),w(),X(12,"input",11),K(13,i6,4,3,"div",3),w()(),E(14,"div",7)(15,"label",12),x(16,"Email:"),w(),X(17,"input",13),K(18,o6,2,0,"div",3)(19,s6,2,0,"div",3),w(),E(20,"div",6)(21,"div",7)(22,"label",14),x(23,"Edad:"),w(),X(24,"input",15),K(25,a6,2,0,"div",3)(26,c6,2,0,"div",3),w(),E(27,"div",7)(28,"label",16),x(29,"DNI:"),w(),X(30,"input",17),K(31,l6,2,0,"div",3)(32,u6,2,0,"div",3),w()(),E(33,"div",6)(34,"div",7)(35,"label",18),x(36,"Contrase\xF1a:"),w(),X(37,"input",19),K(38,d6,2,0,"div",3)(39,h6,2,0,"div",3),w(),E(40,"div",7)(41,"label",20),x(42,"Obra Social:"),w(),X(43,"input",21),K(44,f6,2,0,"div",3)(45,p6,2,0,"div",22),w()(),E(46,"div",7)(47,"label"),x(48,"Imagen de perfil 1:"),w(),E(49,"input",23),re("change",function(i){Ce(n);let o=Q();return De(o.onFileSelect(i,1))}),w(),K(50,m6,2,0,"div",3),w(),E(51,"div",7)(52,"label"),x(53,"Imagen de perfil 2:"),w(),E(54,"input",23),re("change",function(i){Ce(n);let o=Q();return De(o.onFileSelect(i,2))}),w(),K(55,g6,2,0,"div",3),w(),K(56,v6,2,1,"div",3),E(57,"div",24)(58,"re-captcha",25),re("resolved",function(i){Ce(n);let o=Q();return De(o.onCaptchaResolved(i))}),w(),K(59,y6,3,0,"div",22),w(),E(60,"button",26),x(61,"Registrar Paciente"),w()()}if(t&2){let n,r,i,o,s,a,l,d,p,m,y,I,A=Q();L("formGroup",A.registroPacienteForm),k(8),L("ngIf",((n=A.registroPacienteForm.get("nombre"))==null?null:n.invalid)&&(((n=A.registroPacienteForm.get("nombre"))==null?null:n.touched)||A.submitted)),k(5),L("ngIf",((r=A.registroPacienteForm.get("apellido"))==null?null:r.invalid)&&(((r=A.registroPacienteForm.get("apellido"))==null?null:r.touched)||A.submitted)),k(5),L("ngIf",((i=A.registroPacienteForm.get("email"))==null?null:i.invalid)&&(((i=A.registroPacienteForm.get("email"))==null?null:i.touched)||A.submitted)),k(),L("ngIf",(o=A.registroPacienteForm.get("email"))==null?null:o.hasError("email")),k(6),L("ngIf",((s=A.registroPacienteForm.get("edad"))==null?null:s.invalid)&&(((s=A.registroPacienteForm.get("edad"))==null?null:s.touched)||A.submitted)),k(),L("ngIf",((a=A.registroPacienteForm.get("edad"))==null?null:a.hasError("min"))||((a=A.registroPacienteForm.get("edad"))==null?null:a.hasError("max"))),k(5),L("ngIf",((l=A.registroPacienteForm.get("dni"))==null?null:l.invalid)&&(((l=A.registroPacienteForm.get("dni"))==null?null:l.touched)||A.submitted)),k(),L("ngIf",(d=A.registroPacienteForm.get("dni"))==null?null:d.hasError("pattern")),k(6),L("ngIf",((p=A.registroPacienteForm.get("password"))==null?null:p.invalid)&&(((p=A.registroPacienteForm.get("password"))==null?null:p.touched)||A.submitted)),k(),L("ngIf",(m=A.registroPacienteForm.get("password"))==null?null:m.hasError("minlength")),k(5),L("ngIf",((y=A.registroPacienteForm.get("obraSocial"))==null?null:y.invalid)&&(((y=A.registroPacienteForm.get("obraSocial"))==null?null:y.touched)||A.submitted)),k(),L("ngIf",(I=A.registroPacienteForm.get("obraSocial"))==null||I.errors==null?null:I.errors.maxlength),k(5),L("ngIf",A.submitted&&!A.imagenPerfil1),k(5),L("ngIf",A.submitted&&!A.imagenPerfil2),k(),L("ngIf",A.msjError),k(2),L("siteKey","6LcLYYAqAAAAACyoV42nKfn-mCliBr_R_Jp4t7_m"),k(),L("ngIf",A.submitted&&!A.captchaResolved()),k(),L("disabled",!A.captchaResolved())}}function w6(t,e){t&1&&(E(0,"div",28)(1,"div")(2,"p",29),x(3,".... Registrando Paciente ....."),w(),X(4,"div",30),w()())}function b6(t,e){t&1&&(E(0,"p",27),x(1,"Por favor completa todos los campos obligatorios."),w())}var Zc=class t{constructor(e,n){this.fb=e;this.authService=n;this.registroPacienteForm=this.fb.group({nombre:["",[se.required,se.maxLength(20),se.pattern(/^[a-zA-Z\s]+$/)]],apellido:["",[se.required,se.maxLength(20),se.pattern(/^[a-zA-Z\s]+$/)]],edad:["",[se.required,se.min(0),se.max(100)]],dni:["",[se.required,se.pattern(/^\d{8}$/)]],email:["",[se.required,se.email]],password:["",[se.required,se.minLength(6)]],obraSocial:["",[se.required,se.maxLength(20)]],imagenPerfil1:[null,se.required],imagenPerfil2:[null,se.required]})}registroPacienteForm;imagenPerfil1=null;imagenPerfil2=null;isLoading=!1;completed=!1;submitted=!1;msjError="";flagError=!1;captchaResolved=Un(!1);registrationCompleted=new Ue;ngOnInit(){}onCaptchaResolved(e){e?this.captchaResolved.set(!0):this.captchaResolved.set(!1)}onFileSelect(e,n){let r=e.target.files[0];r&&(n===1?(this.imagenPerfil1=r,this.registroPacienteForm.patchValue({imagenPerfil1:this.imagenPerfil1})):n===2&&(this.imagenPerfil2=r,this.registroPacienteForm.patchValue({imagenPerfil2:this.imagenPerfil2})),console.log(`Imagen de perfil ${n} seleccionada:`,r))}onSubmit(){if(this.submitted=!0,!this.captchaResolved()){console.log("Por favor, resuelve el captcha.");return}this.registroPacienteForm.valid&&this.imagenPerfil1&&this.imagenPerfil2?(this.isLoading=!0,console.log(this.registroPacienteForm.value,this.imagenPerfil1,this.imagenPerfil2),Promise.all([this.authService.subirImagen(this.imagenPerfil1,`perfil/${this.imagenPerfil1.name}`),this.authService.subirImagen(this.imagenPerfil2,`perfil/${this.imagenPerfil2.name}`)]).then(([e,n])=>{setTimeout(()=>{let{nombre:r,apellido:i,edad:o,dni:s,email:a,password:l,obraSocial:d}=this.registroPacienteForm.value,p={nombre:r,apellido:i,edad:o,dni:s,email:a,password:l,tipoUsuario:"paciente",obraSocial:d,fotoPerfil1:e,fotoPerfil2:n};this.authService.registrarUsuario(p,l).then(m=>{console.log("Usuario registrado con \xE9xito:",m),this.isLoading=!1,this.completed=!0,console.log("Registro exitoso"),this.registrationCompleted.emit(),setTimeout(()=>{this.authService.logout()},2e3)}).catch(m=>{console.error("Error al registrar usuario:",m),this.msjError=m.message,this.isLoading=!1})},2e3)}).catch(e=>{console.error("Error al subir las im\xE1genes:",e),this.isLoading=!1})):console.log("Por favor, completa todos los campos.")}resetForm(){this.registroPacienteForm.reset(),this.imagenPerfil1=null,this.imagenPerfil2=null,this.completed=!1,this.submitted=!1}static \u0275fac=function(n){return new(n||t)(q(qc),q(Vt))};static \u0275cmp=ze({type:t,selectors:[["app-registro-paciente"]],outputs:{registrationCompleted:"registrationCompleted"},standalone:!0,features:[Qe],decls:4,vars:3,consts:[[1,"altas-pacientes-container"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","spinner-container",4,"ngIf"],["class","error-message",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"registro-paciente"],[1,"form-group-inline"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["for","apellido"],["type","text","id","apellido","formControlName","apellido","required","",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email","required","",1,"form-control"],["for","edad"],["id","edad","type","number","formControlName","edad","required","",1,"form-control"],["for","dni"],["id","dni","type","text","formControlName","dni","required","",1,"form-control"],["for","password"],["type","password","id","password","formControlName","password","required","",1,"form-control"],["for","obraSocial"],["id","obraSocial","type","text","formControlName","obraSocial","required","",1,"form-control"],[4,"ngIf"],["type","file","required","",1,"form-control",3,"change"],[1,"captcha-container"],[3,"resolved","siteKey"],["type","submit",1,"submit-btn",3,"disabled"],[1,"error-message"],[1,"spinner-container"],[1,"loading-message"],[1,"spinner"]],template:function(n,r){n&1&&(E(0,"div",0),K(1,_6,62,19,"form",1)(2,w6,5,0,"div",2)(3,b6,2,0,"p",3),w()),n&2&&(k(),L("ngIf",!r.completed),k(),L("ngIf",r.isLoading),k(),L("ngIf",r.submitted&&r.registroPacienteForm.invalid))},dependencies:[$t,Yt,Gc,ko,ei,Js,No,Oo,Oi,Xs,ea,Fo,Kc,Wc],styles:["body[_ngcontent-%COMP%]{background-color:#3292ff}h2[_ngcontent-%COMP%]{font-family:Trebuchet MS;color:#54bab9}.registro-paciente[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;color:#54bab9;margin:10px 0;font-family:Arial,sans-serif;font-family:Trebuchet MS;font-weight:700;letter-spacing:.5px;background-color:#f0f0f0;padding:10px;border-radius:5px;box-shadow:0 2px 5px #0000001a}form[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:20px;border:1px solid #007bff;border-radius:8px;background-color:#f0f8ff;box-shadow:0 2px 10px #0003}div[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #007bff;border-radius:4px;background-color:#fff;box-sizing:border-box;transition:border-color .3s}input[type=text][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#28a745;outline:none}button[_ngcontent-%COMP%]{color:#fff;padding:10px;border:none;cursor:pointer;width:60%;transition:background-color .3s;box-shadow:0 1px #f0f7fa;background-color:#33bdef;background:linear-gradient(to bottom,#33bdef 5%,#019ad2);border-radius:6px;border:1px solid #057fd0;text-shadow:1px 2px 0px #5b6178}button[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#019ad2 5%,#33bdef);background-color:#019ad2}button[_ngcontent-%COMP%]:active{background-color:#004494}.error-message[_ngcontent-%COMP%]{font-size:14px;color:red;margin-top:5px}.error[_ngcontent-%COMP%]{color:red;font-size:.9em;margin-top:5px}.spinner-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffc;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999}.loading-message[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:10px;animation:_ngcontent-%COMP%_fadeIn 1s ease-in-out;text-align:center;margin-right:10px}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(255,255,255,.3);border-top:8px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-left:6rem}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.confirmation-message[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#ffffffe6;padding:20px;border-radius:10px;box-shadow:0 4px 20px #0003;font-size:1.5rem;color:#333;text-align:center;z-index:1200}.altas-pacientes-container[_ngcontent-%COMP%]{width:100%;height:100vh;max-width:800px;margin:0 auto;padding:20px}.form-group-inline[_ngcontent-%COMP%]{display:flex;gap:15px}.form-group-inline[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-bottom:10px}label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}.submit-btn[_ngcontent-%COMP%]{width:30%;padding:10px;font-size:16px;font-weight:700;background-color:#007bff;color:#fff;border:none;cursor:pointer;margin-top:15px}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.close-modal[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:transparent;border:none;font-size:20px;color:#fff;cursor:pointer;z-index:1010}.close-modal[_ngcontent-%COMP%]:hover{color:red}.captcha-container[_ngcontent-%COMP%]{margin-top:15px;text-align:center}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})};function E6(t,e){if(t&1){let n=Ke();E(0,"button",3),re("click",function(){Ce(n);let i=Q();return De(i.selectRole("administrador"))}),X(1,"img",9),w()}}function I6(t,e){if(t&1){let n=Ke();E(0,"div",13)(1,"app-registro-paciente",14),re("registrationCompleted",function(){Ce(n);let i=Q(2);return De(i.onCompleted())}),w()()}}function C6(t,e){if(t&1){let n=Ke();E(0,"div",13)(1,"app-registro-especialista",14),re("registrationCompleted",function(){Ce(n);let i=Q(2);return De(i.onCompleted())}),w()()}}function D6(t,e){if(t&1){let n=Ke();E(0,"div",13)(1,"app-registro-administrador",14),re("registrationCompleted",function(){Ce(n);let i=Q(2);return De(i.onCompleted())}),w()()}}function T6(t,e){if(t&1){let n=Ke();E(0,"div",10)(1,"button",11),re("click",function(){Ce(n);let i=Q();return De(i.closeForm())}),x(2,"\u2716"),w(),K(3,I6,2,0,"div",12)(4,C6,2,0,"div",12)(5,D6,2,0,"div",12),w()}if(t&2){let n=Q();k(3),L("ngIf",n.selectedRole==="paciente"),k(),L("ngIf",n.selectedRole==="especialista"),k(),L("ngIf",n.selectedRole==="administrador")}}function S6(t,e){t&1&&(E(0,"p"),x(1," \u{1F60A} Paciente dado de alta satisfactoriamente. \xA1Carga terminada! \u{1F60A} "),w())}function A6(t,e){t&1&&(E(0,"p"),x(1," \u{1F60A} Especialista registrado satisfactoriamente. \xA1Carga terminada! \u{1F60A} "),w())}function x6(t,e){t&1&&(E(0,"p"),x(1," \u{1F60A} Administrador registrado satisfactoriamente. \xA1Carga terminada! \u{1F60A} "),w())}function R6(t,e){if(t&1&&(E(0,"div",15),K(1,S6,2,0,"p",16)(2,A6,2,0,"p",16)(3,x6,2,0,"p",16),w()),t&2){let n=Q();k(),L("ngIf",n.userRole==="paciente"),k(),L("ngIf",n.userRole==="especialista"),k(),L("ngIf",n.userRole==="administrador")}}var Jc=class t{constructor(e){this.authService=e}mostrarHeader=!0;selectedRole=null;completed=!1;userRole=null;isAdmin=!1;ngOnInit(){this.checkAdminRole()}checkAdminRole(){let e=this.authService.getUser();e&&e.tipoUsuario==="administrador"&&(this.isAdmin=!0)}selectRole(e){this.selectedRole=e}closeForm(){this.selectedRole=null}onCompleted(){this.completed=!0,this.userRole=this.selectedRole,this.closeForm(),setTimeout(()=>{this.completed=!1,this.userRole=null},3e3)}static \u0275fac=function(n){return new(n||t)(q(Vt))};static \u0275cmp=ze({type:t,selectors:[["app-registro"]],inputs:{mostrarHeader:"mostrarHeader"},standalone:!0,features:[Qe],decls:13,vars:4,consts:[[1,"registro-container"],[1,"registro-titulo"],[1,"role-selection"],[1,"role-button",3,"click"],["src","assets/imagenes/paciente.png","alt","Paciente"],["src","assets/imagenes/especialista.png","alt","Especialista"],["class","role-button",3,"click",4,"ngIf"],["class","form-modal",4,"ngIf"],["class","confirmation-message",4,"ngIf"],["src","assets/imagenes/administrador.png","alt","Administrador"],[1,"form-modal"],[1,"close-button",3,"click"],["class","form-content",4,"ngIf"],[1,"form-content"],[3,"registrationCompleted"],[1,"confirmation-message"],[4,"ngIf"]],template:function(n,r){n&1&&(X(0,"app-header"),E(1,"body")(2,"div",0)(3,"h1",1),x(4,"Registro de usuarios"),w(),E(5,"div",2)(6,"button",3),re("click",function(){return r.selectRole("paciente")}),X(7,"img",4),w(),E(8,"button",3),re("click",function(){return r.selectRole("especialista")}),X(9,"img",5),w(),K(10,E6,2,0,"button",6),w(),K(11,T6,6,3,"div",7)(12,R6,4,3,"div",8),w()()),n&2&&(k(2),L("@escalaCentro",void 0),k(8),L("ngIf",r.isAdmin),k(),L("ngIf",r.selectedRole),k(),L("ngIf",r.completed))},dependencies:[$t,Yt,mn,Qc,Zc,Yc],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.registro-container[_ngcontent-%COMP%]{text-align:center}.registro-titulo[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;color:#333;margin-bottom:20px;font-family:Arial,sans-serif;font-family:Trebuchet MS;color:#54bab9;letter-spacing:1px}.role-selection[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.role-button[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;background-color:#f0f0f0;border:2px solid #ccc;margin:15px 0;padding:10px;display:flex;justify-content:center;align-items:center;cursor:pointer;transition:transform .2s}.role-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;height:80%;object-fit:contain;border-radius:50%}.role-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#e0e0e0}.form-modal[_ngcontent-%COMP%]{position:fixed;top:-20px;left:0;width:100%;height:100%;background-color:#0009;display:flex;justify-content:center;align-items:center;z-index:999;overflow-y:auto;padding:10px}.form-content[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border-radius:8px;max-width:600px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 5px 15px #0000004d;z-index:1000;position:relative}.close-button[_ngcontent-%COMP%]{position:absolute;margin-bottom:475px;margin-right:660px;width:40px;height:40px;background-color:#54bab9;color:#fff;border:none;border-radius:50%;font-size:1.5rem;display:flex;justify-content:center;align-items:center;cursor:pointer;z-index:9999;font-family:Trebuchet MS}.close-button[_ngcontent-%COMP%]:hover{background-color:#000;color:red}.close-button[_ngcontent-%COMP%]:hover{color:red}.confirmation-message[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#ffffffe6;padding:20px;border-radius:10px;box-shadow:0 4px 20px #0003;font-size:1.5rem;color:#333;text-align:center;z-index:1200}"],data:{animation:[yi.deslizarAbajo,yi.escalaCentro]}})};var ug=class t{constructor(e,n){this.el=e;this.renderer=n}onMouseEnter(){this.resaltar("#b3e1f2")}onMouseLeave(){this.resaltar(null)}resaltar(e){this.renderer.setStyle(this.el.nativeElement,"background-color",e)}static \u0275fac=function(n){return new(n||t)(q(Qt),q(In))};static \u0275dir=Ge({type:t,selectors:[["","appResaltarFila",""]],hostBindings:function(n,r){n&1&&re("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},standalone:!0})};function P6(t,e){t&1&&(E(0,"span",22),x(1,"Sin foto"),w())}function M6(t,e){if(t&1&&(E(0,"tr",18)(1,"td")(2,"div",19),X(3,"img",20),K(4,P6,2,0,"span",21),w()(),E(5,"td"),x(6),w(),E(7,"td"),x(8),w(),E(9,"td"),x(10),w(),E(11,"td"),x(12),w(),E(13,"td"),x(14),w(),E(15,"td"),x(16),w()()),t&2){let n=e.$implicit;k(3),L("src",n.fotoPerfil1,kr),k(),L("ngIf",!n.fotoPerfil1),k(2),kt(n.tipoUsuario),k(2),kt(n.nombre),k(2),kt(n.apellido),k(2),kt(n.edad),k(2),kt(n.dni),k(2),kt(n.email)}}function N6(t,e){if(t&1&&(E(0,"div",13)(1,"div",14)(2,"h2",15),x(3,"Todos los usuarios \u{1F465}"),w()(),E(4,"table",16)(5,"thead")(6,"tr")(7,"th"),x(8,"Foto"),w(),E(9,"th"),x(10,"Tipo de Usuario"),w(),E(11,"th"),x(12,"Nombre"),w(),E(13,"th"),x(14,"Apellido"),w(),E(15,"th"),x(16,"Edad"),w(),E(17,"th"),x(18,"DNI"),w(),E(19,"th"),x(20,"Correo"),w()()(),E(21,"tbody"),K(22,M6,17,8,"tr",17),w()()()),t&2){let n=Q();k(22),L("ngForOf",n.usuarios)}}function O6(t,e){if(t&1&&X(0,"img",31),t&2){let n,r=Q(3).$implicit,i=Q(2);L("src",(n=i.isEspecialista(r))==null?null:n.fotoPerfil1,kr)}}function k6(t,e){t&1&&(E(0,"span",22),x(1,"Sin foto"),w())}function F6(t,e){if(t&1&&(E(0,"span"),x(1),w()),t&2){let n,r=Q(3).$implicit,i=Q(2);k(),jn(" ",(n=i.isEspecialista(r))==null?null:n.especialidades," ")}}function L6(t,e){t&1&&x(0,"Sin especialidad")}function V6(t,e){if(t&1){let n=Ke();E(0,"button",32),re("click",function(){let i;Ce(n);let o=Q(3).$implicit,s=Q(2);return De(s.actualizarEstadoEspecialista(((i=s.isEspecialista(o))==null||i.uid==null?null:i.uid.toString())||"","aceptado"))}),x(1,"Aceptar"),w()}}function U6(t,e){if(t&1){let n=Ke();E(0,"button",33),re("click",function(){let i;Ce(n);let o=Q(3).$implicit,s=Q(2);return De(s.actualizarEstadoEspecialista(((i=s.isEspecialista(o))==null||i.uid==null?null:i.uid.toString())||"","rechazado"))}),x(1,"Rechazar"),w()}}function j6(t,e){if(t&1&&(Hf(0),E(1,"td")(2,"div",26),K(3,O6,1,1,"img",27)(4,k6,2,0,"span",21),w()(),E(5,"td"),x(6),w(),E(7,"td"),x(8),w(),E(9,"td"),x(10),w(),E(11,"td"),x(12),w(),E(13,"td"),x(14),w(),E(15,"td"),x(16),w(),E(17,"td"),K(18,F6,2,1,"span",28)(19,L6,1,0,"ng-template",null,0,FT),w(),E(21,"td"),K(22,V6,2,0,"button",29)(23,U6,2,0,"button",30),w(),zf()),t&2){let n,r,i,o,s,a,l,d,p,m=RT(20),y=Q(2).$implicit,I=Q(2);k(3),L("ngIf",(n=I.isEspecialista(y))==null?null:n.fotoPerfil1),k(),L("ngIf",!((r=I.isEspecialista(y))!=null&&r.fotoPerfil1)),k(2),kt((i=I.isEspecialista(y))==null?null:i.nombre),k(2),kt((o=I.isEspecialista(y))==null?null:o.apellido),k(2),kt((s=I.isEspecialista(y))==null?null:s.email),k(2),kt((a=I.isEspecialista(y))==null?null:a.dni),k(2),kt((l=I.isEspecialista(y))==null?null:l.edad),k(2),kt((d=I.isEspecialista(y))==null?null:d.tipoUsuario),k(2),L("ngIf",(p=I.isEspecialista(y))==null?null:p.especialidades)("ngIfElse",m),k(4),L("ngIf",I.isEspecialista(y)),k(),L("ngIf",I.isEspecialista(y))}}function B6(t,e){if(t&1&&(Hf(0),K(1,j6,24,12,"ng-container",25),zf()),t&2){let n,r=Q().$implicit,i=Q(2);k(),L("ngIf",((n=i.isEspecialista(r))==null?null:n.estado)==="pendiente")}}function $6(t,e){if(t&1&&(E(0,"tr"),K(1,B6,2,1,"ng-container",25),w()),t&2){let n=e.$implicit,r=Q(2);k(),L("ngIf",r.isEspecialista(n))}}function H6(t,e){if(t&1&&(E(0,"div",1)(1,"h2",15),x(2,"Aceptar \u2705 /Rechazar \u274C Especialistas"),w(),E(3,"table",23)(4,"thead")(5,"tr")(6,"th"),x(7,"Usuario"),w(),E(8,"th"),x(9,"Nombre"),w(),E(10,"th"),x(11,"Apellido"),w(),E(12,"th"),x(13,"Email"),w(),E(14,"th"),x(15,"Dni"),w(),E(16,"th"),x(17,"Edad"),w(),E(18,"th"),x(19,"Tipo Usuario"),w(),E(20,"th"),x(21,"Especialidad"),w(),E(22,"th"),x(23,"Acciones"),w()()(),E(24,"tbody"),K(25,$6,2,1,"tr",24),w()()()),t&2){let n=Q();k(25),L("ngForOf",n.usuarios)}}function z6(t,e){t&1&&(E(0,"div",1),X(1,"app-registro",34),w()),t&2&&(k(),L("mostrarHeader",!1))}var dg=class t{constructor(e,n,r){this.usuariosService=e;this.router=n;this.AuthService=r}usuarios=[];especialistas=[];flagAdmin=!1;mostrarUsuarios=!1;mostrarAceptarEspecialistas=!1;mostrarRegistrarUsuarios=!1;mostrarTurnos=!1;historialClinico=[];usuarioLogueado=null;ngOnInit(){this.cargarUsuarios(),this.AuthService.getCurrentUser().subscribe(e=>{this.usuarioLogueado=e,this.flagAdmin=this.usuarioLogueado?.tipoUsuario==="administrador",console.log("flagAdmin:",this.flagAdmin)})}cargarUsuarios(){this.usuariosService.getUsuarios().subscribe(e=>{this.usuarios=e.map(n=>ge(G({},n),{uid:n.uid||""})),console.log("Usuarios cargados:",this.usuarios)})}isEspecialista(e){if(e.tipoUsuario==="especialista")return e}actualizarEstadoEspecialista(e,n){this.usuariosService.actualizarEstadoEspecialista(e,n).then(()=>{console.log(`Estado del especialista con UID: ${e} actualizado a ${n}`)}).catch(r=>{console.error("Error al actualizar el estado",r)})}NavegarRegistro(){this.router.navigate(["/registro"])}static \u0275fac=function(n){return new(n||t)(q(Lo),q(Ur),q(Vt))};static \u0275cmp=ze({type:t,selectors:[["app-panel-admin"]],standalone:!0,features:[Qe],decls:31,vars:4,consts:[["sinEspecialidad",""],[1,"container"],[1,"row","custom-row"],[1,"custom-col"],[1,"menu-option-card",3,"click"],[1,"menu-option-content"],[1,"fa-solid","fa-users"],[1,"fa-solid","fa-thumbs-up"],[1,"fa-solid","fa-thumbs-down"],[1,"fa-solid","fa-id-card"],[1,"fa-solid","fa-calendar-days"],["class","mostrar-usuarios",4,"ngIf"],["class","container",4,"ngIf"],[1,"mostrar-usuarios"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[2,"text-align","center"],[1,"table","table-striped"],["appResaltarFila","",4,"ngFor","ngForOf"],["appResaltarFila",""],[1,"profile-picture-list"],["appExpandirHover","usuario.fotoPerfil1","alt","Foto de perfil",1,"profile-image",3,"src"],["class","no-photo",4,"ngIf"],[1,"no-photo"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"profile-picture"],["alt","Foto de perfil","class","profile-img",3,"src",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","btn btn-success","style","height: 35px",3,"click",4,"ngIf"],["class","btn btn-danger","style","height: 35px; margin-left: 5px;",3,"click",4,"ngIf"],["alt","Foto de perfil",1,"profile-img",3,"src"],[1,"btn","btn-success",2,"height","35px",3,"click"],[1,"btn","btn-danger",2,"height","35px","margin-left","5px",3,"click"],[3,"mostrarHeader"]],template:function(n,r){n&1&&(X(0,"app-header"),E(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),re("click",function(){return r.mostrarUsuarios=!0,r.mostrarAceptarEspecialistas=!1,r.mostrarRegistrarUsuarios=!1,r.mostrarTurnos=!1}),E(5,"div",5)(6,"h4"),x(7,"Todos los Usuarios"),w(),X(8,"i",6),w()()(),E(9,"div",3)(10,"div",4),re("click",function(){return r.mostrarUsuarios=!1,r.mostrarAceptarEspecialistas=!0,r.mostrarRegistrarUsuarios=!1,r.mostrarTurnos=!1}),E(11,"div",5)(12,"h4"),x(13,"Aceptar/Rechazar Especialistas"),w(),X(14,"i",7)(15,"i",8),w()()(),E(16,"div",3)(17,"div",4),re("click",function(){return r.mostrarUsuarios=!1,r.mostrarAceptarEspecialistas=!1,r.mostrarRegistrarUsuarios=!0,r.mostrarTurnos=!1}),E(18,"div",5)(19,"h4"),x(20,"Registrar Usuarios"),w(),X(21,"i",9),w()()(),E(22,"div",3)(23,"div",4),re("click",function(){return r.mostrarUsuarios=!1,r.mostrarAceptarEspecialistas=!1,r.mostrarRegistrarUsuarios=!1,r.mostrarTurnos=!0}),E(24,"div",5)(25,"h4"),x(26,"Turnos"),w(),X(27,"i",10),w()()()(),K(28,N6,23,1,"div",11),w(),K(29,H6,26,1,"div",12)(30,z6,2,1,"div",12)),n&2&&(k(4),L("@deslizarAbajo",void 0),k(24),L("ngIf",r.flagAdmin==!0&&r.mostrarUsuarios),k(),L("ngIf",r.flagAdmin==!0&&r.mostrarAceptarEspecialistas==!0&&r.mostrarRegistrarUsuarios==!1&&r.mostrarUsuarios==!1&&r.mostrarTurnos==!1),k(),L("ngIf",r.flagAdmin==!0&&r.mostrarRegistrarUsuarios==!0&&r.mostrarUsuarios==!1&&r.mostrarTurnos==!1&&r.mostrarAceptarEspecialistas==!1))},dependencies:[$t,po,Yt,mn,vo,Jc,ug],styles:[".menu-option-card[_ngcontent-%COMP%]{cursor:pointer;background-color:#f8f9fa;border:1px solid #ced4da;margin-bottom:20px;box-shadow:0 2px 8px #0000001a;display:flex;flex-direction:column;align-items:center;justify-content:center;height:180px;transition:background-color .3s ease,transform .2s ease;flex-grow:1;flex-basis:22%;box-sizing:border-box;padding:10px;border:1px solid #ccc;border-radius:5px;text-align:center;background-color:#f9f9f9}.menu-option-card[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff;transform:scale(1.05)}.menu-option-card[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff}.menu-option-content[_ngcontent-%COMP%]{text-align:center}.menu-option-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#007bff;margin-bottom:10px;transition:color .3s ease}.menu-option-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px;font-size:1.1rem;text-align:center}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.menu-option-card[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000001a;height:180px;padding:15px;flex:1}.profile-picture[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;overflow:hidden}.profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;text-align:center}.profile-img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;object-fit:cover}.no-photo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;border-radius:50%;background-color:#ccc;color:#fff}.profile-picture-list[_ngcontent-%COMP%]{width:60px;height:60px;display:flex;justify-content:center;align-items:center}.profile-picture-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.no-photo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;border-radius:50%;background-color:#ccc;color:#fff;font-size:14px}@keyframes _ngcontent-%COMP%_rotate-center{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.custom-spinner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate-center 1s ease-in-out infinite both;max-width:200px;height:200px;opacity:1}.custom-spinner[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:1011;background-color:#5b5b5b99}.custom-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.custom-col[_ngcontent-%COMP%]{flex:1 1 23%;box-sizing:border-box;margin:5px 0}"],data:{animation:[yi.deslizarAbajo]}})};var hg=class t{constructor(e){this.firestore=e}getTurnosByEspecialista(e,n){let r=an(this.firestore,"turnos"),i=xn(r,Dt("especialistaDni","==",e),Dt("fecha","==",n));return Gn(i)}getTurnosPendientesAceptarByEspecialista(e){let n=an(this.firestore,"turnos"),r=xn(n,Dt("especialistaDni","==",e),Dt("confirmacionDoctor","==","Pendiente Confirmacion"));return Gn(r)}getTurnosAceptadosByEspecialista(e){let n=an(this.firestore,"turnos"),r=xn(n,Dt("especialistaDni","==",e),Dt("confirmacionDoctor","in",["Confirmado","Rechazado"]));return Gn(r)}getHistoriaClinica(e){let n=an(this.firestore,"turnos"),r=xn(n,Dt("pacienteDni","==",e),Dt("atendido","==",!0));return Gn(r)}getHistoriaFull(){let e=an(this.firestore,"turnos"),n=xn(e,Dt("atendido","==",!0));return Gn(n)}getProximosTurnos(e){let n=an(this.firestore,"turnos"),r=xn(n,Dt("pacienteDni","==",e),Dt("atendido","==",!1));return Gn(r)}getProximosTurnosFull(){let e=an(this.firestore,"turnos"),n=xn(e,Dt("atendido","==",!1));return Gn(n)}guardarTurno(e){let n=an(this.firestore,"turnos");return YR(n,e).then(()=>{console.log("Turno guardado con \xE9xito")}).catch(r=>{console.error("Error al guardar el turno: ",r)})}static \u0275fac=function(n){return new(n||t)(le(vr))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})};var G6=t=>({selected:t});function W6(t,e){t&1&&(E(0,"h4"),x(1,"Mis Turnos"),w())}function K6(t,e){t&1&&(E(0,"h4"),x(1,"Todos los Turnos"),w())}function Q6(t,e){if(t&1){let n=Ke();E(0,"button",13),re("click",function(){let i=Ce(n).$implicit,o=Q();return o.especialidadSeleccionada=i.nombre,De(o.cargarDoctores())}),E(1,"div",14),X(2,"img",15),w(),E(3,"div",16),x(4),w()()}if(t&2){let n=e.$implicit,r=Q();L("ngClass",MT(4,G6,n.nombre==r.especialidadSeleccionada)),k(2),By("alt",n.nombre),L("src",n.imagen,kr),k(2),kt(n.nombre)}}var fg=class t{constructor(e,n,r){this.turnosService=e;this.authService=n;this.usuariosService=r}especialidades=[{nombre:"Dermatologo",imagen:"/assets/imagenes/especialidades/dermatologo.png"},{nombre:"Pediatra",imagen:"/assets/imagenes/especialidades/pediatra.jpg"},{nombre:"Neurologo",imagen:"/assets/imagenes/especialidades/neurologo.jpg"},{nombre:"Oftalmologo",imagen:"/assets/imagenes/especialidades/oftalmologo.png"}];doctores=[];fechas=[];arrayHorarios=[];especialidadSeleccionada;fechaSeleccionada;horaSeleccionada;dniDoctorSeleccionado;usuarioLogueado=null;mostrarReservarTurno=!0;mostrarHistorialClinico=!1;mostrarProximosTurnos=!1;historialClinico=[];proximosTurnos=[];especialidadFiltro="";nombreApellidoFiltro="";filtroFull="";pacientes;pacienteSeleccionado;ngOnInit(){this.authService.actualUser$.subscribe(e=>{this.usuarioLogueado=e}),this.cargarPacientes()}cargarDoctores(){console.log("Cargando Doctores..."),this.usuariosService.getEspecialistaByEspecialidad(this.especialidadSeleccionada||"").subscribe(e=>{this.doctores=e,this.dniDoctorSeleccionado="",this.fechaSeleccionada="",this.horaSeleccionada=""})}cargarHorarios(e,n){if(e!=null&&n!=null){let r=this.doctores.find(i=>i.dni==e);if(console.log("Generando horarios para el doctor ->",r.horariosAtencion),r){let i=r.horariosAtencion;if(i&&i.length>0){this.arrayHorarios=[];let o=[];i.forEach(s=>{let[a,l]=s.split(" a "),[d,p]=a.split(":"),[m,y]=l.split(":"),I=parseInt(d),A=parseInt(p),j=parseInt(m),V=parseInt(y);for(let $=I;$<j;$++)for(let J=A;J<60;J+=30){let ee=`${$.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`;o.push(ee)}}),o.sort();for(let s of o)this.arrayHorarios.push({horario:s,estado:"disponible"});this.turnosService.getTurnosByEspecialista(e.toString(),n).subscribe(s=>{for(let a of s){let l=a.hora,d=this.arrayHorarios.findIndex(p=>p.horario===l);d!==-1&&(this.arrayHorarios[d].estado="ocupado")}})}else console.log("El doctor seleccionado no tiene disponibilidad.")}else console.log("No se encontr\xF3 el doctor seleccionado.")}else console.log("Primera carga de horarios")}cargarProximosTurnos(){this.usuarioLogueado?.tipoUsuario=="Paciente"?this.turnosService.getProximosTurnos(this.usuarioLogueado.dni.toString()).subscribe(e=>{this.proximosTurnos=e.filter(n=>this.concatenatedFields(n).toLowerCase().includes(this.filtroFull.toLowerCase()))}):this.usuarioLogueado?.tipoUsuario=="Admin"&&this.turnosService.getProximosTurnosFull().subscribe(e=>{this.proximosTurnos=e.filter(n=>this.concatenatedFields(n).toLowerCase().includes(this.filtroFull.toLowerCase()))})}cargarHistorialClinico(){this.usuarioLogueado?.tipoUsuario=="Paciente"?this.turnosService.getHistoriaClinica(this.usuarioLogueado.dni.toString()).subscribe(e=>{this.historialClinico=e.filter(n=>this.concatenatedFields(n).toLowerCase().includes(this.filtroFull.toLowerCase()))}):this.usuarioLogueado?.tipoUsuario=="Admin"&&this.turnosService.getHistoriaFull().subscribe(e=>{this.historialClinico=e.filter(n=>this.concatenatedFields(n).toLowerCase().includes(this.filtroFull.toLowerCase()))})}cargarPacientes(){}concatenatedFields(e){let n=(ae,R="")=>ae??R,r=n(e.apellidoDoctor),i=n(e.apellidoPaciente),o=n(e.atencionDoc?.altura),s=n(e.atencionDoc?.peso),a=n(e.atencionDoc?.presion),l=n(e.atencionDoc?.temperatura),d=n(e.atencionDoc?.datosDinamicos[0].clave),p=n(e.atencionDoc?.datosDinamicos[0].valor),m=n(e.atencionDoc?.datosDinamicos[1].clave),y=n(e.atencionDoc?.datosDinamicos[1].valor),I=n(e.atencionDoc?.datosDinamicos[2].clave),A=n(e.atencionDoc?.datosDinamicos[2].valor),j=n(e.confirmacionDoctor),V=n(e.especialidad),$=n(e.fecha),J=n(e.hora),ee=n(e.nombreDoctor),ie=n(e.nombrePaciente),Ne=n(e.obraSocialPaciente);return`${ee} ${r} ${ie} ${i} ${o} ${s} ${a} ${l} ${j} ${V} ${$} ${J} ${ie} ${Ne} ${d} ${p} ${m} ${y} ${I} ${A}`}static \u0275fac=function(n){return new(n||t)(q(hg),q(Vt),q(Lo))};static \u0275cmp=ze({type:t,selectors:[["app-panel-paciente"]],standalone:!0,features:[Qe],decls:26,vars:3,consts:[[1,"paciente-container",2,"margin-bottom","50px"],[1,"row"],[1,"col-md-4"],[1,"menu-option-card",3,"click"],[1,"menu-option-content"],[1,"fas","fa-calendar-plus"],[1,"fa-solid","fa-business-time"],[4,"ngIf"],[1,"fas","fa-file-medical-alt"],[1,"form-group"],["for","especialidad"],[1,"botones-especialidades"],["appHighlightElement","","appExpandirHover","","class","btn-especialidad",3,"ngClass","click",4,"ngFor","ngForOf"],["appHighlightElement","","appExpandirHover","",1,"btn-especialidad",3,"click","ngClass"],[1,"imagen-container"],["appDefaultImage","",1,"imagen-especialidad",3,"src","alt"],[1,"texto-especialidad"]],template:function(n,r){n&1&&(X(0,"app-header"),E(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),re("click",function(){return r.mostrarReservarTurno=!0,r.mostrarProximosTurnos=!1,r.mostrarHistorialClinico=!1,r.cargarHorarios(r.dniDoctorSeleccionado,r.fechaSeleccionada)}),E(5,"div",4),X(6,"i",5),E(7,"h4"),x(8,"Reservar Turno"),w()()()(),E(9,"div",2)(10,"div",3),re("click",function(){return r.mostrarProximosTurnos=!0,r.mostrarReservarTurno=!1,r.mostrarHistorialClinico=!1,r.cargarProximosTurnos()}),E(11,"div",4),X(12,"i",6),K(13,W6,2,0,"h4",7)(14,K6,2,0,"h4",7),w()()(),E(15,"div",2)(16,"div",3),re("click",function(){return r.mostrarProximosTurnos=!1,r.mostrarHistorialClinico=!0,r.mostrarReservarTurno=!1,r.cargarHistorialClinico()}),E(17,"div",4),X(18,"i",8),E(19,"h4"),x(20,"Historial Atenciones"),w()()()()()(),E(21,"div",9)(22,"label",10),x(23,"Selecciona una especialidad:"),w(),E(24,"div",11),K(25,Q6,5,6,"button",12),w()()),n&2&&(k(13),L("ngIf",(r.usuarioLogueado==null?null:r.usuarioLogueado.tipoUsuario)=="paciente"),k(),L("ngIf",(r.usuarioLogueado==null?null:r.usuarioLogueado.tipoUsuario)=="administrador"),k(11),L("ngForOf",r.especialidades))},dependencies:[$t,rS,po,Yt,mn,vo],styles:[".menu-option-card[_ngcontent-%COMP%]{cursor:pointer;background-color:#f8f9fa;border:1px solid #ced4da;border-radius:15px;padding:20px;margin-bottom:20px;transition:background-color .3s ease,transform .2s ease}.menu-option-card[_ngcontent-%COMP%]:hover{background-color:#e9ecef;transform:scale(1.05)}.menu-option-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.menu-option-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#007bff;margin-bottom:10px}.botones-especialidades[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center}.btn-especialidad[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1rem;width:120px;height:150px;background-color:#f8f9fa;border:2px solid transparent;border-radius:8px;cursor:pointer;box-shadow:0 4px 6px #0000001a;transition:all .3s ease}.btn-especialidad[_ngcontent-%COMP%]:hover{border:2px solid #007bff;transform:translateY(-5px);box-shadow:0 8px 12px #0003}.btn-especialidad.selected[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-color:#0056b3}.imagen-container[_ngcontent-%COMP%]{width:80px;height:80px;overflow:hidden;border-radius:50%;background-color:#e9ecef;display:flex;align-items:center;justify-content:center}.imagen-especialidad[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:cover}.texto-especialidad[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.9rem;font-weight:700;text-align:center;color:#343a40}"]})};var pg=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ze({type:t,selectors:[["app-perfil"]],standalone:!0,features:[Qe],decls:2,vars:0,template:function(n,r){n&1&&(E(0,"p"),x(1,"perfil works!"),w())}})};var LP=(t,e)=>!0;var mg=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ze({type:t,selectors:[["app-gestion-usuarios"]],standalone:!0,features:[Qe],decls:2,vars:0,template:function(n,r){n&1&&(E(0,"p"),x(1,"gestion-usuarios works!"),w())}})};var VP=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"header",component:mn},{path:"home",component:Gm},{path:"login",component:cg},{path:"registro",component:Jc},{path:"registro/paciente",component:Zc},{path:"registro/especialista",component:Qc},{path:"registro/administrador",component:Yc},{path:"panelAdmin",component:dg},{path:"panelPaciente",component:fg},{path:"perfil",component:pg},{path:"error",component:lg},{path:"gestion-usuarios",component:mg,canActivate:[LP]}];var fd=class{constructor(e){return e}},UP="storage",zE=class{constructor(){return Ps(UP)}};var qE=new te("angularfire2.storage-instances");function Y6(t,e){let n=dc(UP,t,e);return n&&new fd(n)}function Z6(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new fd(r)}}var J6={provide:zE,deps:[[new bt,qE]]},X6={provide:fd,useFactory:Y6,deps:[[new bt,qE],hr]};function jP(t,...e){return rt("angularfire",bi.full,"gcs"),Ln([X6,J6,{provide:qE,useFactory:Z6(t),multi:!0,deps:[je,Kt,Eo,Ei,[new bt,Ls],[new bt,bo],...e]}])}var BP=ut(Kp,!0);var $P={production:!1,firebaseConfig:{apiKey:"AIzaSyBJtHg96-UA6lDy6l1xuaVsKf85m4tDXng",authDomain:"clinica-online-b1cba.firebaseapp.com",projectId:"clinica-online-b1cba",storageBucket:"clinica-online-b1cba.appspot.com",messagingSenderId:"594226703420",appId:"1:594226703420:web:5f60bf4382c374aaf06739",measurementId:"G-4VKE4SX4KG"}};var HP={providers:[HT({eventCoalescing:!0}),QS(VP),IA(()=>CA($P.firebaseConfig)),wx(()=>Ex()),QR(()=>ZR()),jP(()=>BP())]};var gg=class t{title="clinica-online";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ze({type:t,selectors:[["app-root"]],standalone:!0,features:[Qe],decls:1,vars:0,template:function(n,r){n&1&&X(0,"router-outlet")},dependencies:[U_]})};hS(gg,HP).catch(t=>console.error(t));
